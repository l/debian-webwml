#use wml::debian::cdimage title="Downloading Debian CD images with jigdo" BARETITLE=true

<p>Jigsaw Download, or short <a href="http://atterer.net/jigdo/">jigdo</a>,
is intended to be the main way of distributing Debian CD images in the
future. Currently, the system works, but is not yet very comfortable to use
because the download manager application is not finished. <em>At the moment,
you need a Linux/Unix system to use jigdo.</em></p>

<p><strong>Why is jigdo better than a direct download?</strong> Because it
is faster! For various reasons, there are far fewer mirrors for CD images
than there are for the "normal" Debian archive. Consequently, if you
download from a CD image mirror, that mirror will not only be further away
from you, it will also be overloaded, especially just after a release.</p>

<p>Of course, a "normal" Debian mirror does not carry any CD images, so how
can jigdo download them there? jigdo achieves this by downloading
individually all the files that are on the CD. In the next step, all these
files are assembled in one big file which
is an exact copy of the CD image. However, all this happens
behind the scenes - all that <em>you</em> need to do is tell the download
tool the location of a "<tt>.jigdo</tt>" file to process.</p>

<p><strong>What images are available?</strong></p>

<ul>

  <li>Official jigdo files for the <a
  href="http://cdimage.debian.org/~atterer/jigdo/">latest "stable"
  release</a></li>

  <li>Unofficial jigdo files for the <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/woody/jigdo/">\
  "testing" distribution</a>, <em>generated daily</em></li>

  <li>Unofficial jigdo files for the <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid/jigdo/">\
  "unstable" distribution</a>, <em>generated daily</em></li>

</ul>

<p><strong>What steps are necessary to download an image with
jigdo?</strong></p>

<ul>

  <li>Download a package containing <tt>jigdo-file</tt>. jigdo-file is
  available in various forms from the <a
  href="http://atterer.net/jigdo/">jigdo homepage</a>. The package
  also contains the <tt>jigdo-lite</tt> script.</li>

  <li>Run the <tt>jigdo-lite</tt> script. It will ask for the URL
  of a "<tt>.jigdo</tt>" file to process. (You can also supply
  that URL on the command line if you like.)</li>

  <li>Pick what you want to download from one of the three locations
  listed above, and enter the URL of that "<tt>.jigdo</tt>" file.</li>

  <li>Follow the instructions printed by the script. If all goes well, the
  script finishes by calculating a checksum of the generated image and
  telling you that the checksum matches that of the original image.</li>

</ul>

<p>jigdo is capable of "upgrading" an older version of a CD image to the
supplied image - in this case, only what has changed will be downloaded.
Also, people running their own local Debian mirror can supply a "file:" URL
when asked for the mirror URI.</p>

<p>If you want to have a look at the prototype of the GUI download
application or some experimental binaries for Windows, see the
<a href="http://atterer.net/jigdo/">jigdo homepage</a>. Volunteers willing
to help with jigdo development are always welcome!</p>

<hr>

<p><strong>Aargh! The script fails with an error - have I downloaded all
those MBs in vain?!</strong></p>

<p>Of course this Should Not Happen(tm), but for various reasons you
may end up in a state where a large "<tt>.iso.tmp</tt>" file has
already been generated and <tt>jigdo-lite</tt> appears to have
problems, telling you repeatedly to try restarting the download. There
are several possible things to try in this case:</p>

<ul>

  <li>Simply restart the download by pressing Return. Maybe some of
  the files could not be downloaded because of timeouts or other
  transient errors - another attempt will be made to download any
  missing files.</li>

  <li>Try a different mirror. Some Debian mirrors are slightly out of
  sync - maybe a different mirror still holds files that were deleted
  from the one you specified, or it has already been updated with
  files that are not yet present on your mirror.</li>

  <li>Retrieve the missing parts of the image using <tt><a
  href="http://rsync.samba.org/">rsync</a></tt>. First, you need to
  find out the correct rsync URL of the image you are downloading:
  Choose a server that offers rsync access to the <a
  href="../mirroring/rsync-mirrors">stable</a> or <a
  href="../http-ftp/#testing">testing</a> images, then determine the
  correct path and filename. Directory listings can be obtained with
  commands like
  <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>

  <br>Next, remove the "<tt>.tmp</tt>" extension from
  <tt>jigdo-lite</tt>'s temporary file by renaming it, and pass both
  the remote URL and the local filename to rsync:
  <tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso
  binary-i386-1.iso</tt>

  <br>You may want to use rsync's <tt>--verbose</tt> and
  <tt>--progress</tt> switches to get status messages, and
  <tt>--block-size=8192</tt> to increase its speed.

</ul>
