<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>Linux/Alpha Frequently Asked Questions: How To Run DEC Unix Netscape on Linux/Alpha</TITLE>
 <LINK HREF="FAQ-18.html" REL=next>
 <LINK HREF="FAQ-16.html" REL=previous>
 <LINK HREF="FAQ.html#toc17" REL=contents>
</HEAD>
<BODY>
<A HREF="FAQ-18.html">Next</A>
<A HREF="FAQ-16.html">Previous</A>
<A HREF="FAQ.html#toc17">Contents</A>
<HR>
<H2><A NAME="s17">17. How To Run DEC Unix Netscape on Linux/Alpha</A></H2>

<P>(This section was contributed by 
<A HREF="mailto:gander@voyager.netcomi.com">Gerald Anderson</A>.  Note that the Linux/x86
Netscape binary can be run through 
<A HREF="ftp://ftp.digital.com/pub/DEC/Linux-Alpha/em86/">em86</A>.
This is a bit slower, but doesn't require any special licenses.
Now that Netscape's sourcecode is available, we expect to see a native
Linux/Alpha version in the near future. However porting to 64bit proved
more difficult than expected. A fairly stable version of Mozilla is
available for download from 
<A HREF="http://www.alphalinux.org">the Alpalinux Homepage</A>. Or check out 
<A HREF="http://www.unix-ag.org/Linux-Alpha/Mozilla/">Nils Faerber</A>'s
page for the latest developments.)
<P>
<P> Support for running ECOFF (the OSF and DU version of <CODE>a.out</CODE>)
binaries must have been built into the Linux/Alpha kernels.  In
effect, this allows you to run with minimal difficulty a large variety
of programs that were orginally compiled on an OSF/1 or Digital Unix
Alpha.
<P>
<BLOCKQUOTE>
<B>IMPORTANT:</B> All Digital software mentioned in this section is
copyright by Digital and other parties.  You cannot legally use any of
this software on your Linux box without the appropriate license(s) for
that machine.  If your machine is owned by a university, it may be
covered by a campus license agreement---check with your local
representative.
</BLOCKQUOTE>
<P>
<P>
<H2><A NAME="ss17.1">17.1 Requirements</A>
</H2>

<P>There are two separate lists of requirements depending on if you
have access to OSF/1 v3.x or Digital Unix 4.x (Editor's note: Digital
renamed DEC OSF/1 to DEC Unix somewhere around release 3.2---it's the
same OS, just different releases).
<P>
<DL>
<DT><B>For DEC OSF/1 up to and including v3.2:</B><DD><P>
<UL>
<LI>Linux kernel version 2.0.x or 2.1.x (you must have ECOFF
support compiled in)</LI>
<LI> Access to an Alpha running OSF/1 3.x</LI>
</UL>
<DT><B>For DEC Unix version v4.0 or newer:</B><DD><P>
<UL>
<LI> Linux kernel version 2.1.23+ (you must have ECOFF support
compiled in)</LI>
<LI> Access to an Alpha running DU 4.x</LI>
</UL>
</DL>
<P>
<P>
<H2><A NAME="ss17.2">17.2 How-To</A>
</H2>

<P>For both OSF/1 3.x and Digital Unix 4.x you must complete the
following.
<P>
<OL>
<LI> Get <CODE>/sbin/loader</CODE> from the Digital machine and place it
in <CODE>/sbin/loader</CODE> on your Linux box.
</LI>
<LI>  Create a directory on your Linux box for <CODE>/usr/shlib</CODE>
 </LI>
<LI>  Get the following libraries from the Digital box and place in the 
<CODE>/usr/shlib</CODE> directory on your Linux box
<UL>
<LI><CODE>libXm.so</CODE></LI>
<LI><CODE>libXmu.so</CODE></LI>
<LI><CODE>libm.so</CODE></LI>
<LI><CODE>libX11.so</CODE></LI>
<LI><CODE>libXt.so</CODE></LI>
<LI><CODE>libdnet_stub.so</CODE></LI>
<LI><CODE>libc.so</CODE></LI>
<LI><CODE>libXext.so</CODE></LI>
</UL>

If you are going to use Digital Unix 4.0 libs/loader you must also get:
<UL>
<LI><CODE>libSM.so</CODE></LI>
<LI><CODE>libICE.so</CODE></LI>
</UL>

 </LI>
<LI> Get the file <CODE>/etc/svc.conf</CODE> from the Digital box and
place it in <CODE>/etc/svc.conf</CODE> on your Linux box.
 </LI>
<LI>  Download from 
<A HREF="ftp://ftp.netscape.com/">ftp.netscape.com</A> the OSF/Alpha version of navigator
(e.g., get <CODE>netscape-v301-export.alpha-dec-osf2.0.tar.gz</CODE>
from 
<A HREF="ftp://ftp.netscape.com/pub/navigator/3.01/unix/">this</A>
directory).
 </LI>
<LI>  Install it
 </LI>
<LI>  Run it!!  </LI>
</OL>
 
<P>
<H2><A NAME="ss17.3">17.3 Conclusion</A>
</H2>

<P> This procedure has been tested on a RedHat 4.0 and RedHat 4.1 box
with kernel versions 2.0.27, 2.0.28 (for OSF/1 3.x) and 2.1.23 (for DU
4.x).  It seems to be very stable when running the OSF/1 libs/loader
but I've noticed some problems with Segmentation Faults using the DU
4.0 libs/loader.  I've also noticed that when using DU 4.0 libs/loader
that the <CODE>/etc/svc.conf</CODE> file is not as necessary as when
running the OSF/1 stuff.  It does complain, but it is not fatal.
<P>If you have questions regarding this document please first refer to
the archives for the axp-list mailing list/archive at 
<A HREF="http://www.redhat.com/support/mailing-lists/">http://www.redhat.com</A>, then if you
didn't find your answer feel free to mail me at 
<A HREF="mailto:gander@voyager.netcomi.com">gander@voyager.netcomi.com</A>.
<P>All other comments regarding this section may be sent directly to 
<A HREF="mailto:gander@voyager.netcomi.com">gander@voyager.netcomi.com</A>.
<P>
<BLOCKQUOTE>
<B>NOTE:</B> Java applets do not work with any version of OSF/1 or DU
libs/loader.  I have not heard if anybody is working on this, or what
the problem is.
</BLOCKQUOTE>
<P>Following is a note received from Linus regarding support for DU 4.0
libs/loader, if you do email him, please insure as noted that the
problem is detailed and reproducible.
<P>Notes about using Digital Unix 4.0
<P>
<BLOCKQUOTE><CODE>
<PRE>
From axp-list@redhat.com
> 
> Please report any problems wrt Digital UNIX binary compatibility to me,
> and I'll look into them (assuming the report is detailed and reproducible
> enough). There is a known problem with initial argument handling: argv[0]
> is /sbin/loader instead of the program we actually run, and I haven't
> looked into this one yet (and currently that's pretty low on my list of
> things to look at..). This problem _may_ be related to netscape getting a
> SIGSEGV if you start it without any arguments (but if you give it
> arguments it works fine at least for me). 
> 
>               Linus
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H2><A NAME="ss17.4">17.4 Mail</A>
</H2>

<P>After setting Netscape up like this, sending E-Mail still fails. Oleg
Gusev came up with the following solution:
<UL>
<LI>mkdir /etc/sia/</LI>
<LI>touch /etc/sia/siainitgood</LI>
<LI>copy /etc/sia/matrix.conf from DU to Linux</LI>
</UL>

He also came up with a patch to fix the argv[0] problem mention in Linus'
quote. Check the axp-list archive at RedHat.
<P>
<H2><A NAME="ss17.5">17.5 Threads</A>
</H2>

<P>When you receive errors that mention DECthreads you need to do the following:
<UL>
<LI> (re)move libpthread.so and libpthreads.so from the shared library directory</LI>
<LI> <CODE>ln -sf /usr/shlib/libc.so /usr/shlib/libpthread.so/</CODE></LI>
<LI> <CODE>ln -sf /usr/shlib/libc.so /usr/shlib/libpthreads.so/</CODE></LI>
</UL>

This problem is known to occur with recent Netscapes and with Adobe Acrobat 3.
<P>
<HR>
<A HREF="FAQ-18.html">Next</A>
<A HREF="FAQ-16.html">Previous</A>
<A HREF="FAQ.html#toc17">Contents</A>
</BODY>
</HTML>
