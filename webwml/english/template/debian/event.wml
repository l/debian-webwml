<define-tag eventtitle whitespace=delete>
	[EN:Upcoming Attractions:]
	[PT:Atrações Vindouras:]
	[HR:Nadolazeæe atrakcije:]
	[FR:Attractions à venir:]
	[DE:Kommende Ereignisse:]
	[IT:Upcoming Attractions:]
	[JA:Upcoming Attractions:]
	[PL:Nadchodz¹ce Atrakcje:]
	[ES:Próximas Atracciones:]
	[ZH:Upcoming Attractions:]
</define-tag>
<define-tag notvalid whitespace=delete>
	[EN:link may no longer be valid:]
	[PT:link pode não mais ser válido:]
	[HR:veza mo¾da vi¹e ne radi:]
	[FR:le lien n'est peut-être plus valide:]
	[DE:Link könnte veraltet sein:]
	[IT:link may no longer be valid:]
	[JA:link may no longer be valid:]
	[PL:odno¶nik mo¿e nie byæ ju¿ aktualny:]
	[ES:el enlace puede no ser ya válido:]
	[ZH:link may no longer be valid:]
</define-tag>
<define-tag langwhen whitespace=delete>
	[EN:When:]
	[PT:Quando:]
	[HR:Kada:]
	[FR:Quand:]
	[DE:Wann:]
	[IT:When:]
	[JA:Æü»þ:]
	[PL:Kiedy:]
	[ES:Cuando:]
	[ZH:When¡]¦ó®É*¡^:]
</define-tag>
<define-tag langwhere whitespace=delete>
	[EN:Where:]
	[PT:Onde:]
	[HR:Gdje:]
	[FR:Où:]
	[DE:Wo:]
	[IT:Where:]
	[JA:¾ì½ê:]
	[PL:Gdzie:]
	[ES:Dónde:]
	[ZH:Where¡]¦ó³B*¡^:]
</define-tag>
<define-tag debinvolve whitespace=delete>
	[EN:Debian Involvement:]
	[PT:Envolvimento do Debian:]
	[HR:Upletenost Debiana:]
	[FR:Participation de Debian:]
	[DE:Mitwirkung von Debian:]
	[IT:Debian Involvement:]
	[JA: Debian ´ØÏ¢¾ðÊó:]
	[PL:Debian Involvement:]\
	[ES:Implicación de Debian:]
	[ZH:Debian Involvement:]
</define-tag>
<define-tag maincoordinator whitespace=delete>
	[EN:Main Coordinator:]
	[PT:Coordenador Principal:]
	[HR:Glavni koordinator:]
	[FR:Principal Coordinateur:]
	[DE:Hauptkoordinator:]
	[IT:Main Coordinator:]
	[JA:Main Coordinator:]
	[PL:G³ówny koordynator:]
	[ES:Coordinador Principal:]
	[ZH:¡]«ÝÄ¶¡GMain Coordinator¡^:]
</define-tag>
<define-tag projcoordinator whitespace=delete>
	[EN:<TH>Project</TH><TH>Coordinator</TH>:]
	[PT:<TH>Coordenador de</TH><TH>Projeto</TH>:]
	[HR:<TH>Projekt</TH><TH>Koordinator</TH>:]
	[FR:<TH>Projet</TH><TH>Coordinateur</TH>:]
	[DE:<TH>Projekt-</TH><TH>Koordinator</TH>:]
	[IT:<TH>Project</TH><TH>Coordinator</TH>:]
	[JA:<TH>Project</TH><TH>Coordinator</TH>:]
	[PL:<TH>Opis</TH><TH>Koordynatora</TH><TH>Projektu</TH>:]
	[ES:<TH>Coordinador de</TH><TH>Proyecto</TH>:]
	[ZH:<TH>­p¹º</TH><TH>¡]«ÝÄ¶¡GCoordinator¡^</TH>:]
</define-tag>
<define-tag relatedlinks whitespace=delete>
	[EN:Related Links:]
	[PT:Links Relacionados:]
	[HR:Srodne veze:]
	[FR:Liens connexes:]
	[DE:Weitere Links:]
	[IT:Related Links:]
	[JA:´ØÏ¢¥ê¥ó¥¯:]
	[PL:Odno¶niki do powi±zanych tematów:]
	[ES:Enlaces Relacionados:]
	[ZH:¬ÛÃö¡]«ÝÄ¶¡GLinks¡^:]
</define-tag>

#use wml::debian::basic title="<eventtitle>"
#use wml::debian::languages

# DO NOT translate anything below. If you feel something needs to be modified
# write to debian-www first

<perl>
#############################################################################
# grabs the date and title of the last $number news items from directory $path.
# If $number is zero then all the news items are shown.
sub get_recent_list 
{
  my ( $path, $number, $current_dir, $match ) = @_;

  opendir(DIR, "$current_dir/$path");
  @files = grep { /^$match.wml$/ && -f "$current_dir/$path/$_" } readdir(DIR);
  @files = sort {$b cmp $a} @files;
  closedir DIR;

	$str = '<TR><TD>(<none>)</TD></TR>';

  $count = 0;
  foreach (@files) 
  {
     $count++;
     open(FILE, "<$path/$_") || open(FILE, "<$current_dir/$path/$_");
     if ( /($match).wml/ ) 
	 {
        $base = $1;
     }
     $title = ''; $date = ''; $contact = ''; $email = ''; $desc = '';
     foreach $line (<FILE>) 
	 {
        if ($line =~ /^<define-tag pagetitle>(.*)<\/define-tag>$/) 
		{
           $title = $1;
        }
        elsif ($line =~ /^<define-tag date>(.*)<\/define-tag>$/) 
		{
           $date = $1;
        }
        elsif ($line =~ /^<define-tag contact>(.*)<\/define-tag>$/) 
		{
           $contact = $1;
        }
        elsif ($line =~ /^<define-tag email>(.*)<\/define-tag>$/) 
		{
           $email = $1;
        }
        elsif ($line =~ /^<define-tag desc>(.*)<\/define-tag>$/) 
		{
           $desc = $1;
        }
		if ($title && $date) 
		{
           $str = "<tt>[$date]</tt> <strong><a href=\"$path/$base\">$title</a></strong><br>\n";
           last;
		}
		elsif ($title && $contact && $email && $desc)
		{
           $str = "<TR><TD><A HREF=\"$path/$base\">$title</A></TD><TD><A HREF=\"mailto:$email\">$contact</A></TD><TD>$desc</TD></TR>\n";
		   last;
		}
		elsif ($title && $contact && $desc)
		{
           $str = "<TR><TD><A HREF=\"$path/$base\">$title</A></TD><TD>$contact</TD><TD>$desc</TD></TR>\n";
		}
     }
     close FILE;
     if ($count eq $number) { last; }
  }
close DIR;
return $str;
}

#############################################################################
# grabs the date and title of the last $number news items from directory $path.
# If $number is zero then all the news items are shown.
sub make_link 
{
  	my ( $url, $text, $temp ) = @_;
	
	$str = "$text - $url (<notvalid>)";
	return $str
}
</perl>

<HR>
<H2><pagetitle></H2>
	<STRONG><langwhen>:</STRONG>  <date><BR>
	<STRONG><langwhere>:</STRONG>  <where><BR>
	<STRONG>URL:</STRONG>  <a href="<infolink>"><infolink></a><BR>

<HR>
<intro>

<HR>
<H2><debinvolve></H2>
<involve>
<P><STRONG><maincoordinator>:</STRONG>  <coord>
<TABLE>
	<TR><projcoordinator></TR>
	<:= get_recent_list ( '<abbr>', '0', '$(ENGLISHDIR)/events/<year>', 'project-\w+' ) :>
</TABLE>

<HR>
<H2><latestnews></H2>
<:= get_recent_list ( '<abbr>', '0', '$(ENGLISHDIR)/events/<year>', 'news-\d+\w*' ) :>

<HR>
<H2><relatedlinks></H2>
<<mainbody>>

<:= languages() :>
#use wml::debian::footer

..mainbody>>

