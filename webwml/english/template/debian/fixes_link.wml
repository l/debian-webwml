<perl>

# creates a link given the parameters or returns "arch: N/A" or "arch: not
# fixed" if applicable
# if $stable = "none" then not fixed is sent
# if $stable = "" then not applicable is sent

sub fixes_link 
{
  	my ( $release, $arch, $section, $package, $version ) = @_;

	if ( $release eq "not" )
	{
		$str = "<DD>not needed";
	}
	elsif ( $release eq "bo" )
	{
		$str = "<DD>$arch - (in release 1.3) $version";
	}
	elsif ( $release eq "hamm" )
	{
		$str = "<DD>$arch - (in release 2.0) ";
		if ( $version eq "not" )
		{
			$str .= "N/A";
		}
		elsif( $version eq "none" )
		{
			$str .= "Not Available";
		}
		else
		{
			if ( $section eq "" )
			{
				$str .= "$version";
			}
			else
			{
				$str .= "<A HREF=\"/Packages/stable/$section/$package.html\">";
				$str .= "$version</A>";
			}
		}
	}
	elsif ( $release eq "slink" )
	{
		$str = "<DD>$arch - (in release 2.1) ";
		if ( $version eq "not" )
		{
			$str .= "N/A";
		}
		elsif( $version eq "none" )
		{
			$str .= "Not Available";
		}
		else
		{
			if ( $section eq "" )
			{
				$str .= "$package-$version";
			}
			else
			{
				$str .= "<A HREF=\"/Packages/frozen/$section/$package.html\">";
				$str .= "$package-$version</A>";
			}
		}
	}
	elsif ( $release eq "potato" )
	{
		$str = "<DD>$arch - (in release 2.2) ";
		if ( $version eq "not" )
		{
			$str .= "N/A";
		}
		elsif( $version eq "none" )
		{
			$str .= "Not Available";
		}
		else
		{
			if ( $section eq "" )
			{
				$str .= "$package-$version";
			}
			else
			{
				$str .= "<A HREF=\"/Packages/unstable/$section/$package.html\">";
				$str .= "$package-$version</A>";
			}
		}
	}
	return $str;
}

</perl>
