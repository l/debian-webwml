#use wml::debian::template title="Translating Pages"

<P>To make the job of the translators as easy as possible the pages are
generated a bit differently than many of you will be used to. The web pages
are actually generated using source that is marked up with <a href="http://www.engelschall.com/sw/wml/"><tt>wml</tt></a>.
There are separate directories for each language.

<p>If you plan to start an entire new translation of the Debian
website, please continue with the <a href="#overview">overview</a>.

<h3>Translating single pages</h3>

<p>Please don't translate plain HTML pages since this won't help us.
Due to the fact that we use WML for maintenance and creation of web
pages, content and general elements are stored separately.  If you want to
help with a particular translation, please copy the current source for
the website to your disk <a href="using_cvs">using CVS</a>.  You'll need
to check out at least the <tt>english/</tt> and
<tt>&lt;language&gt;/</tt> directories.

<p>To translate a single page from english into your preferred
language, copy the original .wml file from <tt>english/foo/bar</tt>
into <tt>&lt;language&gt;/foo/bar</tt>.  Add #use
wml::debian::translation-check after the last #use statement.  Please
read the details about this <a href="uptodate">translation-check</a>.
You may also use the <tt>copypage.pl</tt> script in the webwml root
directory to copy the page and add the required header automatically.
After this is done, translate the entire page and send it to <a
href="translation_coordinators">somebody</a> with write access to the
repository.  You should be able to test the page by issuing <tt>make
file.&lt;lang&gt;.html</tt>.

<h3><a name=overview>Overview - Starting a new translation</a></h3>

<p>To start a new translation, someone must first edit the wml
template and data files and add translation slices
for your language. The page on <a href="using_wml">using wml</a> has
information on slices that you will find helpful when translating the
template files.  The best way to find all files that use slices is to
run <protect><code>grep '\[EN:' `find -type f`|cut -d: -f1|uniq</code></protect> in the
english directory.

<p>The next thing to do is to create a new directory for the translation,
and copy <tt>Make*</tt> and <tt>.wmlrc</tt> files from the english/
directory to the new translation directory.

<p>The Makefiles have been designed so that almost nothing needs to be
modified when copying them to a new language directory in preparation for
translation.

<p>The following are the only changes anticipated:

<ol>
  <li>The variable LANGUAGE must be changed in webwml/&lt;language&gt;/Make.lang
      file.

  <li>The variables CUR_LANG, CUR_ISO_LANG and CHARSET must be changed in
      webwml/&lt;language&gt;/.wmlrc file.

  <li>Some languages may need extra processing to handle the charset. This
      can be done using the --prolog and --epilog options to wml. Use the
      WMLPROLOG and WMLEPILOG variables in Make.lang to do this.
</ol>

<p>Comments in files will indicate if there are items that should not be
translated; respect them.

<p>Note: if you find you need to make any other changes, send mail to
debian-www saying what you changed and why, so the problem can be corrected.

<p>You can ignore subdirectories listed in the SUBS variable of a Makefile
even if they don't exist in the translation directory. When you translate a
sub-directory, make sure that it's mentioned in the SUBS variable of the
Makefile in its parent directory, otherwise it won't get built.

<p>You can now start translating *.wml files. Copy each file from
../english/, translate it, test it with <tt>make file.&lt;lang&gt;.html</tt> (and <tt>weblint
file.wml</tt>), and when you're finished, commit it <a href="using_cvs">to
CVS</a>.  Please ensure that your translation is buildable, because if
not, it might break the build process of the entire website.

<p>When copying files, do not copy CVS directories or files in them from
the english/ directory into your own.  If you do so accidentally and
commit translations later, cvs will update the english files with your
translation, which will confuse/annoy a lot of people.

<p>Since we use <a href="$(HOME)/intro/cn">content negotiation</a>
HTML files are not named <tt>file.html</tt> but
<tt>file.&lt;lang&gt;.html</tt>, where <tt>&lt;lang&gt;</tt> is the
two letter code of the language, according to ISO 639 (e.g. <tt>fr</tt>
for French).

<p>Note: when a page is first translated, the other languages will not
create links to your page until they are regenerated.

<h3>The rest of the story</h3>

<p>The description above is probably not enough to get you started.
Below is a number of links that will explain the above steps in more
detail and provide additional useful information.

<ul>
<li>A number of <a href="examples">examples</a> are provided to give you
    a clearer idea of how to get started.
<li>A number of common questions are answered and helpful hints provided in
    the <a href="translation_hints">translation hints</a> page.
<li>To give your pages a professional look, you will want to
    <a href="navbar_images">translate the navbar images</a>.
<li>Most of the translations use the program <a href="uptodate">check_trans</a>
    to help them keep the translation up to date.
<li><a href="http://people.debian.org/~joey/webwml/">Website
    Translation Statistics</a> contain a public report about all translations.
</ul>

<P>We hope you find the work we've done will make translating
the pages as easy as possible. As has already been mentioned, if
you have any questions, you can ask them on the <a
href="mailto:debian-www@lists.debian.org">debian-www</a> mailing
list.
