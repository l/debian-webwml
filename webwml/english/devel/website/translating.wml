#use wml::debian::template title="Translating Debian web pages" BARETITLE=true

<P>To make the job of the translators as easy as possible the pages are
generated a bit differently than many of you will be used to. The web pages
are actually generated using source that is marked up with
<a href="http://www.engelschall.com/sw/wml/"><tt>wml</tt></a>.
There are separate directories for each language.

<p>If you plan to start an entirely new translation of the Debian web site,
please see the <a href="#completenew">section on starting a new
translation</a>.

<h2>Translating individual pages</h2>

<p>Please don't translate the HTML pages. We use WML source files and
the content and common elements are stored separately.  If you want to
help with a particular translation, please <a href="using_cvs">use CVS</a>
to acquire the current sources.  You'll need to check out at least two
directories: <tt>english/</tt> and <tt>&lt;language&gt;/</tt>.

<p>To translate a single page from English into your language, copy the
original .wml file from <tt>english/foo/bar</tt>
into <tt>&lt;language&gt;/foo/bar</tt>.  Add 
<kbd>#use wml::debian::translation-check translation="x.y"</kbd> after the
last #use statement (see <a href="uptodate">about translation-check</a>).
You may also use the <tt>copypage.pl</tt> script in the webwml root
directory to copy the page and add the required header automatically.
After this is done, translate the entire page and send it to <a
href="translation_coordinators">somebody</a> with write access to the
repository.  You should be able to test the page by issuing <tt>make
file.&lt;lang&gt;.html</tt>.

<h2><a name="completenew">Starting a new translation</a></h2>

<p>If you would like to start translation of the Debian web pages into
a new language, send us e-mail (in English) at
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>.

<p>First of all, make sure you have made a proper checkout of our source
tree, as described <a href="using_cvs">on our CVS introduction page</a>.</p>

<p>After you have checked out the webwml/ directory and (at least)
webwml/english/, start by creating a new directory for your translation,
next to english/ and others. The name of the translation directory must
be in English and entirely lowercase (e.g. "german", not "Deutsch").</p>

<p>Copy the <tt>Make.lang</tt> and <tt>.wmlrc</tt> files from the english/
directory to the new translation directory. These files are essential for
building your translation from WML files. They have been designed so that
after you copy them to the new language directory, you only have to change
these things:</p>

<ol>
  <li>The variable LANGUAGE must be changed in the file <tt>Make.lang</tt>.

  <li>The variables CUR_LANG, CUR_ISO_LANG and CHARSET must be changed in
      the <tt>.wmlrc</tt> file. Add CUR_LOCALE to that, if you need it for
      sorting.

  <li>Some languages may need extra processing to handle the charset. This
      can be done using the --prolog and --epilog options to wml. Use the
      WMLPROLOG and WMLEPILOG variables in <tt>Make.lang</tt> to do this.

  <li>The variable LANGUAGES must be changed in top-level
      <tt>webwml/Makefile</tt> file so that your language will get built
      along with the other ones, on www.debian.org. We would prefer if you
      left this particular change up to the webmasters, because you may not
      be aware that your translation is broken when checked out of CVS
      afresh, which could break the building process of the rest of our web
      site.
</ol>

<p>After that is done, put the following line in a new file called
"Makefile" in that directory:

<pre>
<protect>include $(subst webwml/<var>yourlanguagedir</var>,webwml/english,$(CURDIR))/Makefile</protect>
</pre>

<p>(Replace <var>yourlanguagedir</var> with the name of your language's
directory, of course.)</p>

<p>Now create a subdirectory inside your language's directory called "po",
and copy the same Makefile to that subdirectory (<kbd>cp ../Makefile .</kbd>).
</p>

<p>In the po/ directory, run <kbd>make init-po</kbd> to generate the initial
set of *.po files.</p>

<p>Now that you have the skeleton set up, you can start
adding your translations in our shared WML tags used in templates.
The first templates that you should translate are those that appear
on all of the web pages, like the header keywords, the ALT tags for
the images, and the footer.</p>

# The page on <a href="using_wml">using WML</a> has more information on this.

<p>Start translating in the <code>po/templates.<var>xy</var>.po</code> file
(where <var>xy</var> is your language's two-letter code). For every
<code>msgid "<var>something</var>"</code> there is initially a
<code>msgstr ""</code> where you should fill in the translation of
<var>something</var> in the double quotes after <code>msgstr</code>.</p>

<p>You don't have to translate all of the strings in all of the .po files,
just those that your currently translated pages actually need. To see if you
need to translate a string, see the comments in the .po file just above each
<code>msgid</code> statement. If the referenced file is in
<tt>english/template/debian</tt>, then you should most likely translate it.
If not, you can postpone it for later, when you actually translate the
relevant section of the web pages that require it.</p>

<p>If you aren't sure if you did something properly, ask on the debian-www
mailing list before committing.</p>

<p>You should <a href="navbar_images">translate the text on the images</a>
in the red navigation bar, too.

<p>Comments in files will indicate if there are items that should not be
translated; respect them.

<p>Note: if you find you need to make any other changes, send mail to
debian-www saying what you changed and why, so the problem can be corrected.

<p>After the template skeleton is done, you can start with translating the
front page.</p>

<p>You can ignore subdirectories listed in the SUBS variable of a Makefile
even if they don't exist in the translation directory. When you translate a
sub-directory, make sure that it's mentioned in the SUBS variable of the
Makefile in its parent directory, otherwise it won't get built.

<p>You can now start translating *.wml files. For a list of files that
should be translated first, check <a href="translation_hints">the hints
page</a>.</p>

<p>Copy each file from ../english/, translate it, test it with
<tt>make file.&lt;lang&gt;.html</tt> (and <tt>weblint
file.wml</tt>), and when you're finished, commit it <a href="using_cvs">to
CVS</a>.  Please ensure that your translation is buildable, because if
not, it might break the build process of the entire web site.

# XXX replace with copypage.pl use

<p>When copying files, do not copy CVS directories or files in them from
the english/ directory into your own.  If you do so accidentally and
commit translations later, cvs will update the english files with your
translation, which will confuse/annoy a lot of people.

<p>Since we use <a href="content_negotiation">content negotiation</a>
HTML files are not named <tt>file.html</tt> but
<tt>file.&lt;lang&gt;.html</tt>, where <tt>&lt;lang&gt;</tt> is the
two letter code of the language, according to ISO 639 (e.g. <tt>fr</tt>
for French).

<h3>The rest of the story</h3>

<p>The description above will probably be enough to get you started.
Afterwards, you will want to refer to the following documents which provide
more detailed explanations and additional useful information.</p>

<ul>
<li>A number of <a href="examples">examples</a> are provided to give you
    a clearer idea of how to get started.
<li>A number of common questions are answered and helpful hints provided in
    the <a href="translation_hints">translation hints</a> page.
<li>We have mechanisms in place to aid in <a href="uptodate">keeping the
    translations up to date</a>.
<li>To see how your translation compares to others in the amount of files
    translated, check the <a href="stats/">statistics</a>.
</ul>

<P>We hope you find the work we've done will make translating
the pages as easy as possible. As has already been mentioned, if
you have any questions, you can ask them on the <a
href="mailto:debian-www@lists.debian.org">debian-www</a> mailing
list.
