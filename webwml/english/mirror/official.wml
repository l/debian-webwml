#use wml::debian::template title="Types of Mirrors"

<p>There are two types of Debian mirrors, <em>official</em> and
<em>unofficial</em>.

<h2>Unofficial Debian mirrors</h2>

<p>Anyone can mirror Debian. You don't even need our permission.
If you are not interested in becoming an official mirror, set up your
<a href="ftpmirror">FTP mirror</a> and <a href="submit">register it</a>.
The site will be an unofficial mirror and be listed as such on our
<a href="../misc/README.mirrors">mirror list</a>.

<p>Note that we do <strong>not</strong> require new mirrors for the web site
at this time (mirrors of our FTP archive are desirable, on the other hand).

<h2>Official Debian mirrors</h2>

<p>Some sites with good bandwidth like to help Debian by becoming an
<em>official mirror</em>.
Official mirrors get an address of the form ftp.&lt;country&gt;.debian.org.
These are the best advertised and most used sites; the face of Debian for
most people. Your donation would be suitably acknowledged on our
<a href="../donations">web site</a>.

<p>To become an official mirror, your site should meet the following
criteria:

<p>
<ul>
    <li>The site must be reliable and be up 24 hours a day. The machine must
	not be heavily loaded.
    <li>It must have a decent connectivity (relative to the respective country).
	Bandwidth equivalent to a T1 connection or better is preferred.
    <li>Disk space commitments (with room for expansion) -- see the
	<a href="size">mirror size page</a>.
    <li>If you are mirroring the packages (i.e. the FTP site):
    <ul type="disc">
	<li>The whole FTP archive should be mirrored, using a method that
	preserves time stamps of mirrored files (e.g. rsync) so that the
	times on files (UTC) match those on ftp.debian.org.
	<li>The mirror hierarchy must be available under /debian (and
	/debian-non-US if you mirror the non-US site, too).
	Rationale: for consistency between sites &mdash; you may simply
	place a symlink if you want to keep the mirror somewhere else.
	<li>The mirror should be made available using HTTP and rsync
	(ftp://ftp.site/debian/ should also be accessible as
	http://ftp.site/debian/ and rsync://ftp.site::debian/).
	Rationale: with HTTP/1.1, web transfers have the potential of being
	more efficient than with FTP, so we are trying to make a move in
	that direction. Rsync, on the other hand, is the preferred method of
	mirroring.
	<li>The mirror must be updated at least once a day, and the time of
	updating should be noted with a timestamp file in the project/trace/
	subdirectory of the mirror.
    </ul>
    <li>If you are mirroring the web pages (i.e. the WWW site):
    <ul type="disc">
	<li>A virtual server, with its own IP address.
	<li>content negotiation must be enabled in the HTTP server.
	Apache supports this quite well. This is to allow us to serve the web
	pages in multiple languages transparently (for those who have set up
	their browser properly).
	<br>
	See the section on <a href="webmirror#cn">content negotiation</a>.
	<li>the mirror must be updated at least twice a day, and the time of
	updating should be noted with a timestamp file in the
	mirror/timestamps/ directory of the mirror.
    </ul>
</ul>

<P>Please note that these are just guidelines, but we will be more likely to
accept your site as an official mirror if the above conditions are met. If
you are unsure of something, <a href="mailto:mirrors@debian.org">ask us</a>.

<P>Official mirrors should be registered just like any other mirror using
the <a href="submit">mirror submission form</a>. Additionally, a request to
become an official site, including exact information on bandwidth
consumption and limits for your site, should be sent to
<a href="mailto:mirrors@debian.org">mirrors@debian.org</a>. After the DNS
entry for the new official mirror is added, it will appear in the mirror
list and the <a href="../donations">donations web page</a>. Also, expect an
increase in traffic on the mirror once this happens.

<P>If possible, <a href="push_server">push-mirroring</a> should be set up
from Debian sites.

<P>Multiple official sites can be set up in each country. In large countries, like
the US, and countries with more than one major backbone that aren't well connected,
like Australia, it is even a good idea. The first site will be given the aliases
ftp.&lt;country&gt;.debian.org and ftp1.&lt;country&gt;.debian.org (similarly for WWW). Future
sites will simply be given an alias of the second type with the number incremented
appropriately.
