#use wml::debian::ddp title="DDP CVS Access"

<h2>The CVS server</h2>

The Debian Documentation Project stores its webpages and much of the
manual text on the Debian CVS server at <b>va.debian.org</b>.

<p>Only members of the Debian Documentation Project can update files on
the CVS server.  Others can access these files for downloading only.
  
<h2>Using CVSweb</h2>

You can use <a href="http://cvs.debian.org/ddp/?cvsroot=debian-doc">CVSWeb</a>
to access the files individually and see changes to them.

<p>For downloading an entire manual, direct access to the CVS server
is a better option.

<h2>Connecting to the server</h2>

You need the cvs package on your own machine.

<h3>If you have update privileges</h3>

To connect, enter this command:

<p><ul>
  <code>cvs -d :pserver:<i>user</i>@cvs.debian.org:/cvs/debian-doc login</code>
</ul>

<p>where <i>user</i> is your own user name on the CVS password server.
This is not the same as your login name in <b>va.debian.org</b>, if you
have one.

<p>You are then prompted for your password to the CVS server.  Do not
confuse this with your normal login password, whether on <b>va.debian.org</b>
or your own machine.

<p>You can then use normal CVS commands (see the CVS info pages) to check
out and commit files.

<h3>Anonymous (read-only) access</h3>

To connect, enter this command:
<p><ul>
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</ul>

<p>and just press the return key when you are asked for a password.

<p>You can then use normal CVS commands (see the CVS info pages) to
check out files, but you cannot update them.

<p>Where you see <code><i>user</i></code> in these instructions, type
<tt>anonymous</tt>.

<h2>Downloading the files</h2>

To download the files for the first time, create and move to a directory
to hold everything. Two directories, <strong>CVS</strong> and
<strong>ddp</strong>, will be created within this directory.

<p>Use this command to download all the files:

<p><ul>
  <code>cvs -d :pserver:<i>user</i>@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp</code>
</ul>

<p>This will recursively create the directories and populate them.

<p>To update your local copy with any changes made by other people, move to
the <strong>ddp</strong> directory and run the command:
<p><ul>
  <code>cvs -d :pserver:<i>user</i>@cvs.debian.org:/cvs/debian-doc -z3 update -d -P</code>
</ul>

<h2>Disconnecting from the server</h2>

When you have finished a CVS remote session, use this command to disconnect
from the server:

<p><ul>
  <code>cvs -d :pserver:<i>user</i>@cvs.debian.org:/cvs/debian-doc logout</code>
</ul>

<h2>Obtaining update privileges</h2>

Update privileges are available to anyone who wishes to participate
in writing the manuals.

<p>To obtain update privileges, send a request to the <a href="mailto:aph@debian.org">Documentation
Coordinator</a>, stating the username you want to use on the pserver and supplying
an encrypted password, generated with
<p><ul>
  <code>makepasswd --crypt --clear=<i>your_password</i></code>
</ul>

<p>(makepasswd is a Debian package.)

<p>If you don't supply a password, one will be generated for you, but it
won't be memorable.

<p>To change your password, email the Coordinator again, supplying the
new, encrypted password.

<hr>

<h1>Organisation of files</h1>

This figure shows the structure of the CVS directory tree:

<p><img src="dirtree.jpg" align="middle">

<p>Please note that due to restructuring of DDP web site this image may not
display completely correct information :-)

<hr>

<h1>Automatic update mechanism</h1>

The published web pages of the manual text are generated by a
cron job run on <b>va.debian.org</b> at 01:27 and 13:27 Pacific time each day.

<p>The manuals are updated by a make in the directory <code>ddp/manuals.sgml</code>,
which does a make in each subdirectory.  The subdirectory makefiles are
symbolic links to <code>ddp/manuals.sgml/standard.makefile</code>.

<p>This is the content of the cron script:
<ul><pre>
#! /bin/bash
# Script for updating the DDP manuals and webpages

export CVSROOT=/home/debian/elphick/cvs

(cd ddp/manuals.sgml; make clean)
cvs update -d ddp

cd ddp/manuals.sgml
make
</pre></ul>

If your changes do not appear as you expect,
<A HREF="http://www.debian.org/~elphick/ddp/last.build.results">look here</A>
to see the results of the last build.

<!-- Created: Mon Jul  6 19:58:09 BST 1998 -->
