#use wml::debian::template title="Pode¹avanje FTP mirrora"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.24"

<p>Mirroranje je jednako i za neslu¾bene i za <a href="official">slu¾bene</a>
poslu¾itelje.

<p>Jednom pode¹en, mirror treba biti <a href="submit">registriran kod
Debiana</a> da bismo ga ukljuèili u <a href="../misc/README.mirrors">popis
mirrora</a>. Predavanje informacija mo¾ete uèiniti preko
<a href="submit">jednostavnog web formulara</a>.

<p>Svi problemi i pitanja se trebaju uputiti na
<a href="mailto:mirrors@debian.org">mirrors@debian.org</a>.</p>

<toc-display/>

<toc-add-entry name="wherefrom">Odakle mirrorati</toc-add-entry>

<p>Puno ljudi misli da je <code>ftp.debian.org</code> glavno mjesto za
Debian pakete i da æe im biti najbolje ako mirroraju od tamo. To
<strong>nije istina</strong>. <code>ftp.debian.org</code> je tek jedan od
nekoliko poslu¾itelja koji se osvje¾avaju s internog Debian poslu¾itelja.</p>

<p>Bilo koji od poslu¾itelja na <a href="mirrors_full">potpunom popisu
mirrora</a> koji imaju '<kbd>Type: Push-Primary</kbd>' oznaku bi trebao
biti dobar izbor za mirroranje.</p>

<p>Za vas nema praktièno nikakve razlike izmeðu mirroranja s tog
poslu¾itelja i mirroranja s nekog drugog <em>Push-Primary</em> mirrora.
S druge strane, ako puno ljudi koristi ftp.debian.org (a na¾alost, tako je),
ovo bez veze tro¹i donirani <em>bandwidth</em>.</p>

<toc-add-entry name="methods">Metode mirroranja</toc-add-entry>

<p>Preporuèena metoda mirroranja jest rsync-om.

<p>NB: iako <kbd>wget</kbd> dobro radi za mirroranje manjih poslu¾itelja,
nije podesiv kao rsync ili 'mirror' pa ga ne preporuèujemo za ovaj posao.

<h3>Anonimni rsync</h3>

<p>Mo¾ete koristiti <a href="anonftpsync">ovu skriptu</a> za mirroranje
arhive. Pratite upute u skripti kako biste podesili mirroranje.

<h3>Rsync s identifikacijom, sa &quot;push&quot; mirrora</h3>

<p>&quot;Push&quot; mirroranje je oblik mirroranja koristeæi rsync koje smo
razvili da sasvim smanjimo vrijeme koje je potrebno da promjene u arhivi
doðu do mirrora. Poslu¾iteljski mirror koristi tzv. ssh otponac da bi rekao
klijentskom mirroru da se treba obnoviti.

<p>Ova metoda je sasvim sigurna jer je ssh pode¹en da pokreæe samo jednu
naredbu. Takoðer, mirroranje je jo¹ uvijek &quot;pull&quot; tako da
<strong>nije</strong> moguæe pokvariti sadr¾aj arhive preko falsificiranog
push mirrora. Neki administratori mirrora su pokazali neslkonost kori¹tenju
ove metode mirroranja zbog straha da æe metoda otvoriti njihov stroj
invaziji. To jednostavno <strong>nije</strong> istina.

<p>Za detaljniji opis toga kako ovo radi, za¹to je sigurno i kako podesiti
push mirror, molimo pogledajte <a href="push_mirroring">potpuno obja¹njenje</a>.

<h3>Anonimni FTP koristeæi 'mirror'</h3>

<p>Anonimni FTP je bio standardna metoda mirroranja dugo vremena. Za ovu
svrhu program 'mirror' radi dobro s Debian arhivom. Kao ¹to ste veæ
pretpostavili, 'mirror' je dostupan kao Debian paket. Ako ste instalirali
Debian paket, postoji primjer, skripta za mirroranje FTP arhive u datoteci
/etc/mirror/packages/ftp.debian.org .

<toc-add-entry name="partial">Djelomièno mirroranje</toc-add-entry>

<p>Uzimajuæi u obzir veæ priliènu <a href="size">velièinu Debian arhive</a>,
neki ljudi vi¹e vole mirrorati samo one dijelove koje oni trebaju. Ako ne¹to
¾elite iskljuèiti, iskljuèite arhitekture.</p>

<p>S <a href="anonftpsync">anonftpsyncom</a>, ovo se mo¾e postiæi
ureðivanjem varijable EXCLUDE. Mo¾ete koristiti i posebno pisane skripte,
kao ¹to su
<a href="http://packages.debian.org/unstable/net/debmirror.html">debmirror</a>
(Joeya Hessa i Joerga Wendlanda) ili
<a href="http://people.debian.org/~absurd/absurd_debmirror/">absurd_debmirror</a>
(Stephana Suerkena).
Ako mislite da im ne¹to treba dodati, molimo obratite se autorima
(informacije za kontaktiranje bi trebale biti ukljuèene u samim skriptama).

<p>Strogo preporuèamo protiv iskljuèivanja <tt>project/</tt>, <tt>doc/</tt>
i drugih poddirektorija. Oni su obièno minorni po velièini a korisni
korisnicima.</p>

<toc-add-entry name="when">Kada mirrorati</toc-add-entry>

<p>Glavna arhiva se obnavlja svaka 24 sata.

<p>Ako va¹ poslu¾itelj biva mirroran push metodom, ne trebate brinuti o
ovome. Ako ne, a server koji odaberete za mirroranje koristi rsync, tada
biste trebali pogledati u <kbd>project/trace/</kbd> u Debian arhivi izvornog
mirrora, datoteku s imenom tog poslu¾itelja. Datoteka bi trebala sadr¾avati
vrijeme kada je mirroranje zadnji put zavr¹ilo. Na to vrijeme dodajte recimo
1 sat, i tada mirrorajte.

<p>Najlak¹i naèin da automatski pokrenete mirror svakog dana jest kori¹tenje
cron-a. Pogledajte <kbd>man crontab</kbd> za detalje.

<toc-add-entry name="settings">Preporuèene dodatne postavke</toc-add-entry>

<p>Ako æete napraviti Debian mirror dostupnim kroz HTTP, molimo dodajte
sljedeæe postavke u va¹u Apache konfiguraciju (uz pretpostavku, naravno, da
æete koristiti Apache) za indekse direktorija:

<pre>
&lt;directory /org/ftp.debian.org/ftp&gt;
   IndexOptions NameWidth=* +SuppressDescription
   DirectoryIndex .
&lt;/directory&gt;
</pre>

<p>(zamijenite <code>/org/ftp.debian.org/ftp</code> imenom direktorija u
kojem dr¾ite mirror)
