#use wml::debian::template title="Mirroranje"

<P>Svijet je veliko mjesto i bez velikog broja mirrora ¹irom svijeta
puno ljudi bi imalo te¹koæe u dola¾enju do Debiana.

<P>Naravno, to znaèi da su nam potrebni ljudi koji æe te mirrore napraviti i
odr¾avati. To se odnosi na vas. Ako ste u polo¾aju da ne¹to diskovnog
prostora i mre¾ne povezanosti poklonite Debianu kako bi ga naèinili
pristupaènijim, tada je ovo stranica za vas.

<P>Debian ima i FTP arhive i WWW stranice. FTP arhiva sadr¾i sve pakete,
izvornike i instalacijske materijale. WWW stranice sadr¾e pozadinske
informacije o Debianu, dokumentaciju, materijale za razvijatelje i veze na
srodna mjesta. Mo¾ete postati mirror WWW-a, FTP-a, ili i jednog i drugog.
Èak mo¾ete dr¾ati mirror privatnim, ali veæina ljudi odabere dodati ga
<A HREF="../misc/README.mirrors">popisu mirrora</A>.

<H2>Slu¾beni mirrori</H2>
<P>Uz to, mo¾ete odabrati da postanete slu¾bena Debian arhiva. Slu¾bene
arhive dobivaju adresu u obliku ftp.&lt;zemlja&gt;.debian.org
odnosno www.&lt;zemlja&gt;.debian.org. To su najrazgla¹enija i
najkori¹tenija mjesta; lice Debiana za veæinu ljudi. Zbog toga za slu¾bene
mirrore imamo stanovite minimalne zahtjeve:

<UL>
<LI>Poslu¾itelj mora biti pouzdan i raditi 24 sata dnevno. Stroj ne smije
   biti jako optereæen.
<LI>Mora imati pristojnu povezanost (s obzirom na zemlju o kojoj se radi).
   Preporuèuje se mre¾na propusnost koja odgovara T1 vezi.
<LI>Za FTP: Debian FTP hijerarhija mora biti dostupna pod /debian.
   Ovo se radi zbog dosljednosti izmeðu arhiva.
<LI>Za FTP: tra¾imo da sve nove slu¾bene FTP arhive takoðer omoguæe
   HTTP pristup FTP arhivi (ftp://ftp.arhiva/debian treba biti dostupno
   kao http://ftp.arhiva/debian). Uz http/1.1 prijenosi mogu biti uèinkovitiji
   nego FTP-om pa poduzimamo korake u tom smjeru.
   Naravno, cijenili bismo kada bi svi mirrori omoguæavali HTTP pristup.
<LI>Za WWW: pravi virtualni server sa vlastitom IP adresom. Ako je moguæe,
   arhive listi i bugova bi se takoðer trebale mirrorati (pogledajte
   napomene o mirroranju dolje).
<LI>Za WWW: CGI skripte se izvr¹avaju centralno na cgi.debian.org, tako da
   se oko njih ne trebate brinuti.
<LI>Za WWW: pregovaranje sadr¾aja mora biti ukljuèeno. To nam omoguæuje
   providno poslu¾ivanje WWW stranica na mnogobrojnim jezicima
   (onima koji su ispravno podesili svoj browser). Apache to podr¾ava
   sasvim dobro. Ako imate pitanja o tome, po¹aljite e-mail na
   <A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>.
<LI>Obaveze u diskovnom prostoru (sa prostorom za pro¹irenja):
            1+ GB za WWW (ukljuèuje arhive listi i bugova),
            6+ GB za FTP
<LI>Mirror se mora osvje¾avati barem jednom dnevno. Ako je moguæe, bug
   arhive mirrorajte èe¹æe.
</UL>
Primijetite da su ovo samo smjernice. Ako niste sigurni oko neèega,
pitajte na <A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>

<P>Ako biste ¾eljeli postati slu¾beni mirror, po¹aljite ime i adresu
stroja, zajedno s imenom i e-mailom osobe koja æe odr¾avati mirror, na
<A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>.
Webmaster æe podesiti DNS i, ako ste FTP arhiva, dodati vas popisu mirrora.
Kada sve proradi, va¹ mirror æe biti dodan WWW stranicama.

<P>Za sada u jednoj zemlji mo¾e postojati samo jedan slu¾beni mirror. Ako
ga va¹a zemlja veæ ima, vi jo¹ uvijek mo¾ete podesiti neslu¾ben mirror.
Debian jo¹ tra¾i slu¾bene mirrore u Ju¾noj Americi i Africi (dugoroèni
ciljevi ukljuèuju Antarktiku i mirror u svemiru. Nemojte se smijati, veæ smo
radili eksperimente na space shuttleovima).

<H2>Mirroranje</H2>
Mirroranje je jednako i za slu¾bene i za neslu¾bene mirrore.
Za FTP mirrore jednostavno prenosite
<A HREF="ftp://debian.crosslink.net/pub/debian">ftp://debian.crosslink.net/pub/debian</A>.
Za WWW mirrore prenosite
<A HREF="ftp://debian.crosslink.net/www/debian.org">ftp://debian.crosslink.net/www/debian.org</A>
i
<A HREF="ftp://debian.crosslink.net/www/debian.org-local">ftp://debian.crosslink.net/www/debian.org-local</A>.
Naravno, mo¾ete odabrati mirroranje sa vama bli¾eg mjesta.

<P>FTP mirrore treba registrirati Debianu kako bi ih se ukljuèilo
u popis mirrora. Po¹aljite e-mail na <A HREF="mailto:mirrors@debian.org">mirrors@debian.org</A>
sa imenom odr¾avatelja mirrora, imenom poslu¾itelja i stazom do Debian arhive.

<P>Tek par napomena za WWW mirrore: debian.org ima veze na debian.org-local
tako da va¹ WWW poslu¾itelj mora dopu¹tati simbolièke linkove. Takoðer, ako
va¹ stroj radi na Debianu, odluèeno je da se prekr¹i Debian Policy i da se
u WWW stranicama koristi /doc. To znaèi da morate zakomentirati
'Alias /doc/ /usr/doc/' u datoteci srm.conf. sponsor.html i sponsor_img.jpg
mo¾ete i trebate sami zamijeniti. Oni su tu radi vas, da ogla¹avate svoj
sustav kako bi ljudi znali tko je pokrovitelj. Izvornici su sponsor.deb.html
i sponsor.deb.jpg po¹to je sustav s kojeg mirrorate vjerojatno zamijenio one
koje je Debian dao kao primjere. Preporuèena maksimalna velièina va¹eg
logotipa je 120x60.

<H2>Programi za mirroranje</H2>
Veæina ljudi mirrora pomoæu anonimnog FTP-a. U tu svrhu na FTP arhivi dobro
radi program `mirror'. Osim ako imate dosta RAM memorije (75 MB je
prijavljeno kao dovoljno), mirror ima problema u mirroranju
debian.org-local, jer popis bugova ima velik broj datoteka. Autor mirrora
je upoznat s problemom i trebao bi ga rije¹iti u iduæoj verziji.
Kao ¹to ste veæ vjerojatno pretpostavili, `mirror' je dostupan kao Debian
paket. Ako ste instalirali Debian paket, /etc/mirror/packages/ftp.debian.org
je primjer skripte za mirroranje FTP arhive.

<P>Ako imate raèun na stroju kojeg mirrorate, mnogi ljudi preferiraju
rsync. Osim ¹to bolje radi s velikim arhivama, omoguæuje i kori¹tenje
ssh-a za siguranu vezu.
Mo¾da æe vam koristiti jedan <A HREF="rsync_examples">primjer</A>
kori¹tenja rsynca za mirroranje Debiana. Koristite rsync verziju
1.7.4 ili kasniju, jer su prethodne verzije koristile puno vi¹e memorije.

<P>Iako wget radi dobro na mirroranju manjih arhiva, nije efikasan kao
mirror ili rsync pa ga ne preporuèujemo u ovom sluèaju.

<H2>Pregovaranje sadr¾aja</H2>
Pregovaranje sadr¾aja je metoda koja dopu¹ta browseru da se dogovori
sa poslu¾iteljom o vrsti dokumenta koji æe biti isporuèen. Iako to ima velik
broj primjena, najèe¹æa je dogovaranje o jeziku na kojem æe se dokument
isporuèiti. To æe omoguæiti Debianu da poslu¾uje svoje stranice u mnogim
jezicima na (tehnièki) vrlo elegantan naèin.

<P>Za one koji koriste Apache, promjena je gotovo trivijalna. Jednostavno
dodajte sekciju sliènu ovoj koja slijedi u datoteku /etc/apache/access.conf
(zamijenite /debian/web direktorijem koji sadr¾i WWW stranice) i ponovo
pokrenite poslu¾itelj (ovaj primjer radi sa Apache verzijama 1.3 beta i
kasnijima):
<blockquote><pre>
&lt;Directory /debian/web&gt;
Options +Multiviews   
&lt;/Directory&gt;
</pre></blockquote>

<H2>Druge promjene na WWW poslu¾itelju</H2>
Kako bi se indeksi direktorija poslu¾ivali ispravno, vjerojatno æete morati
promijeniti DirectoryIndex postavku u /etc/apache/srm.conf. Ovo bi
trebalo biti dovoljno:
<pre>
   DirectoryIndex index index.html index.shtml index.htm
</pre>

Uz to, morate osigurati da server mo¾e rukovati svim jezicima koji se
nalaze na WWW stranicama. To se radi koristeæi AddLanguage postavke. Ovo
je samo primjer &mdash; oèekujte da æete ih kasnije dodavati jo¹:
<pre>
   AddLanguage en .en
   AddLanguage fr .fr                                                       
   AddLanguage de .de                         
   AddLanguage it .it
   AddLanguage es .es
   AddLanguage ja .ja
   AddLanguage da .da
   AddLanguage hr .hr
</pre>

