#use wml::debian::ddp title="Debian-dokumentointiprojekti (DDP) ja CVS"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.22"

<p>Debianin dokumentointiprojekti säilyttää www-sivustonsa ja valtaosan 
käyttöoppaiden teksteistä Debianin CVS-palvelimella osoitteessa 
<b>cvs.debian.org</b>.</p>

<p>Kuka tahansa voi imuroida lähdekoodit CVS-palvelimelta.  Ainoastaan 
Debian-dokumentointiprojektin jäsenet voivat päivittää näitä tiedostoja.</p>

<toc-display/>

<toc-add-entry name="access">Pääsy CVS-palvelimella olevaan 
lähdekoodiin</toc-add-entry>
  
<p>Voit käyttää osoitteessa <url "http://cvs.debian.org/?cvsroot=debian-doc">
olevaa viewCVS-selainliittymää päästäksesi käsiksi yksittäisiin tiedostoihin
ja nähdäksesi niihin tehdyt muutokset.</p>

<p>Suora pääsy CVS-palvelimelle on usein parempi vaihtoehto kokonaisen 
käyttöoppaan imurointiin.  Tarvitset 
<tt><a href="http://packages.debian.org/cvs">cvs</a></tt>-paketin 
koneellesi.</p>

<h3>Tunnukseton yhteys (vain lukuoikeus) CVS-palvelimelle</h3>

<p>Ottaaksesi yhteyden, syötä seuraava komento:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>ja paina enteriä salasanaa pyydettäessä.</p>

<p>Voit käyttää tämän jälkeen normaaleja CVS-komentoja (katso CVS-infosivuja) 
omalla koneella olevien tiedostojen päivittämiseen, mutta et voi muuttaa ja 
lähettää niitä palvelimelle.</p>

<p>Imuroitaessa tiedostoja ensimmäistä kertaa, tee uusi hakemisto jonne 
kaikki kootaan ja siirry sinne.  Tähän hakemistoon luodaan kaksi 
hakemistoa, <strong>CVS</strong> ja <strong>ddp</strong>.</p>

<p>Käytä tätä komentoa imuroidaksesi kaikki tiedostot:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Tämä luo hakemistot rekursiivisesti ja siirtää tiedostot niihin.</p>

<p>Päivittääksesi paikallisen kopiosi muiden tekemillä muutoksilla, siirry 
<strong>ddp/manuals.sgml</strong>-hakemistoon ja suorita komento:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Kun olet lopettanut CVS-istuntosi, käytä tätä komentoa 
katkaistaksesi yhteyden palvelimeen:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Yhteydenotto CVS-palvelimelle päivitysoikeuksilla</h3>

<p>Ennen kuin otat yhteyden palvelimelle tällä menetelmällä 
sinulla täytyy olla kirjoitusoikeus sinne.  Lue ensin kuinka <a
href="#obtaining">hankitaan</a> päivitysoikeudet.</p>

<p>Ottaaksesi yhteyden, suorita komento:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>käyttäjätunnus</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>ja anna salasana jonka olet saanut dokumentoinnin koordinoijalta.  
Yllä olevassa komennossa, korvaa <var>käyttäjätunnus</var> omalla 
CVS-palvelimen käyttäjätunnuksellasi.  Se ei ole välttämättä ole sama 
kuin käyttäjätunnuksesi <b>cvs.debian.org</b>-palvelimella, mikäli 
sinulla sellainen on.</p>

<p>Tämän jälkeen voit käyttää normaaleja CVS-komentoja (katso CVS-infosivuja) 
tarkistamiseen ja muutoksien tekoon.</p>

<p>Imuroitaessa tiedostoja ensimmäistä kertaa, tee uusi hakemisto jonne 
kaikki kootaan ja siirry sinne.  Tähän hakemistoon luodaan kaksi hakemistoa, 
<strong>CVS</strong> ja <strong>ddp</strong>.</p>

<p>Käytä tätä komentoa imuroidaksesi kaikki tiedostot:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:käyttäjätunnus@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Tämä luo hakemistot rekursiivisesti ja siirtää tiedostot niihin.</p>

<p>Päivittääksesi paikallisen kopiosi muiden tekemillä muutoksilla, siirry 
<strong>ddp/manuals.sgml</strong>-hakemistoon ja suorita komento:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Kun olet lopettanut CVS-istuntosi, käytä seuraavaa komentoa 
katkaistaksesi yhteyden palvelimeen:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Yhteys CVS-palvelimelle päivitysoikeuksilla, SSH:ta käyttäen</h3>

<p>Tämä tapa on ainoastaan rekisteröityjen Debian-kehittäjien käytettävissä ja
on suositeltavampi kuin pserver-menetelmä.  Jos sinusta on äskettäin tullut 
rekisteröity Debian-kehittäjä, pyydä dokumentoinnin koordinaattoria 
poistamaan pserver-tunnuksesi.</p>

<p>Kun otat yhteyden ssh:lla, ilmoita CVS:lle sen käytöstä:</p>

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Tee uusi hakemisto jonne kaikki kootaan, siirry sinne ja syötä 
seuraava komento:</p>

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>käyttäjätunnus</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>moduuli</var></code>
</p>

<p>Korvaa yllä olevassa komennossa <var>käyttäjätunnus</var> omalla 
CVS-palvelimen käyttäjätunnuksellasi.  Se on sama kuin käyttäjätunnuksesi 
kaikilla Debianin koneilla.  Korvaa <var>moduuli</var> sen moduulin 
nimellä jonka haluat tarkistaa, yleisesti se on <tt>ddp/manuals.sgml</tt>.  
Tämän jälkeen sinulta kysytään salasanaasi CVS-palvelimelle.  Siis ei 
omalle koneellesi.</p>

<p>Tähän hakemistoon luodaan kaksi hakemistoa, <strong>CVS</strong> 
ja <strong>ddp</strong>.  CVS luo rekursiivisesti kaikki pyytämäsi 
moduulit (ts. hakemistot) ja siirtää tiedostot niihin.</p>

<p>Tämän jälkeen voit käyttää normaaleja CVS-komentoja (katso CVS-infosivuja) 
tarkistamiseen ja muutoksien tekoon.</p>

<p>Päivittääksesi paikallisen kopiosi muiden tekemillä muutoksilla, siirry 
<strong>ddp/manuals.sgml</strong>-hakemistoon ja suorita komento:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Päivitysoikeuksien hankkiminen</toc-add-entry>

<p>Päivitysoikeudet saa jokainen joka haluaa osallistua käyttöoppaiden 
kirjoittamiseen.  Yleensä vaadimme, että olet lähettänyt ensin muutamia 
hyödyllisiä korjauksia.</p>

<p>Jotta saat päivitysoikeudet, lähetä pyyntö <a 
href="mailto:debian-doc@lists.debian.org">Debian documentation -postilistalle</a>. 
Selvitä miksi tarvitset  käyttäjätunnuksen. Joko dokumentoinnin 
koordinaattorin tai varsinaisen Debian-dokumentointiryhmän jäsenen tulee 
hyväksyä pyyntösi ennen kuin käyttöoikeus myönnetään. Kun pyyntösi on 
hyväksytty, pyydä heitä lähettämään (allekirjoitettu) pyyntö <a 
href="mailto:debian-admin@lists.debian.org">debian-admin</a>-listalle. 

<p>Jos olet Debian-kehittäjä, pyynnön tultua hyväksytyksi sinut lisätään 
<tt>cvs_doc</tt>-ryhmään <tt>cvs.debian.org</tt>-palvelimelle ja voit 
alkaa päivittämään CVS:ää.

<p>Mikäli et ole Debian-kehittäjä, pyynnön tultua hyväksytyksi 
sinun tulee toimittaa kirjautumisnimi ja salasana. 
Kirjautumisnimen pitää olla poikkeava olemassa olevista 
Debian-käyttäjätunnuksista 
(tarkista <a href="http://db.debian.org">db.debian.org</a>-sivulta). 
Salasanaa ei tule lähettää sähköpostitse salaamattomana, vaikkakin cvs 
lähettää sen salaamattomana verkossa.

<p>Voit käyttää <tt>makepasswd</tt>:tä salasanan luomiseen, asenna 
kyseinen paketti ja aja:

<pre>
$ echo "SALAINEN" |makepasswd --clearfrom=- --crypt
</pre>

<p>Toinen yksinkertainen tapa salasanan salaamiseksi on käyttää yksirivistä 
Perl-komentoa, olettaen että Perl on jo asennettuna Debian GNU/Linux -koneellesi:

<pre>
$ perl -e "printf \"%s\n\", crypt ("SALAINEN", join ('', ('.', '/', 0..9, 'A'.. 'Z', 'a'..'z')[rand (64), rand (64)]))"
</pre>

<p>Lähetä tulos yhdessä toivomasi käyttäjätunnuksen kanssa 
<a href="joey@debian.org">Martin Schulze</a>lle. 
Salaa koko posti <a href="http://db.debian.org/fetchkey.cgi?fingerprint=B53FE57BD0C1F689FCE25">hänen GnuPG-avaimellaan</a>. 
<p>Lisätietoja löytyy hänen <a 
href="http://people.debian.org/~joey/misc/webwml.html">huomautuksistaan</a> 
kyseisestä proseduurista.

<hr>

<toc-add-entry name="organization">Tiedostojen järjestely</toc-add-entry>

<p>Tämä kuva kertoo CVS-hakemistopuun rakenteen:</p>

<p><img src="dirtree.jpg" align="middle" alt="DDP:n CVS-hakemistopuu"></p>

<p>Huomaa että DDP:n www-sivusto sijaitsee Debianin CVS-säilytyspaikan 
webwml-moduulissa, integroituakseen muihin Debianin www-sivuihin.</p>

<hr>

<toc-add-entry name="updates">Automaattinen päivitysmekanismi</toc-add-entry>

<p>Käyttöoppaasta julkaistut www-sivut tuotetaan 
www-master.debian.org-palvelimella ajettavalla päivittäisellä 
cron-tehtävällä joskus klo 01:39 jälkeen (Suomen aikaa tai 15:39 
Yhdysvaltain länsirannikon aikaa).</p>

<p>Skripti suorittaa komennon <kbd>cvs update -d -P</kbd>, ja sen jälkeen 
<kbd>make -C manuals.sgml clean publish</kbd>-komennon, molemmat tapahtuvat 
<code>ddp</code>-hakemistossa.</p>

<p>makefile on asetettu kääntämään jokainen alihakemisto uudelleen (jotka 
sisältävät ylläpidettävän dokumentaation), ja asentamaan tiedostot 
jokaisesta alihakemistosta www-sivuston 
<code>doc/manuals/</code>-alihakemistoon.  Alihakemistojen 
makefile-tiedostot polveutuvat 
<code>ddp/manuals.sgml/standard.makefile</code>-tiedostosta.</p>

<p>Päivitysskriptin tekemät dokumentit löytyvät osoitteesta <a
href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p>Päivitysskriptin tekemät lokitiedostot löytyvät osoitteesta 
<url "http://www-master.debian.org/build-logs/ddp/"></p>

# <!-- Created: Mon Jul  6 19:58:09 BST 1998 -->
