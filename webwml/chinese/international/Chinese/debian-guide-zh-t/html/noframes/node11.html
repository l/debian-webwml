
<!--Converted with LaTeX2HTML 99.2beta6 (1.42)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>7 再說檔案</TITLE>
<META NAME="description" CONTENT="7 再說檔案">
<META NAME="keywords" CONTENT="debian-tutorial-zh_TW-html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta6">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="debian-tutorial-zh_TW-html.css">

<LINK REL="next" HREF="node12.html">
<LINK REL="previous" HREF="node10.html">
<LINK REL="up" HREF="node4.html">
<LINK REL="next" HREF="node12.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html760"
  HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html754"
  HREF="node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html748"
  HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html756"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html758"
  HREF="node23.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html761"
  HREF="node12.html">8 使用文本文件</A>
<B> Up:</B> <A NAME="tex2html755"
  HREF="node4.html">1 導論</A>
<B> Previous:</B> <A NAME="tex2html749"
  HREF="node10.html">6 Using the Shell</A>
 &nbsp <B>  <A NAME="tex2html757"
  HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html759"
  HREF="node23.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html762"
  HREF="node11.html#SECTION04710000000000000000"><SPAN CLASS="arabic">1</SPAN> 權限</A>
<UL>
<LI><A NAME="tex2html763"
  HREF="node11.html#SECTION04711000000000000000"><SPAN CLASS="arabic">1</SPAN> 檔案附屬權 (file ownership)</A>
<LI><A NAME="tex2html764"
  HREF="node11.html#SECTION04712000000000000000"><SPAN CLASS="arabic">2</SPAN> 狀態 (mode)</A>
<LI><A NAME="tex2html765"
  HREF="node11.html#SECTION04713000000000000000"><SPAN CLASS="arabic">3</SPAN> 權限的練習</A>
</UL>
<LI><A NAME="tex2html766"
  HREF="node11.html#SECTION04720000000000000000"><SPAN CLASS="arabic">2</SPAN> 檔案的存在與位置</A>
<LI><A NAME="tex2html767"
  HREF="node11.html#SECTION04730000000000000000"><SPAN CLASS="arabic">3</SPAN> 利用 <TT>gzip</TT> 來壓縮檔案</A>
<LI><A NAME="tex2html768"
  HREF="node11.html#SECTION04740000000000000000"><SPAN CLASS="arabic">4</SPAN> 找尋檔案</A>
<LI><A NAME="tex2html769"
  HREF="node11.html#SECTION04750000000000000000"><SPAN CLASS="arabic">5</SPAN> 決定檔案的類別</A>
<LI><A NAME="tex2html770"
  HREF="node11.html#SECTION04760000000000000000"><SPAN CLASS="arabic">6</SPAN> 使用檔案管理員 (File Manager)</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION04700000000000000000">
<SPAN CLASS="arabic">7</SPAN> 再說檔案</A>
</H1>

<P>
在第 <A HREF="node9.html#basics-files"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> 頁的第 <A HREF="node9.html#basics-files">5.2</A> 章，我們提過利用 <TT>mv</TT> 來移動檔案及更改檔案名稱，用 <TT>cp</TT> 來覆製檔案，用 <TT>rm</TT> 來刪除檔案，用 <TT>rmdir</TT> 來刪除目錄，以及用 <TT>mkdir</TT> 來建立目錄。在這一章裡將會更詳盡地講述有關檔案的東西。

<P>

<H1><A NAME="SECTION04710000000000000000"></A><A NAME="2581"></A><A NAME="Permissions"></A>
<BR>
<SPAN CLASS="arabic">1</SPAN> 權限
</H1>

<P>
GNU 和 Unix 系統是被設置為可以多人使用同一部電腦，但亦能把某些檔案設定為私人的，或是可以使某些人不能更改某些檔案。你可以試一試去驗証。用你自己的賬號登入，即是<SPAN  CLASS="textit">不</SPAN>要使用 root。<A NAME="2584"></A><A NAME="2585"></A><A NAME="2586"></A><A NAME="2587"></A><A NAME="2588"></A>

<P>

<DL COMPACT>
<DT>
<DD>whoami
</DD>
</DL>這個指令証實你不是 root。跟著輸入以下的指令：

<P>

<DL COMPACT>
<DT>
<DD>rm&nbsp;/etc/resolv.conf
</DD>
</DL><A NAME="2593"></A><A NAME="2594"></A><A NAME="2595"></A><A NAME="2596"></A><A NAME="2597"></A>你應會
被警告 <TT>Permission&nbsp;denied</TT>（沒有權限）。<TT>/etc/resolv.conf</TT> 是系統的一個重要的設定檔，除非你是 root，你沒有能力更改或刪除它。這樣就能防止你不慎把系統弄壞。假若那部電腦是公眾使用的（例如在辦公室裡或學校裡），這樣可以防止用者刻意弄壞系統。

<P>
現在輸入 <TT>ls&nbsp;-l&nbsp;/etc/resolv.conf</TT>，

<P>
你會得到類似這樣的輸出：

<P>

<DL COMPACT>
<DT>
<DD>-<SMALL CLASS="SMALL">rw-r-r-&nbsp;1&nbsp;root&nbsp;root&nbsp;119&nbsp;Feb&nbsp;23&nbsp;1997&nbsp;/etc/resolv.conf</SMALL>
<P>

</DD>
</DL>給 <TT>ls</TT> 的參數 <TT>-l</TT> 是用來引出額外的資料。右邊的資料比較簡單：檔案的大小是 <TT>119</TT> 個位元組 (bytes)，檔案的最後更改日期是一九九七年二月二十三日，檔案名字是 <TT>/etc/resolv.conf</TT>。左邊的資料就比較複雜了。

<P>
首先，來個簡短的技術性解釋：<TT>-rw-r-r-</TT>&nbsp;是檔案的<SPAN  CLASS="textit">狀態</SPAN>，<TT>1</TT> 是指著這個檔案的硬性連結 (hard link)（或是一個目錄中的檔案數目），而那兩個 <TT>root</TT> 是分別指擁有這個檔案的用戶 (user) 和群組 (group)。

<P>
是的，這是有點難以理解，現在就讓我們慢慢地解釋吧。

<P>

<H2><A NAME="SECTION04711000000000000000">
<SPAN CLASS="arabic">1</SPAN> 檔案附屬權 (file ownership)</A>
</H2>

<P>
<A NAME="2616"></A><A NAME="2617"></A><A NAME="2618"></A><A NAME="2619"></A><A NAME="2620"></A><A NAME="2621"></A><A NAME="2622"></A>每一個檔案都有兩個擁有者：用戶和群組。先前的那個例子有點混淆，因為除了用戶 <TT>root</TT> 之外還有一個群組叫做 <TT>root</TT>。群組只是一些被一同容許存取系統某部份的用戶。<TT>games</TT> 群組就是一個好例子。

<P>
這是一個比較實際的例子。幻想你現在正為一所學校架設一部電腦，你可能想設置某些檔案為只可以讓老師存取，而學生是不可以的，因此你把所有的老師都放到同一個群組裡去。跟著你便告訴系統哪些檔案是屬於群組 <TT>teachers</TT> 的成員，而其他人就不能接觸到這些檔案的。

<P>
現在就讓我們探索一下系統中的群組。首先，你可以在 shell prompt 用指令 <TT>groups</TT>，這樣會顯示你所屬於的群組。例子如下：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">groups</SPAN>

<P>
<A NAME="2630"></A><A NAME="2631"></A><A NAME="2632"></A><A NAME="2633"></A><A NAME="2634"></A><A NAME="2635"></A><A NAME="2636"></A>username&nbsp;dialout&nbsp;cdrom&nbsp;floppy&nbsp;audio
</DD>
</DL>很大機會你只是一個群組的成員，而那個群組的名稱和你的用戶名稱是一樣的。不過，root 可以加你到別的群組中。以上的例子表示那個用者是五個群組的成員。

<P>

<DL COMPACT>
<DT>
<DD>less&nbsp;/etc/group
</DD>
</DL>這個檔案列出你的系統中的群組。要留意的是 <TT>root</TT> 群組（root 是這個群組的唯一成員）和與你的用戶名稱一樣的那個群組。還有其它的群組如<TT>dialout</TT>（能夠使用 modem 打出的用戶）和 <TT>floppy</TT>（能夠使用軟磁碟機的用戶）。不過你的系統有可能還未設置成利用這些群組，所以，很可能現在只有 root 才能使用軟磁碟機和 modem。有關這個檔案的詳情，請參閱 <TT>man&nbsp;group</TT>。

<P>

<DL COMPACT>
<DT>
<DD>ls&nbsp;-l&nbsp;/home
</DD>
</DL>這個命令顯示，所有用戶的目錄都是由那個用戶及他所屬的私人群組所擁有。
如果你是剛安裝 Debian 的，你可能是唯一的用戶。你可以使用<TT>adduser</TT> 指令來增加用戶。

<P>

<H2><A NAME="SECTION04712000000000000000">
<SPAN CLASS="arabic">2</SPAN> 狀態 (mode)</A>
</H2>

<P>
<A NAME="2648"></A><A NAME="2649"></A><A NAME="2650"></A><A NAME="2651"></A><A NAME="2652"></A><A NAME="2653"></A><A NAME="2654"></A>檔案和目錄除了是被用戶及群組所擁有之外，它們
還有一個狀態。狀態決定誰可以讀、寫、和執行那個檔案（如果它是一個程式）。其實還有其它的東西決定檔案的狀態，但這些是較深的課題，所以我們亦不會在此討論。

<P>
在 <TT>ls</TT> 的輸出裡，我們可以看到檔案的狀態是：<TT>-rw-r-r-</TT>。我們會把它分成九部份來看：擁有檔案的<SPAN  CLASS="textit">用戶</SPAN>、<SPAN  CLASS="textit">群組</SPAN>、和<SPAN  CLASS="textit">其他用戶</SPAN>（others，即是系統的所有用戶，有時會稱這個為<SPAN  CLASS="textit">world</SPAN>）的<SPAN  CLASS="textit">讀</SPAN> (read)，<SPAN  CLASS="textit">寫</SPAN> (write)，及<SPAN  CLASS="textit">執行</SPAN> (execute) 權限。

<P>
在狀態一行中，第一個「元素」是檔案種類 (file type)。這裡的 <TT>-</TT> 表示這是一個普通的檔案。如果它是 <TT>d</TT>，那麼我們就是在檢查一個目錄。還有其它的種類，因太複雜所以不會在這裡解說。詳細資料可看第 <A HREF="node17.html#file-types"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> 頁的第 <A HREF="node17.html#file-types">13.2.2</A> 節。

<P>
<A NAME="2669"></A><A NAME="2670"></A><A NAME="2671"></A><A NAME="2672"></A><A NAME="2673"></A><A NAME="2674"></A><A NAME="2675"></A>剩下來的九個元素是用來顯示檔案的狀態，那九個位（用戶、群組、和其他用戶的讀、寫和執行權）是由三組 <TT>rwx</TT> 來表示。

<P>
所以如果檔案所有的權限都被許可，而它又是一個普通的檔，狀態將會是類似這樣：<TT>-rwxrwxrwx</TT>。如果它是一個目錄，而所有其他用戶的權限都被釋放，但用戶和群組都被賦予所有權限，那麼狀態將會是：<TT>drwxrwx--</TT>。

<P>
<BR><P></P>
<DIV ALIGN="CENTER"><A NAME="4588"></A>
<TABLE>
<CAPTION><STRONG>Table 7.1:</STRONG>
Linux 上的權限</CAPTION>
<TR><TD>
<P>

<DIV ALIGN="CENTER">

</DIV><TABLE COLS=4 BORDER FRAME=BOX RULES=GROUPS>
<COLGROUP><COL ALIGN=CENTER><COLGROUP><COL ALIGN=CENTER><COLGROUP><COL ALIGN=JUSTIFY WIDTH="1in"><COLGROUP><COL ALIGN=JUSTIFY WIDTH="1.in">
<TBODY>
<TR><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP> 
碼</TD><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>
名稱</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
對於檔案可做的動作</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
對於目錄可做的動作</TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>r</TD><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>
讀取 (read)</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
察看檔案內容</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
列引目錄的內容</TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>w</TD><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>
寫入 (write)</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
更改檔案</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
加減目錄裡的檔案</TD></TR>
</TBODY><TBODY>
<TR><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>x</TD><TD VALIGN=BASELINE ALIGN=CENTER NOWRAP>
執行 (execute)</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
執行一個指令</TD><TD VALIGN=BASELINE ALIGN=LEFT WIDTH="72">
存取目錄內的檔案</TD></TR>
</TBODY>
</TABLE>

<P>
</TD></TR>
</TABLE>
</DIV><P></P>
<BR>
表 <A HREF="#Permissions_in_Linux">7.1</A> 形容對於檔案及目錄的讀、寫、及執行權限的意思。

<P>
<A NAME="2688"></A>目錄的狀態的意義可能有點混淆，所以這裡有一些例子用來簞明不同組合的效果：

<P>

<DL COMPACT>
<DT>
<DD>r-
</DD>
</DL>用戶、群組、和其他用戶如擁有這個權限，則表示他們可以列出目錄的內容，但除此之外不能做其它的事。目錄裡的檔案不能被讀取、更改、刪除、以及任何方式的處理。唯一可以做的就是讀取這個目錄，亦即是觀看它包含的內容。

<P>

<DL COMPACT>
<DT>
<DD>rw-
</DD>
</DL>在沒有執行權限的時候，寫入<A NAME="2694"></A><A NAME="2695"></A><A NAME="2696"></A><A NAME="2697"></A><A NAME="2698"></A>權限是沒有作用的，所以這個狀態和上面的那個是一樣的。

<P>

<DL COMPACT>
<DT>
<DD><A NAME="2700"></A><A NAME="2701"></A><A NAME="2702"></A><A NAME="2703"></A><A NAME="2704"></A><A NAME="2705"></A><A NAME="2706"></A>
r-x
</DD>
</DL>這個狀態允許列印目錄內的檔案，以及存取這些檔案，但不可以建立或刪除檔案。<SPAN  CLASS="textit">存取</SPAN>的意思是你可以觀看，更改，及執行這些檔案（如果檔案本身的權限允許你這樣做）。

<P>

<DL COMPACT>
<DT>
<DD>-x
</DD>
</DL>目錄內的檔案可以被存取，但它的內容不能被列印，所以你必須事先知道目錄中檔案的名稱（除非你料事如神，能夠猜中它們的名字）。你不能建立或刪除檔案。

<P>

<DL COMPACT>
<DT>
<DD>rwx
</DD>
</DL>你可以對目錄內的檔案做任何事，只要檔案本身的權限允許你這麼做。

<P>
目錄的寫入權限決定了你是否可以刪除目錄中的檔案，如果你有權寫入一個目錄，你亦可以把內裡的一個唯讀檔案刪除掉；然而你不可以刪除一個唯讀目錄中的檔案，就算你有權更改那些檔案。

<P>
亦即是說，如果你擁有一個目錄，你就一定可以刪除內裡的檔案，就算那些檔案是屬於 root 的。

<P>
目錄的執行權限決定你是否有權存取檔案──亦因此決定檔案權限的用處。<SPAN  CLASS="textit">如果</SPAN>你擁有一個目錄的執行權限，這個目錄類檔案的權限就會變得有關係了，否則，檔案權限是甚麼也沒有所謂的，因為反正你也不能存取得到那些檔案。

<P>

<H2><A NAME="SECTION04713000000000000000">
<SPAN CLASS="arabic">3</SPAN> 權限的練習</A>
</H2>

<P>
<A NAME="2716"></A><A NAME="2717"></A><A NAME="2718"></A><A NAME="2719"></A><A NAME="2720"></A><A NAME="2721"></A><A NAME="2722"></A><A NAME="2723"></A><A NAME="2724"></A><A NAME="2725"></A><A NAME="2726"></A><A NAME="2727"></A><A NAME="2728"></A><A NAME="2729"></A>在這一節我們會看看一個示範怎樣使用權限的例子，以下會利用到 <TT>chmod</TT> 這個指令去改變權限的。

<P>

<DL COMPACT>
<DT>
<DD>cd;&nbsp;touch&nbsp;myfile
</DD>
</DL>這裡有幾個有趣的技倆。第一個，是你可以用 <TT>;</TT> 來把兩個命令放在一行上。你可以把上述的命令打成：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">cd</SPAN>&nbsp;

<P>
$&nbsp;<SPAN  CLASS="textbf">touch&nbsp;myfile</SPAN>&nbsp;
</DD>
</DL>或是：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">cd;&nbsp;touch&nbsp;myfile</SPAN>
</DD>
</DL>無論那種方法都能達到同樣效果。

<P>
若你還記得，用 <TT>cd</TT> 可以立即回到你自己的 home 目錄；<TT>touch</TT> 通常是用來把檔案的更新日期 (modification time) 改為現在的時間。但它有另一個有趣的特點：如果檔案不存在，<TT>touch</TT> 便會製造它。所以你是用它來製造一個作練習用的檔案。用 <TT>ls&nbsp;-l</TT> 來確定檔案真的已被建立，並且記住它的權限模狀態：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">ls&nbsp;-l</SPAN>&nbsp;

<P>
-rw-r-r-&nbsp;1&nbsp;user&nbsp;user&nbsp;0&nbsp;Nov&nbsp;18&nbsp;22:04&nbsp;myfile
</DD>
</DL>當然，在你試的時候，時間及用戶／群組都會有別於上述的。檔案的大小是 0，因為 <TT>touch</TT> 建立的是個空的檔案。<TT>-rw-r-r-</TT> 是 Debian 上的預設權限。

<P>

<DL COMPACT>
<DT>
<DD><A NAME="2754"></A><A NAME="2755"></A><A NAME="2756"></A><A NAME="2757"></A><A NAME="2758"></A><A NAME="2759"></A><A NAME="2760"></A>
chmod&nbsp;u+x&nbsp;myfile
</DD>
</DL>這個指令的意思是添加 (<TT>+</TT>) 執行 (<TT>x</TT>) 權限給擁有該檔案的用戶 (<TT>u</TT>)。用 <TT>ls&nbsp;-l</TT> 去看看它的效果。

<P>

<DL COMPACT>
<DT>
<DD>chmod&nbsp;go-r&nbsp;myfile
</DD>
</DL>這樣做會從擁有該檔案的群組 (<TT>g</TT>) 以及其他用戶 (others, <TT>o</TT>) 的手中奪去 (<TT>-</TT>) 讀取權限 (<TT>r</TT>)。同樣地，使用 <TT>ls&nbsp;-l</TT> 去驗証它的效果。<A NAME="2773"></A><A NAME="2774"></A><A NAME="2775"></A><A NAME="2776"></A><A NAME="2777"></A><A NAME="2778"></A><A NAME="2779"></A>

<P>

<DL COMPACT>
<DT>
<DD>chmod&nbsp;ugo=rx&nbsp;myfile
</DD>
</DL>這樣做會把用戶、群組、和其他用戶設為擁有讀取及執行的權限。這個設定是和你所輸入的<SPAN  CLASS="textit">一模一樣</SPAN>，之前的權限將不會保留。所以所有的 <TT>rx</TT> 都會被設置，而所有的 <TT>w</TT> 都會被取消。現在，任何人也不能寫入這個檔案的了。

<P>

<DL COMPACT>
<DT>
<DD>chmod&nbsp;a-x&nbsp;myfile
</DD>
</DL><TT>a</TT> 是 <TT>ugo</TT>，或 ``all'' 的簡寫。因此，所有的 <TT>x</TT> 權限都會被奪去。

<P>

<DL COMPACT>
<DT>
<DD>rm&nbsp;myfile
</DD>
</DL>用這個指令來刪除檔案，但因為你沒有寫入的權限，所以 <TT>rm</TT> 會詢問以下的問題來確定你是否真的要這樣做：

<P>

<DL COMPACT>
<DT>
<DD>rm:&nbsp;remove&nbsp;`myfile',&nbsp;overriding&nbsp;mode&nbsp;0444?
</DD>
</DL>你應回答 <TT>y</TT>，再按 <TT>Enter</TT>。這個是 <TT>rm</TT> 的特點，並不關乎權限的問題。能否刪除檔案取決於它所在的目錄的權限。你擁有寫入目錄的權限，但 <TT>rm</TT> 發覺你不想改那個檔案（因為你已移去了寫入權限），所以它認為你也不希望把檔案刪除，因此它就順便詢問你以確定。

<P>
但在問題裡出現的那個 <TT>0444</TT> 究竟是甚麼呢？其實權限是由一個 12 個位的二進制數字所組成，如 <TT>000100100100</TT>。<TT>044</TT> 就是這個二進制數字的八進制寫法，八進制是填寫狀態的慣用寫法。所以除了輸入 <TT>chmod&nbsp;ugo=r&nbsp;myfile</TT> 之外，你還可以鍵入 <TT>chmod&nbsp;444&nbsp;myfile</TT>。

<P>

<H1><A NAME="SECTION04720000000000000000">
<SPAN CLASS="arabic">2</SPAN> 檔案的存在與位置</A>
</H1>

<P>
<A NAME="2805"></A><A NAME="2806"></A><A NAME="2807"></A>現在你已可以瀏覽整個目錄的結構了，就讓我們帶你遊覽 Debian 安裝時所建立的檔案與目錄吧。如果你感到很好奇，那麼就 <TT>cd</TT> 到每一個目錄並鍵入 <TT>ls</TT> 來察看它的內容。如果輸出過長，可以試試 <TT>ls&nbsp;|&nbsp;less</TT>，<TT>|</TT> 是個「管道」(pipe) 符號，一般都是和 backslash <TT>&#92;</TT> 同一個鍵。

<P>
<A NAME="2813"></A><A NAME="2814"></A><A NAME="2815"></A><DL>
<DT><STRONG>/</STRONG></DT>
<DD>在先前已經說過，這個是根 (root) 目錄，它載著所有別的目錄。
</DD>
<DT><STRONG>/root</STRONG></DT>
<DD><A NAME="2817"></A><A NAME="2818"></A><A NAME="2819"></A><A NAME="2820"></A>不要把 <TT>/root</TT> 與 <TT>/</TT> 混淆了！<TT>/root</TT> 是 root 用戶，即是超級用戶 (superuser) 自己的起始目錄 (home directory)。這個目錄叫作 <TT>/root</TT>，但它不是根目錄 <TT>/</TT>。
</DD>
<DT><STRONG>/home</STRONG></DT>
<DD>這裡承載著所有普通用戶（即是除了 root 以外）的起始目錄<A NAME="2826"></A>。每個用戶的起始目錄都是用那個用戶的名字來命名的，例如 <TT>/home/jane</TT>。倘若你使用的系統比較大，例如在學校或是商業機構，你的系統管理員可能建立了更多的目錄去承載這些起始目錄，例如 <TT>/home1</TT> 和 <TT>/home2</TT>。在一些系統上，你會發現多了一層的次目錄，如 <TT>/home/students/username</TT>、<TT>/home/staff/username</TT> 等。
<BR>
<BR><A NAME="2832"></A>你的起始目錄是用來放置你的私人檔案、電子郵件和其它文件、以及個人的設定檔。這是你在系統上的家。
</DD>
<DT><STRONG>/bin</STRONG></DT>
<DD><A NAME="2833"></A>這個目錄承載著對系統的運行十分重要的「二進位」(binary) 執行檔案，例如 shell (<TT>bash</TT>) 和檔案命令，如 <TT>cp</TT>。
</DD>
<DT><STRONG>/sbin</STRONG></DT>
<DD><A NAME="2836"></A>這個目錄<A NAME="2837"></A><A NAME="2838"></A><A NAME="2839"></A>承載著 root 用戶或系統管理員需要使用的「系統二進位」(system binaries) 工具，這些檔案大多數都不會經常地使用。
</DD>
<DT><STRONG>/usr<A NAME="2840"></A><A NAME="2841"></A></STRONG></DT>
<DD><TT>/usr</TT> 承載大部份你會有興趣的檔案，它還含有很多次目錄。<TT>/usr/bin</TT> 和 <TT>/usr/sbin</TT> 很像 <TT>/bin</TT> 和<TT>/sbin</TT>，不過在 <TT>/usr</TT> 底下的目錄都不應理解為「對系統的運作是必需的」。
<BR>
<BR>雖然 <TT>/usr</TT> 對電腦的運作不是必需的，但在它底下的應用軟件是那些你真正會用來把工作完成的。在 <TT>/usr</TT> 下面你亦會找到<TT>/usr/man</TT>，<TT>/usr/info</TT>，和 <TT>/usr/doc</TT> 目錄，它們分別裝著 manual pages，info pages，和其它說明文件。不要忘記還有 <TT>/usr/games</TT> 喔！
</DD>
<DT><STRONG>/usr/local</STRONG></DT>
<DD>Debian 系統不會安裝任何東西到這個目錄裡去。如果你需要安裝一些你自己編譯的軟件，或是其它不是 Debian 軟件包形式的軟件，你便應該使用這個目錄。如果你是那個軟件的唯一使用者，你亦可以把軟件安裝到自己的起始目錄裡。
</DD>
<DT><STRONG>/etc</STRONG></DT>
<DD><TT>/etc</TT><A NAME="2855"></A><A NAME="2856"></A>承載所有管理整個系統的設定檔。每當你想改變一些會影響所有用者的設定時，例<A NAME="2857"></A><A NAME="2858"></A>如連接 Internet 的方式，或你所用的顯示卡，你<A NAME="2859"></A>很可能需要先登入為 root，然後更改 <TT>/etc</TT> 中的檔案。
</DD>
<DT><STRONG>/tmp</STRONG></DT>
<DD><A NAME="4592"></A><A NAME="2862"></A><A NAME="2863"></A>在這裡你會找到一些暫時貯藏的檔案，其中有很多是系統所造的。這個目錄會在你每次重新起動系統的時候清洗一次。你可以在這裡任意製造新的檔案，但要小心它們會被系統洗掉。
</DD>
<DT><STRONG>/var</STRONG></DT>
<DD><TT>/var</TT> 承載著「動態」(variable) 的檔案，這些檔案是由系統自動更改的。
<A NAME="2865"></A><A NAME="2866"></A>例如，外來的電子郵件是存放在這裡；系統的記錄檔亦是放在這裡。還有其它自動製造出來的檔案。<TT>/var/log</TT> 裡的內容應會令你感到很有興趣的，因為這裡放置著一些錯誤訊息，當系統有問題的時候它們有助你去瞭解系統的情況。
</DD>
</DL>
不消說，系統裡還有很多很多的目錄，多得不能在這裡逐一介紹。

<P>
有東西要改的時候，你通常都只會在你的起始目錄和 <TT>/etc</TT> 裡做。在 Debian 系統上是絕少有機會需要更改其他的東西，因為其它的都已經為你自動安裝好了。

<P>
<TT>/etc</TT><A NAME="2871"></A><A NAME="2872"></A><A NAME="2873"></A><A NAME="2874"></A>是用來做整個<SPAN  CLASS="textit">系統</SPAN>的設定。你會使用你自己的起始目錄（在 <TT>/home</TT> 之下）來做你自己的設定和貯存個人的資料。換句話說，在日常的使用，你應限制自己在 <TT>/home/<SPAN  CLASS="textit">yourname</SPAN></TT> 裡工作，這樣就不會弄壞任何東西。偶而你需要登入為 root 來在管理系統設定的<A NAME="2879"></A>目錄裡做些更改，但當然是非必要不可才這樣做啦。如果你是在學校或公司裡使用 Debian，而系統管理員不是你的話，你當然就沒有 root 的權限，而你亦只可以更改你的起始目錄及其它由你所擁有的目錄。這樣就能限制你對系統所能做到的事情。

<P>

<H1><A NAME="SECTION04730000000000000000">
<SPAN CLASS="arabic">3</SPAN> 利用 <TT>gzip</TT> 來壓縮檔案</A>
</H1>

<P>
<A NAME="2881"></A><A NAME="2882"></A><A NAME="2883"></A><A NAME="2884"></A><A NAME="2885"></A><A NAME="2886"></A>有時我們希望檔案能細一點，例如使下載的時間短一點，又或佔用少一點的硬碟空間。用來做這類工作的程式叫做 <TT>gzip</TT> (GNU zip)。以下是它的用法：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">cd;&nbsp;cp&nbsp;/etc/profile&nbsp;./mysamplefile</SPAN>
</DD>
</DL>首先回到你的起始目錄，然後複製任意一個被揀選的檔案 (<TT>/etc/profile</TT>) 到你現在的目錄，而且把它改名為 <TT>mysamplefile</TT>。這樣你就有一個可以用來測試 <TT>gzip</TT> 的檔案。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">ls&nbsp;-l</SPAN>
</DD>
</DL>顯示現在目錄的內容，並留意 <TT>mysamplefile</TT> 的大小。<A NAME="2898"></A><A NAME="2899"></A><A NAME="2900"></A><A NAME="2901"></A><A NAME="2902"></A><A NAME="2903"></A>

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">gzip&nbsp;mysamplefile</SPAN>
</DD>
</DL>壓縮 <TT>mysamplefile</TT>。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">ls&nbsp;-l</SPAN>
</DD>
</DL>觀察這個指令的結果：<TT>mysamplefile</TT> 現在已成為 <TT>mysamplefile.gz</TT>，而且它也比以前細小得多了。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">gunzip&nbsp;mysamplefile.gz;&nbsp;ls&nbsp;-l</SPAN>
</DD>
</DL>這個命令把檔案解壓。留意 <TT>mysamplefile</TT> 已回復原來的狀態。解壓的指令是 <TT>gunzip</TT>，而並非 <TT>gzip</TT>。<A NAME="2919"></A><A NAME="2920"></A>

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">rm&nbsp;mysamplefile</SPAN>
</DD>
</DL>因為這個檔案只是用來練習，所以用此命令來把它移掉。

<P>

<H1><A NAME="SECTION04740000000000000000">
<SPAN CLASS="arabic">4</SPAN> 找尋檔案</A>
</H1>

<P>
<A NAME="2925"></A><A NAME="2926"></A><A NAME="2927"></A><A NAME="2928"></A>有兩個工具是可以用來找尋檔案，它們是 <TT>find</TT> 和 <TT>locate</TT>。<TT>find</TT> 用檔案現在的狀態來搜尋，而 <TT>locate</TT> 則用一個由系統於每日早上六時四十二分產生（這是 <TT>cron</TT> job，在其它章節有提及）的索引檔來搜尋。<TT>locate</TT> 不會找得到索引檔產生後才創造的檔案。不過因為 <TT>locate</TT> 利用索引檔來搜尋，所以速度快得很，就好像利用書本的索引而非只看內容。

<P>
為了對比這兩種搜尋的方法，先假設你忘記了 X 設定檔的位置。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">locate&nbsp;XF86Config</SPAN>
</DD>
</DL>應該很快便得到答案，它們是一列<SPAN  CLASS="textit">含有</SPAN> <TT>XF86Config</TT> 
的檔案，像這樣的輸出：

<P>

<DL COMPACT>
<DT>
<DD>/etc/X11/XF86Config<A NAME="2942"></A><A NAME="2943"></A><A NAME="2944"></A><A NAME="2945"></A>

<P>
/usr/X11R6/lib/X11/XF86Config&nbsp;

<P>
/usr/X11R6/lib/X11/XF86Config.eg&nbsp;<A NAME="2946"></A><A NAME="2947"></A><A NAME="2948"></A>

<P>
/usr/X11R6/man/man5/XF86Config.5x.gz&nbsp;
</DD>
</DL>現在試試指令 <TT>find</TT>：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">find&nbsp;/&nbsp;-name&nbsp;XF86Config</SPAN>
</DD>
</DL>你會聽到很多磁碟活動的聲音，而且時間也比較長。結果像這樣：

<P>

<DL COMPACT>
<DT>
<DD>/etc/X11/XF86Config

<P>
/usr/X11R6/lib/X11/XF86Config

<P>
find:&nbsp;/var/spool/cron/atjobs:&nbsp;Permission&nbsp;denied

<P>
find:&nbsp;/var/spool/cron/atspool:&nbsp;Permission&nbsp;denied

<P>
find:&nbsp;/var/lib/xdm/authdir:&nbsp;Permission&nbsp;denied
</DD>
</DL>留意 <TT>find</TT> 只找到名字和 <TT>XF86Config</TT> <SPAN  CLASS="textit">一模一樣</SPAN>的檔案，而非含有那個字串的檔案。另外，<TT>find</TT> 是會在系統的所有目錄搜尋──包括你沒有閱讀權限的地方，因此你得到 <TT>Permission&nbsp;denied</TT> 的訊息。

<P>
用法也有點不同。用 <TT>find</TT> 的時候，你需要指定從哪個目錄開始搜尋，但 <TT>locate</TT> 會自動使用根目錄。指定名字時你需要使用 <TT>-name</TT> 選項，而且你可以用別的條件來搜尋，例如更新日期或擁有者。利用 <TT>find</TT> 去尋找含有 <TT>XF86Config</TT> 的檔案，需要用到 wildcard：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">find&nbsp;/&nbsp;-name&nbsp;'*XF86Config*'</SPAN>
</DD>
</DL>有如很多命令行式工具一樣，<TT>find</TT> 接受 wildcard 用來作參數。

<P>
一般來說，<TT>find</TT> 的功能比較強大，而 <TT>locate</TT> 比較快，適合日常快速的搜尋。要把搜尋的各方面都解釋得到將會耗用很長的時間，你不妨鍵入 <TT>info&nbsp;find</TT>，它會帶你到 <TT>find</TT> 和 <TT>locate</TT> 的 info page，那裡有更詳盡資料。

<P>

<H1><A NAME="SECTION04750000000000000000">
<SPAN CLASS="arabic">5</SPAN> 決定檔案的類別</A>
</H1>

<P>
<A NAME="2977"></A><A NAME="2978"></A><A NAME="2979"></A>Debian 有一個工具用來猜測檔案的類別。雖然它不是百分百準確，你可以試試以下的命令檢查一下你的系統：

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">file&nbsp;/bin/cp</SPAN>
</DD>
</DL>你會得到類似以下的回應：

<P>

<DL COMPACT>
<DT>
<DD><SMALL CLASS="FOOTNOTESIZE">/bin/cp:&nbsp;ELF&nbsp;32-bit&nbsp;LSB&nbsp;executable,&nbsp;Intel&nbsp;386,&nbsp;version&nbsp;1</SMALL>
<P>

</DD>
</DL>這是個 Intel 機器上使用的執行檔（技術性的部份不談）。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">file&nbsp;/etc/init.d/boot</SPAN>
</DD>
</DL>使用這個命令你會得到以下的回應：

<P>

<DL COMPACT>
<DT>
<DD>/etc/init.d/boot:&nbsp;Bourne&nbsp;shell&nbsp;script&nbsp;text
</DD>
</DL>意思是這個是一個 Bourne shell script 的文字檔案。

<P>

<H1><A NAME="SECTION04760000000000000000">
<SPAN CLASS="arabic">6</SPAN> 使用檔案管理員 (File Manager)</A>
</H1>

<P>
<A NAME="2993"></A><A NAME="2994"></A><A NAME="2995"></A><A NAME="2996"></A>除了利用人手來把檔案移來移去，你亦
可以使用檔案管理員。如果你要移動很多的檔案，檔案管理員會更有效率。有的檔案管理員是文字模式的，如 GNU Midnight Commander (<TT>mc</TT>)，有的是在 X 視窗系統下運作的，如 <TT>gmc</TT>（GNU Midnight Commander
的 X 視窗系統版本）。

<P>
逐個介紹恐怕已經超出了本書的範圍了，但如果你覺得命令行式不能滿足你的要求，你可以試試這些軟件。

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html760"
  HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html754"
  HREF="node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html748"
  HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html756"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html758"
  HREF="node23.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html761"
  HREF="node12.html">8 使用文本文件</A>
<B> Up:</B> <A NAME="tex2html755"
  HREF="node4.html">1 導論</A>
<B> Previous:</B> <A NAME="tex2html749"
  HREF="node10.html">6 Using the Shell</A>
 &nbsp <B>  <A NAME="tex2html757"
  HREF="node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html759"
  HREF="node23.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
John Goerzen / Ossama Othman / Debian 中文計劃
</ADDRESS>
</BODY>
</HTML>
