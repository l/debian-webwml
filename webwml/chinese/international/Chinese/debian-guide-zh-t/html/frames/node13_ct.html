
<!--Converted with LaTeX2HTML 99.2beta6 (1.42)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Contents of 9 X Window 系統</TITLE>
<META NAME="description" CONTENT="Contents of 9 X Window 系統">
<META NAME="keywords" CONTENT="debian-tutorial-zh_TW-html">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.2beta6">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="debian-tutorial-zh_TW-html.css">

<LINK REL="next" HREF="node14_mn.html">
<LINK REL="previous" HREF="node12_mn.html">
<LINK REL="up" HREF="node4_mn.html">
<LINK REL="next" HREF="node14_mn.html">
</HEAD>
 
<BODY bgcolor="#ffffff" text="#000000" link="#9944EE" vlink="#0000ff" alink="#00ff00">
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html804" HREF="node13_ct.html#SECTION04910000000000000000" TARGET="contents"><SPAN CLASS="arabic">1</SPAN> X 簡介</A>
<LI><A NAME="tex2html805" HREF="node13_ct.html#SECTION04920000000000000000" TARGET="contents"><SPAN CLASS="arabic">2</SPAN> 啟動 X 環境</A>
<LI><A NAME="tex2html806" HREF="node13_ct.html#SECTION04930000000000000000" TARGET="contents"><SPAN CLASS="arabic">3</SPAN> 基本的 X 操作</A>
<UL>
<LI><A NAME="tex2html807" HREF="node13_ct.html#SECTION04931000000000000000" TARGET="contents"><SPAN CLASS="arabic">1</SPAN> 鼠標</A>
<LI><A NAME="tex2html808" HREF="node13_ct.html#SECTION04932000000000000000" TARGET="contents"><SPAN CLASS="arabic">2</SPAN> X 客戶程序</A>
<LI><A NAME="tex2html809" HREF="node13_ct.html#SECTION04933000000000000000" TARGET="contents"><SPAN CLASS="arabic">3</SPAN> 發現問題</A>
<LI><A NAME="tex2html810" HREF="node13_ct.html#SECTION04934000000000000000" TARGET="contents"><SPAN CLASS="arabic">4</SPAN> 離開 X 環境</A>
<LI><A NAME="tex2html811" HREF="node13_ct.html#SECTION04935000000000000000" TARGET="contents"><SPAN CLASS="arabic">5</SPAN> 定制你的 X 啟動方式</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION04900000000000000000"></A><A NAME="X_Window_System"></A>
<BR>
<SPAN CLASS="arabic">9</SPAN> X Window 系統
</H1>

<P>
<A NAME="3096"></A><A NAME="3097"></A><A NAME="3098"></A>本章節介紹 X Window 系統圖形用戶接口。它假定你已經成功地按照安裝手冊的描述配置好了 X（不過，安裝手冊尚未寫出來；現在你將需要用上 XFree86 HOWTO，<TT>/usr/doc/X11</TT> 的內容，以及本章節的內容）。一旦你安裝了 X，你就可以通過輸入 <TT>startx</TT> 或者通過 <TT>xdm</TT> 進入 X 環境，這依你在配置時的選項而定。

<P>

<H1><A NAME="SECTION04910000000000000000">
<SPAN CLASS="arabic">1</SPAN> X 簡介</A>
</H1>

<P>
<A NAME="3103"></A><A NAME="3104"></A>GUI（圖形化用戶接口）是 Windows 和 Mac 操作系統的重要部分。基本不可能為那些系統寫一個不使用 GUI 的應用程序，而且系統不可能從命令行獲得使用的高效性。GNU/Linux 更為<SPAN  CLASS="textit">模塊化</SPAN>，也就是說，它由許多細小而獨立的部分組成，這些可以根據個人需要和選擇來決定使用還是不使用。其中一個部分就是 X Window 系統，或者簡稱 X。

<P>
該部分有時也稱為 X11。請注意 ``X Windows'' 的叫法並<SPAN  CLASS="textit">不</SPAN>正確。

<P>
X 本身是實現程序與你的鼠標和顯示卡通訊而不必知道它們類型的一種方法。也就是說，它是一種圖形硬件的<SPAN  CLASS="textit">抽象</SPAN><A NAME="3108"></A><A NAME="3109"></A><A NAME="3110"></A><A NAME="3111"></A>。用戶應用程序使用 X 的語言與 X 進行通訊；X 然後翻譯它們為你特定硬件的語言。這意味著這些程序僅僅只需寫入一次，即可在任何人的計算機上工作。

<P>
<A NAME="3112"></A><A NAME="3113"></A><A NAME="3114"></A><A NAME="3115"></A><A NAME="3116"></A>用 X 的行話說，與硬件進行會話的程序稱為 <SPAN  CLASS="textit">X 服務程序</SPAN>。要求 X 服務程序在屏幕上顯示窗口或圖形的用戶應用程序稱為 <SPAN  CLASS="textit">X 客戶程序</SPAN>。X 服務程序包括<SPAN  CLASS="textit">顯卡驅動程序</SPAN>，因此你必須有一個匹配你顯卡的 X 服務程序。

<P>
X 服務程序不提供人們想要從 GUI 獲得的任何功能，如調整和重排窗口。一個特殊的 X 客戶程序，稱為 <SPAN  CLASS="textit">window manager（窗口管理器）</SPAN><A NAME="3121"></A><A NAME="3122"></A><A NAME="3123"></A>的，為窗口繪製邊界和標題欄，調整和重排窗口，並且提供從菜單啟動其它 X 客戶程序的功能。特定的 window manager 可能會有附加的功能。

<P>
Debian 系統中的 Window manager 包括有 <TT>fvwm</TT>、<TT>fvwm2</TT>、<TT>icewm</TT>、<TT>afterstep</TT>、<TT>olvwm</TT>、<TT>wmaker</TT>、<TT>twm</TT> 和 <TT>enlightenment</TT>。你可能想要都嘗試一下，並選擇你最愛的。

<P>
<A NAME="3132"></A><A NAME="3133"></A><A NAME="3134"></A><A NAME="3135"></A><A NAME="3136"></A><A NAME="3137"></A><A NAME="3138"></A><A NAME="3139"></A>無論是 X 服務程序，還是 window manager，都不提供 <SPAN  CLASS="textit">file manager（文件管理器）</SPAN>，也就是說，任何窗口都不包括你的文件和目錄的圖標。你可以裝載 file manager 為一個獨立的應用程序，系統中包括許多這樣的程序。GNOME 桌面計劃<A NAME="3141"></A><A NAME="3142"></A>正在開發一個基於圖標的文件管理器和其它 GUI 工具。參看 <A NAME="tex2html39" HREF="http://www.gnome.org/" TARGET="_top">GNOME 主頁 </A>以獲得關於此的最新消息。

<P>
<A NAME="3145"></A><A NAME="3146"></A><A NAME="3147"></A><A NAME="3148"></A><A NAME="3149"></A>X 的最後一個特性是其<SPAN  CLASS="textit">網絡透明性</SPAN>，這意味著 X 客戶程序不需要關心它們通訊的是本機上 X 服務程序，還是網絡上某處的 X 服務程序。在實際條件下，這意味著你可以在一個更為強大的遠程機器上運行程序，而不會顯示在桌面機器上。

<P>

<H1><A NAME="SECTION04920000000000000000">
<SPAN CLASS="arabic">2</SPAN> 啟動 X 環境</A>
</H1>

<P>
<A NAME="3152"></A><A NAME="3153"></A><A NAME="3154"></A><A NAME="3155"></A>啟動 X 的方法有兩種。第一種是當你覺得需要使用的時候手工啟動 X。為了實現此，登錄到一個文本控制台並輸入 <TT>startx</TT>。這將啟動 X 並且轉換你到其虛擬控制台上。

<P>
<A NAME="3157"></A><A NAME="3158"></A><A NAME="3159"></A>
    第二種方法（也是推薦的方法）是採用 <TT>xdm</TT> 或者 X Display Manager 來使用 X。一般而言，<TT>xdm</TT> 在 X 虛擬控制台（可能是 VC7）上給出你一個不錯的圖形化的登錄提示界面，而你就在這裡登錄。

<P>
默認地，這兩種方法都會啟動一個 <TT>xterm</TT><A NAME="3163"></A><A NAME="3164"></A><A NAME="3165"></A><A NAME="3166"></A>，這是一個包含 shell 提示符的小窗口。在 shell 提示符下，你可以輸入你想在文本 VC 上輸入的任何命令。所以你可以按照本書中給出的例子來使用 <TT>xterm</TT>；唯一的 <TT>xterm</TT> 和文本控制台之間的不同就是你不需一定要登錄到 <TT>xterm</TT>，因為你已經登錄到 X 上了。

<P>
有不少事你只能在 X 下完成，這些將在本章節中討論。

<P>
注意事項：默認的 <TT>xterm</TT> 窗口使用的字體很細小。如果你有的是一個小的監視器或者非常高的分辨率或者不好的視力，那麼你可能想要改變此。照以下步驟去做：

<P>

<OL>
<LI>移動鼠標指針到 <TT>xterm</TT> 窗口的中央。
</LI>
<LI>同時按下 <TT>Control</TT> 鍵和鼠標<SPAN  CLASS="textit">右</SPAN>鍵。這將提供給你一個字體的菜單。
</LI>
<LI>指定你想要的字體，然後釋放鼠標按鍵。
</LI>
</OL><A NAME="3176"></A><A NAME="3177"></A><A NAME="3178"></A><A NAME="3179"></A>

<P>

<H1><A NAME="SECTION04930000000000000000">
<SPAN CLASS="arabic">3</SPAN> 基本的 X 操作</A>
</H1>

<P>
你應該熟悉一些在 X 下的常用操作。該部分介紹了一些你可能發現有用的基本操作。

<P>

<H2><A NAME="SECTION04931000000000000000">
<SPAN CLASS="arabic">1</SPAN> 鼠標</A>
</H2>

<P>
<A NAME="3182"></A><A NAME="3183"></A><A NAME="3184"></A><A NAME="3185"></A>X 下的鼠標的使用與在其它系統中是非常相似的，例外的是它要用到鼠標的三個按鍵。如果你的鼠標只有兩個按鍵，你可以使用同時按下兩個鍵來模擬中間鍵的效果。這需要點技巧，也有點麻煩，所以投資買一個 15 美元的三鍵鼠標可能不算一個壞主意。這些鼠標絕大多數計算機零售商那兒都有得賣。

<P>
假定你用右手使用鼠標，按鍵即按照從左到右的順序進行編號。因此按鍵一指的是左邊的按鍵，按鍵二指的是中間的按鍵，而按鍵三即指的是右邊的按鍵。你可能會在文檔中看到編號或者位置標識。

<P>
X 帶有簡單的內置的複製-粘貼<A NAME="3186"></A>功能。要選擇文本進行複製，你可以用鼠標左鍵點擊並拖曳。假定你所使用的應用程序具有複製-粘貼的功能支持，那麼這樣應該可以選定複製的文本。要粘貼該文本，你可以在一個不同的 X 應用程序下點擊一下鼠標中間鍵。例如，如果你接收到一封包括一個 URL 的 e-mail，你可以用左鍵選中該 URL，然後在你的萬維網瀏覽器的「位置」域中用中間鍵點擊來進行粘貼。

<P>

<H2><A NAME="SECTION04932000000000000000">
<SPAN CLASS="arabic">2</SPAN> X 客戶程序</A>
</H2>

<P>
<A NAME="3188"></A><A NAME="3189"></A><A NAME="3190"></A><A NAME="3191"></A><A NAME="3192"></A>與 X 服務程序進行通訊的程序稱為 X 客戶程序。大多數這類程序都會要求 X 服務程序在屏幕上顯示窗口。

<P>
你啟動 X 客戶程序的方式與啟動任何其它 Debian 程序的方式一樣。需在命令行中輸入客戶程序的名字即可。試著在一個已有的 <TT>xterm</TT> 窗口中輸入 <TT>xterm</TT>，接著一個新的 <TT>xterm</TT> 客戶程序就會出現在屏幕上。

<P>
你可能注意到原 <TT>xterm</TT> 現在已經無法使用了，這是因為你的 shell 在等待第二個 <TT>xterm</TT> 的完成。為了避免此種問題，你可以通過在命令名後添加 <TT>&amp;</TT> 來後台運行 X 客戶程序，就像這樣：<TT>xterm&nbsp;&amp;</TT>。如果你忘記這樣做了，你可以把一個在運行的進程放到後台去。首先使用 <TT>CTRL-z</TT> 掛起進程，然後使用 <TT>bg</TT> 命令把它放到後台去。

<P>
如果你經常使用一個程序，你的窗口管理器通常會提供一種方法把該程序放到一個方便快捷的圖形化菜單中。

<P>

<H2><A NAME="SECTION04933000000000000000"></A>
<A NAME="3203"></A>
<BR>
<SPAN CLASS="arabic">3</SPAN> 發現問題
</H2><A NAME="3204"></A><A NAME="3205"></A><A NAME="3206"></A>有時當你從一個圖形化的菜單中啟動一個 X 客戶程序的時候，如果失敗了，那麼你不能看到任何錯誤消息。你可以在文件 <TT>~/.xsession-errors</TT> 中找到它們。

<P>

<H2><A NAME="SECTION04934000000000000000">
<SPAN CLASS="arabic">4</SPAN> 離開 X 環境</A>
</H2>

<P>
<A NAME="3209"></A><A NAME="3210"></A><A NAME="3211"></A><A NAME="3212"></A><A NAME="3213"></A>要離開 X，你需要用到一個菜單。不幸的是，對於新手來說，每個窗口管理器的情況都各有不同，而且針對於大多數窗口管理器，這可以使用許多種方式來進行配置。如果有一個明顯的菜單，那麼可以查看一個類似於 ``Exit'' 或者 ``Close Window
Manager'' 的條目。如果你不能找到一個菜單，試著在屏幕背景上點擊一下每個鼠標按鍵。如果所有這些都失敗了，你可以通過按下 <TT>CTRL-ALT-Backspace</TT> 來強制殺死 X 服務程序。強制殺死服務程序會破壞在打開的應用程序中尚未保存的數據。

<P>

<H2><A NAME="SECTION04935000000000000000">
<SPAN CLASS="arabic">5</SPAN> 定制你的 X 啟動方式</A>
</H2>

<P>
<A NAME="3216"></A><A NAME="3217"></A><A NAME="3218"></A><A NAME="3219"></A><A NAME="3220"></A>當你啟動 X 時，Debian 運行一些 shell 腳本來啟動你的窗口管理器和其它 X 客戶程序。默認地，會為你啟動一個窗口管理器，一個 <TT>xconsole</TT> 和一個 <TT>xterm</TT>。

<P>
要定制你的 X 啟動方式，那麼文件 <TT>/etc/X11/config</TT> 必須包括行 <TT>allow-user-xsession</TT>。如果沒有此項，登錄為 root 並添加此行。然後登錄返回為你自己，繼續往下看。

<P>
你可以看到在文件 <TT>/etc/X11/Xsession</TT> 中 Debian 的 X 啟動是怎麼工作的。注意你可以通過修改文件 <TT>/etc/X11/config</TT> 來修改 <TT>/etc/X11/Xsession</TT> 的行為，它提供了一些系統級的參數選擇。

<P>
要在 X 啟動時運行你所選擇的客戶程序，你可以在你的 home 目錄下創建一個可執行的 shell 腳本 <TT>.xsession</TT>。<A NAME="3229"></A><A NAME="3230"></A><A NAME="3231"></A><A NAME="3232"></A><A NAME="3233"></A>

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">touch&nbsp;~/.xsession</SPAN>
</DD>
</DL>    這樣就創建了文件。

<P>

<DL COMPACT>
<DT>
<DD>$&nbsp;<SPAN  CLASS="textbf">chmod&nbsp;u+x&nbsp;~/.xsession</SPAN>
</DD>
</DL>    這樣使得文件成為可執行的。

<P>
一旦創建了 <TT>.xsession</TT>，你就需要使用你心愛的文本編輯器來編輯它以完成一些有用的工作。你可以在該腳本中做你所想做的任何事。但是，當腳本的進程中斷了，那麼 X 也會中斷。

<P>
在實際應用中，你通常需要使用一個對 <TT>exec</TT> 的調用來終結腳本。無論你 <TT>exec</TT> 的是什麼程序，它都將覆蓋腳本的進程，這樣在 <TT>exec</TT> 行後面的命令都將被忽略。你執行的程序將成為該腳本進程的新的所有者，這意味著 X 會在新程序的進程中斷時中斷。

<P>
假定你使用行 <TT>exec&nbsp;fvwm</TT> 來終結 <TT>.xsession</TT>。這表示當 X 啟動時會運行 <TT>fvwm</TT> 窗口管理器。當你退出 <TT>fvwm</TT> 窗口管理器時，你的 X 會話進程也將結束，而且所有其它客戶程序都將關閉。你不需要一定在這裡使用一個窗口管理器；你也可以 <TT>exec&nbsp;xterm</TT>，在這種情況下，在特定的 <TT>xterm</TT> 中輸入 <TT>exit</TT> 就會導致整個 X 會話進程的結束。

<P>
如果你想要在使用 <TT>exec</TT> 之前運行其它客戶程序，那麼你就需要在後台運行它們。否則，<TT>.xsession</TT> 將直到每個客戶程序退出，才繼續下一行的執行。參看前面的關於在後台運行作業的章節（一般你會想放一個 <TT>&amp;</TT> 標識符在末尾，如 <TT>xterm&nbsp;&amp;</TT>）。

<P>
不過，你可以充分利用這種行為。如果你想在 X 會話進程的結尾運行命令，那麼你可以使你的 <TT>.xsession</TT> 運行一個窗口管理器或類似的程序，並等待其完成。也就是說，不要使用 <TT>exec</TT> 和 <TT>&amp;</TT>；只輸入 <TT>fvwm</TT>。然後把你選擇的命令置於 <TT>fvwm</TT> 之後。

<P>
看看一些示例的 <TT>.xsession</TT> 文件可能會有些幫助。在所有的例子中，可以使用你選擇的窗口管理器來替換其中的 <TT>fvwm</TT>。

<P>
最簡單的 <TT>.xsession</TT> 只運行一個窗口管理器：

<P>

<DL COMPACT>
<DT>
<DD>exec&nbsp;fvwm
</DD>
</DL>    這將運行 <TT>fvwm</TT>，而當 <TT>fvwm</TT> 退出時，X 會話進程也就結束了。如果你不使用 <TT>exec</TT>，所有的執行看上去都一樣，但是 <TT>.xsession</TT> 會暫時掛起等待 <TT>fvwm</TT>，並且在 <TT>fvwm</TT> 完成後才退出。使用 <TT>exec</TT> 會要好一些，因為 <TT>fvwm</TT> 替換了 <TT>.xsession</TT> 而不需要它進行等待。你可以使用 <TT>ps</TT> 或者 <TT>top</TT> 命令來驗証此。

<P>
一個更為實用的 <TT>.xsession</TT> 會在啟動窗口管理器之前運行一些客戶程序。例如，你可能想要每當啟動 X 時，運行一些 <TT>xterm</TT> 和一個 <TT>xclock</TT>。沒問題；只需輸入 <TT>xterm &amp; xterm &amp; xclock &amp; exec fvwm</TT> 即可。兩個 <TT>xterm</TT> 和一個 <TT>xclock</TT> 在後台啟動，然後是窗口管理器的啟動。當你退出窗口管理器時，你也將退出 X。

<P>
你可能想嘗試一下不在後台運行，以看看會有什麼情況發生。輸入命令：<TT>xterm;&nbsp;xclock;&nbsp;exec&nbsp;fvwm</TT>。<TT>xterm</TT> 將會啟動，並且等待你退出它。然後 <TT>xclock</TT> 啟動；你在 <TT>fvwm</TT> 啟動之前不得不退出 <TT>xclock</TT>。命令是順序執行的，因為腳本在等待每個程序的退出。

<P>
你可以按你的需要使用順序的執行方式。可能你想查查每天你什麼時候停止工作。

<P>

<DL COMPACT>
<DT>
<DD>xterm&nbsp;&amp;

<P>
xclock&nbsp;&amp;

<P>
fvwm&nbsp;

<P>
date&nbsp;&gt;&gt;&nbsp;~/logout-time
</DD>
</DL>    這將並行在後台運行一個 <TT>xterm</TT> 和一個 <TT>xclock</TT>，然後運行 <TT>fvwm</TT> 並等待其完成。當你退出 <TT>fvwm</TT> 時，它會執行最後一行，這行把當前的日期和時間添加到文件 <TT>~/logout-time</TT> 中。

<P>
最後，你可以使用一個不使用窗口管理器來決定何時 X 退出的程序：<A NAME="3296"></A><A NAME="3297"></A><A NAME="3298"></A><A NAME="3299"></A>

<P>

<DL COMPACT>
<DT>
<DD>xclock&nbsp;&amp;

<P>
fvwm&nbsp;&amp;

<P>
exec&nbsp;xterm
</DD>
</DL>    該腳本會在後台運行 <TT>xclock</TT> 和 <TT>fvwm</TT>，然或使用 <TT>xterm</TT> 替換它自己。當你退出 <TT>xterm</TT> 時，你的 X 會話進程即結束。<A NAME="3306"></A><A NAME="3307"></A><A NAME="3308"></A><A NAME="3309"></A>

<P>
最好的學習怎樣使用 <TT>.xsession</TT> 的方法即是嘗試一些情況的結果。另外，確保你使用了 <TT>chmod</TT> 來使之可執行；忘記執行此步驟是經常犯的錯誤。

<P>

<HR>
<ADDRESS>
John Goerzen / Ossama Othman / Debian 中文計劃
</ADDRESS>
</BODY>
</HTML>
