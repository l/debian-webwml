#use wml::debian::template title="關於帶有多個語言版本的網頁"
#use wml::debian::translation-check translation="1.24"
# $Id$

# 譯註：我剛把英文版更新了的部分融入了，但未完全翻譯好。
#       - foka, 2000-12-24

<P>很明顯，在這世上並非人人都使用同樣的語言。隨著萬維網的發展，\
網頁並存在於多種語言的情況日趨普遍。\
因而誕生了一個標準，叫做內容協商 (content negotiation)，\
它允許人們設定他們希望接收到的文檔的語言（可選多種）。\
實際上被交付的版本是經過你的瀏覽器和服務器之間\
的協商而確定的；你的瀏覽器發送它的參數選擇，而服務器根據\
你的參數來決定發送哪個版本，服務器是如何設定的，\
以及文檔有什麼版本可用。

<p>
<ul>
<li><a href="#fix">Debian 網頁顯示的語言不對啊！怎麼辦？</a>
<li><a href="#setting">在瀏覽器裡設置首選語言</a>
<li><a href="#cache">A Note on Caching Web Servers</a>
</ul>

<h3><a name="fix">Debian 網頁顯示的語言不對啊！怎麼辦？</a></h3>

<p>從 Debian 網站所收到的文檔的語言不對，可能的原因有三。\
第一個可能，也是最常見的原因，就是瀏覽器的設定不正確。\
請參閱<a href="#setting">在瀏覽器裡設置首選語言</a>一節堶探ㄔX的解決辦法。

<p>第二個可能，是 caches 壞了或者設定有錯誤。\
This is a growing problem as more ISPs see caching as a way of decreasing
net traffic. Read the <a href="#cache">note on caching web servers</a> even
if you don't think you are using one.

<p>第三個可能，就是 <a href="http://www.debian.org/">www.debian.org</a>
真的有錯誤。\
不過，我們這兩年以來從用戶所收到的「語言不對」報告之中，只有一個\
真的是我們 Debian 這邊的問題。\
We thus suggest that you investigate
the first two sources of problems thoroughly before contacting us.
如果您發現 <a href="http://www.debian.org/">http://www.debian.org/</a>
工作正常，但其中一個鏡像卻有問題，請向我們回報問題，我們自會聯絡\
該鏡像的維護員，請他們修正問題的了。

<p>After fixing any problem it is suggested that you clean out the local
cache (both disk and memory) in your browser before trying to view pages again.
We also suggest you use <a href="http://packages.debian.org/stable/web/lynx.html">lynx</a> when testing. It is the only browser we have
found to comply 100% with the HTTP specifications for content negotiation.

<h3><a name="setting">在瀏覽器裡設置首選語言</a></h3>

<P>註：以下列表尚未完成。如果你知道在下面沒有列出的瀏覽器配置資訊，\
請把它們發送至
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a> 。

<P>要在你的瀏覽器裡設置[CN:缺省:][HKTW:預設:]語言，\
你必須設定一個變量來傳遞給萬維網服務器。\
[CN:配置:][HKTW:設定:]方法則視乎您使用的瀏覽器而定。

<DL compact>
<DT><strong>lynx</strong>
<DD>你可以編輯你的 <kbd>.lynxrc</kbd> 中的 <kbd>preferred_language</kbd> 
變量或者在 lynx 中使用 'O' 命令來設置。
<DT><strong>netscape 3.x</strong>
<DD>將
<pre>
     *httpAcceptLanguage: [preferred_language string]
</pre>
加入到 Netscape app-defaults [CN:文件:][HKTW:檔案:]中或 <kbd>~/.Xresources</kbd> 中    
<DT><strong>netscape 4.x</strong>
<DD>使用
<pre>
     Edit -&gt; Preferences -&gt; Navigator -&gt; Languages
</pre>
請確定你是從選項當中選擇的語言。許多人報告問題是因為他們在語言選擇中\
[CN:手工:][TW:手動:][HK:以人手:]輸入所造成的。
<DT><strong>W3</strong> (基於 emacs 的瀏覽器)
<DD>
<pre>(setq url-mime-language-string  "preferred_language=fr; q=1.0, en; q=0.5")</pre>
或者使用自定義包 (custom package)（假設版本為 URL version p4.0pre.14）：
<pre>Hypermedia -&gt; URL -&gt; Mime -&gt; Mime Language String...</pre>
<DT><strong>IE ??</strong>
<DD>
<pre>
     View -&gt; Internet Options -&gt; General/Languages
</pre>
<DT><strong>IE 5</strong>
<DD>
<pre>
     Menu Extras -&gt; Internet Options -&gt; Languages
</pre>
<DT><strong>Opera</strong>
<DD>4.0 或以上版本 (Windows): File -&gt; Preferences -&gt; Languages<br>
    4.0TP (Linux):
    在您的 <tt>opera.ini</tt> [CN:文件:][HKTW:檔案:]，\
    <tt>[Adv User Prefs]</tt> 項，加上
    <tt>HTTP Accept Language=</tt><var>設定</var>
<DT><strong>iCab</strong>
<DD>
<pre>
     Edit -&gt; Preferences -&gt; Browser -&gt; Fonts,Languages
</pre>
<DT><strong>W3M</strong>
<DD>
<pre>
     Options (o) -&gt; Other Behavior -&gt; Accept-Language
</pre>
</DL>

<H3>我應該把該變量設為什麼？</H3>

<P>由於 Debian 網頁的原創語言是英語，而且不是所有的文檔\
都已翻譯成你的首選語言，所以，當設置你的首選語言變量時，\
最好把英語也加進去，作為後備。\
舉個例子，如果你使用 lynx 和中文，你應該下面一行加入到你的
<kbd>.lynxrc</kbd>
<pre>
preferred_language=zh-[CN:CN:][HK:HK:][TW:TW:]; q=1.0, [HK:zh-TW; q=0.9, :]zh; q=0.8, en; q=0.5
</pre>
這告訴服務器如果存在的話，你希望得到這份文檔的\
[CN:中國大陸版簡體:][TW:台灣版繁體:][HK:香港版繁體:]中文版本\
[HK:，次選台灣中文版:]。\
如果沒有，就試用任何中文版。\
如果根本沒有中文版，那就使用英語版本。

<p>你在使用語言的子類別 (sub-categories) 時要小心。\
比如使用 'en-GB, fr' 的效果，與大多數人所預料的不同，尤其是如果\
他們沒有讀過 http 規格的話。\
當 'en' 和 'fr' 版本的文檔都存在時，\
如果服務器接收到首選語言的請求是 'en-GB, fr'，那麼服務器會提供法語的版本。\
唯有當帶有 .en-gb 語言擴展名的[CN:文件:][HKTW:檔案:]的版本存在時，\
服務器才會提供英文版的文檔。\
因此，你需要配置你的瀏覽器發送 'en-GB, en, fr' 或簡單的 'en, fr' 。\
反轉過來倒可以，例如服務器收到 en 的請求時，可以送回 en-us 的版本。

<p><strong>我們強烈建議你，除非有很好的理由，否則在語言設置中不要加入\
國家擴展名。</strong>\
如果你添加了某一個的話，請確認你也包括了同樣但不附帶擴展名的語言。\
中文比較特別，中國大陸通用 GB 國標碼，而香港和台灣通用 Big5 碼，\
所以須要加上國家擴展名，例如 zh-CN, zh-HK 和 zh-TW。\
為了確保所有網頁皆能正確顯示，也請務必加上 zh 和 en 作後備。

<P>更多的關於設置首選語言變量的信息請查閱
<A href="http://httpd.apache.org/docs/content-negotiation.html">Apache
的內容協商文檔 (Apache documentation on content negotiation)</A> 。


<h3><a name="cache">A Note on Caching Web Servers (also known as Proxies)</a></h3>

<p>Many people route web requests through a cache. This is essentially a web
server that has no content of its own. It sits in the middle between users
and real web servers. The cache grabs requests for web pages, fetches the
page and makes a local copy. This can really cut down on net traffic when
many users request the same page. (This technique is also known as
proxying.)

<p>This is a great idea most of the time, but fails when the cache is buggy.
In particular, many caches do not understand content negotiation. This
results in them caching a page in one language and serving that, even if a
different language is requested later. The only solution is to upgrade or
replace the caching software.

<p>Historically, people only used a cache when they configured their browser
to use one. This is no longer the case. Your ISP may be redirecting all HTTP
requests through a cache. If the cache doesn't handle content negotiation
properly, then users can receive pages in the wrong language. (This
technique is also known as transparent proxying.)
