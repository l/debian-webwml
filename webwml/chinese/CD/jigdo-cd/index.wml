#use wml::debian::cdimage title="使用 jigdo 下載 Debian [CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]" BARETITLE=true
#use wml::debian::toc
#use wml::debian::translation-check translation="1.30"

<p>Jigsaw Download，或者簡稱 <a href="http://atterer.net/jigdo/">jigdo</a>，\
未來將成為散佈 Debian [CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]的主要途徑。[CN:當前:][HKTW:目前:]這個系統可以運作，但是並不十分\
好用，因為下載的[CN:應用程序:][HKTW:應用程式:]還沒完成。

<toc-display/>

<hr>

<toc-add-entry name="why">為何使用 jigdo 比直接下載好？</toc-add-entry>

<p>因為它比較快。因為某些原因，\
[CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]的映射[CN:站點:][HKTW:站台:]比起[CN:常規:][HKTW:一般:]直接存放 Debian 系統[CN:光盤:][HKTW:光碟:][CN:文件的:][HKTW:檔案的:][CN:站點:][HKTW:站台:]少很多。\
所以，如果您想從映射[CN:站點:][HKTW:站台:]上下載[CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]，通常 ftp 站[CN:离:][HKTW:離:]您很遠，\
而且很容易負載過重，特別是新版剛推出時。</p>

<p>當然，[CN:常規:][HKTW:一般:]存放 Debian 系統[CN:光盤:][HKTW:光碟:][CN:文件的:][HKTW:檔案的:][CN:站點:][HKTW:站台:]都不放[CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]，那[CN:么:][HKTW:麼:] jigdo
是如何下載映像[CN:文件:][HKTW:檔:]的？其實 jigdo 只是下載每一個[CN:光盤:][HKTW:光碟:]上[CN:的文件:][HKTW:的[CN:文件:][HKTW:檔:]案:]，然[CN:后:][HKTW:後:]將它們重新\
組合成一個大的[CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]。這些都在幕[CN:后:][HKTW:後:]運作，您<em>只需要</em>告訴下載[CN:軟件:][HKTW:軟體:]\
<tt>.jigdo</tt> [CN:文件:][HKTW:檔:]存放的位置就可以。</p>

<p>更多的[CN:信息:][HKTW:資訊:]可以在
<a href="http://atterer.net/jigdo/">jigdo 首頁</a>找到。\
[CN:始終:][HKTW:永遠:]歡迎自願協助開發 jigdo 的朋友。<p>

<toc-add-entry name="how">如何透過 jigdo 下載映像[CN:文件:][HKTW:檔:]</toc-add-entry>

<ul>

  <li>先下載[CN:包含:][HKTW:含有:] <tt>jigdo-lite</tt> 的套件，這個套件[CN:支持:][HKTW:支援:]
   GNU/Linux、Windows [CN:与:][HKTW:與:] Solaris，可以在\
  <a href="http://atterer.net/jigdo/">jigdo 首頁</a>中找到。<br>
  <strong>Debian [CN:用戶:][HKTW:使用者:]請注意，至少要更新到 0.6.8 版</strong>。 - Debian 3.0 
  中的那個版本無法下載最新版映像[CN:文件:][HKTW:檔:]！</li>

  <li>[CN:運行:][HKTW:執行:] <tt>jigdo-lite</tt>。它會問您 <tt>.jigdo</tt> 的 URL 位置。\
  您也可以直接在命令列中指定它的位置。</li>

  <li>選擇您要下載的位置，然[CN:后:][HKTW:後:]輸入 <tt>.jigdo</tt> [CN:文件:][HKTW:檔:]的 URL。</li>

  <li>依照[CN:屏幕:][HKTW:螢幕:]上的指示進行。等全部都完成之[CN:后:][HKTW:後:]，它會自動幫您計算產生的\
  映像[CN:文件:][HKTW:檔:]的[CN:檢測:][HKTW:檢查:]碼 (checksum) 並告訴您是否符合。</li>

</ul>

<p>更多詳盡的[CN:与:][HKTW:與:]逐步教學，請閱讀
<a href="http://www.tldp.org/HOWTO/mini/Debian-Jigdo/">Debian jigdo
mini-HOWTO</a>。這一份 HOWTO 也闡述了 jigdo 的[CN:高級:][HKTW:進階:]功能。
像是升級舊版的 CD 映像[CN:文件:][HKTW:檔:]到[CN:當前:][HKTW:目前的:]版本 (只下載那些修改過的，而不是整個映像[CN:文件:][HKTW:檔:])。</p>

<p>當您下載完成並寫到[CN:光盤:][HKTW:光碟:]之[CN:后:][HKTW:後:]，請參考 <a href="$(HOME)/releases/stable/installmanual">安裝程序的[CN:詳細信息:][HKTW:詳細資訊:]</a>。</p>

<toc-add-entry name="which">可用的映像[CN:文件:][HKTW:檔:]</toc-add-entry>
<ul>

  <li>穩定 (stable) 版[CN:光盤:][HKTW:光碟:]中官方的 jigdo [CN:文件:][HKTW:檔:]：
  <a href="http://us.cdimage.debian.org/jigdo-area/3.0_r1/jigdo/">\
  美國映射[CN:站點:][HKTW:站台:]</a>、
  <a href="http://non-us.cdimage.debian.org/jigdo-area/3.0_r1/jigdo/">\
  歐洲映射[CN:站點:][HKTW:站台:]</a></li>

<ul> 

  <li>測試 (testing) 版[CN:光盤:][HKTW:光碟:]中正式的<a href="http://gluck.debian.org/cdimage/testing/jigdo-area/"> jigdo </a>[CN:文件:][HKTW:檔:]（<em>所有[CN:机:][HKTW:機:]器結構都有，一週更新一次</em>）<br>
[CN:當前:][HKTW:目前:]測試版 (testing) [CN:与:][HKTW:與:]開發中 (unstable) 版本的[CN:光盤:][HKTW:光碟:]映像[CN:文件:][HKTW:檔:]，還無法開[CN:机:][HKTW:機:]並安裝，只提供從\
穩定版本更新使用。</li>

</ul> 

  <li>測試版本[CN:光盤:][HKTW:光碟:]中非正式的 <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sarge/jigdo/">jigdo</a> [CN:文件:][HKTW:檔:]（<em>i386 專用，每日更新</em>）。</li>

  <li>測試版本 DVD 中非正式的 <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sarge-dvd/jigdo/">jigdo</a> [CN:文件:][HKTW:檔:]（<em>i386 專用，每日更新</em>）。</li>

  <li>開發中 (unstable) 版本[CN:光盤:][HKTW:光碟:]中非正式的 <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid/jigdo/">jigdo</a> [CN:文件:][HKTW:檔:]（<em>i386 專用，每日更新</em>）。</li>

  <li>開發中版本 DVD 中非正式的 <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid-dvd/jigdo/">jigdo</a> [CN:文件:][HKTW:檔:]（<em>i386 專用，每日更新</em>）。<br>
注意，DVD [CN:當前:][HKTW:目前:]還<strong>不能</strong>在 windows 中下載！</li>

</ul>

<hr>

<toc-add-entry name="faq">Frequently Asked/Answered Questions</toc-add-entry>

<p><strong>我要如何透過 proxy 使用 jigdo？</strong></p>

<p>[CN:打開:][HKTW:開啟:] <tt>~/.jigdo-lite</tt>（windows 系統下為 <tt>jigdo-lite-settings.txt</tt>）\
[CN:文件:][HKTW:檔:]，找到 "wgetOpts" 開頭的那一行，加入這些參數：</p>

<p><tt>-e ftp_proxy=http://<i>LOCAL-PROXY</i>:<i>PORT</i>/</tt>
<br><tt>-e http_proxy=http://<i>LOCAL-PROXY</i>:<i>PORT</i>/</tt>
<br><tt>--proxy-user=<i>USER</i></tt>
<br><tt>--proxy-passwd=<i>PASSWORD</i></tt></p>

<p>當然，記得把正[CN:确:][HKTW:確:]的 proxy [CN:服務器:][HKTW:伺服器:]填入。最[CN:后:][HKTW:後:]兩個[CN:僅:][HKTW:只有:]在您的 proxy 需要密碼認證時才\
要加上去。這些參數要加在 wgetOpts 這一行最[CN:后:][HKTW:後:]面，<tt>'</tt> [CN:字符:][HKTW:字元:]<em>之前</em>。\
所有的東西都要在一行之中。</p>

<p>此外，在 Linux 下您也可以[CN:設置:][HKTW:設定:] <tt>ftp_proxy</tt> [CN:与:][HKTW:與:] <tt>http_proxy</tt> 兩個環境變數。例如加在 <tt>/etc/environment</tt> 或 <tt>~/.bashrc</tt>中。</p>

<p><strong>哇！[CN:程序:][HKTW:程式:]出錯了 -- 我前面下載的都白費了嗎？</strong></p>

<p>當然是不會，不過有可能已經有一個很大的 <tt>.iso.tmp</tt> [CN:文件:][HKTW:檔:]已經產生，\
而 <tt>jigdo-lite</tt> 有問題，告訴您它一直在試著重新下載。此時有[CN:几:][HKTW:幾:][CN:种:][HKTW:種:]選擇：<p>

<ul>

  <li>直接按 Return 重新下載。也許有些[CN:文件:][HKTW:檔案:]因為[CN:超時:][HKTW:逾時:]或其他[CN:發送:][HKTW:傳送:]時的錯誤\
而無法下載 - 它會試著下載那些沒下載[CN:的文件:][HKTW:的[CN:文件:][HKTW:檔:]案:]。</li>

  <li>換一個映射[CN:站點:][HKTW:站台:]。有些 Debian 映射[CN:站點:][HKTW:站台:]沒有同步，可能其他的[CN:站點:][HKTW:站台:]還有存放\
某些原先映射[CN:站點:][HKTW:站台:]已經刪除了[CN:的文件:][HKTW:的[CN:文件:][HKTW:檔:]案:]，或者其他的[CN:站點:][HKTW:站台:]已經更新，而原來指定的[CN:站點:][HKTW:站台:]\
還沒。</li>

  <li>用 <tt><a href="http://rsync.samba.org/">rsync</a></tt> 來找回失去的\
部份映像[CN:文件:][HKTW:檔:]。首先，您要先找出您下載的映像[CN:文件:][HKTW:檔:]的正[CN:确:][HKTW:確:] rsync URL，[CN:包含:][HKTW:包括:]\
提供<a href="../mirroring/rsync-mirrors">穩定版</a> rsync 服務的[CN:站點:][HKTW:站台:]以及\
<a href="../http-ftp/#testing">測試版</a> 的[CN:站點:][HKTW:站台:]。接著決定正[CN:确:][HKTW:確:]的\
路徑[CN:与:][HKTW:與:][CN:文件名:][HKTW:檔名:]。您可以用這樣的命令：<tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>來列出目錄。

  <br>接下來，將 <tt>jigdo-lite</tt> 的[CN:臨時文件:][HKTW:暫存檔:]名中的 <tt>.tmp</tt> 去掉，並\
將[CN:遠程:][HKTW:遠端:] URL [CN:与:][HKTW:與:]本地端[CN:文件名:][HKTW:檔名:]傳給 rsync：
<tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso binary-i386-1.iso</tt>

<br>您也許要使用 rsync 的 <tt>--verbose</tt> [CN:与:][HKTW:與:] <tt>--progress</tt> 參數來[CN:獲取:][HKTW:取得:]狀態[CN:信息:][HKTW:訊息:]，還有<tt>--block-size=8192</tt>來增加速度。</li>

  <li>如果以上的嘗試都失敗，您下載的[CN:數據:][HKTW:資料:]仍然存在：在 Linux 下您可以利用
 <tt>.tmp</tt> [CN:的文件:][HKTW:的[CN:文件:][HKTW:檔:]案:]來[CN:獲取:][HKTW:取得:]已下載的套件，並用新的 jigdo [CN:文件:][HKTW:檔:]（例如最新的每日測試版）來產生新的映像[CN:文件:][HKTW:檔:]。您只要先用 root 身份在下載的目錄下[CN:運行:][HKTW:執行:]這些命令：
 <tt>mkdir&nbsp;mnt; mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt> 。接下來，到另一個目錄去重新下載，並在 「掃描[CN:文件:][HKTW:檔案:](Files to scan)」 提示下輸入 <tt>mnt</tt> 目錄的路徑。</li>
</ul>
