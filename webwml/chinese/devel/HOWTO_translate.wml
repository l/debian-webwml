# Maintained by Anthony Wong <ypwong@debian.org>

#use wml::debian::template title="如何翻譯 Debian 網頁"

<P>謝謝你幫忙翻譯 Debian 的網頁！雖然大家使用的言語不同，但我們希望\
各個語言的網頁也是翻譯自英文的版本，而且也是一同放在同一的網址上。

<H3>背景</H3>
<P>本網站上所有人手寫成，非說明文件的 html 檔案皆由 wml 產成。\
它們是利用 CVS 貯存在 cvs.debian.org 中。你先要「拿取」(check out) \
這些 wml 檔案到你自己的電腦，以後要修改的也都是這些檔案。修改後，\
你便可以改動過的檔案合拼 (commit) 到 cvs.debian.org。於每一天\
master.debian.org 上的 Makefile 都會被執行一次來更新所有網頁。\
最後這些網頁就會被分發到鏡像站台 (mirror)。

<H3>目前翻譯協調人員</H3>
<ul>
<li>法文：Christophe Le Bars &lt;clebars@debian.org&gt;
    <br>See <a href="http://www.debian.org/~clebars/f2dp/ltcp.html">
    http://www.debian.org/~clebars/f2dp/ltcp.html</a> for more information.
<li>西班牙文：Javier Fdz-Sanguino Pe&ntilde;a &lt;jfs@ieeesb.etsit.upm.es&gt;
<li>丹麥文：Flemming Mahler Larsen &lt;mahler@DK.net&gt;
<br>See <a href="http://www.netfactory.dk/debian/">http://www.netfactory.dk/debian/</A>
    for more information.
<li>日文：前原&nbsp;惠太 Keita Maehara &lt;maehara@debian.org&gt;
<li>德文：Thimo Neubauer &lt;thimo@debian.org&gt;
<li>意大利文：Giuseppe Sacco &lt;gsacco@hsomail.com&gt;
<li>俄文：D'jinnie &lt;jinn@irony.org&gt;
<li>克羅地亞文：Matej Vela &lt;mvela@public.srce.hr&gt;
<li>波蘭文：Marcin Owsiany &lt;porridge@lo4.ids.bielsko.pl&gt;
<li>荷蘭文：Both Florus NTC/Zurich &lt;florus.both@usa.net&gt;
<li>葡萄牙文：Eduardo Marcel Macan &lt;thecore@thecore.com.br&gt;
<li>中文：黃彥邦 Anthony Y. P. Wong &lt;ypwong@debian.org&gt;
<li>芬蘭文：Antti-Juhani Kaijanaho &lt;gaia@iki.fi&gt;
<li>瑞典文：peter karlsson &lt;pk@mds.mdh.se&gt;
<li>挪威文：Tor Slettnes &lt;tor@slett.net&gt;  
<li>韓文：俞盛太 Seongtae Yoo &lt;alloying@nownuri.net&gt;
</ul>
如欲參與以上的翻譯計劃，請直接跟他們聯絡。\
若有意擔當新語言的翻譯協調工作，請寄電郵至 \
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>。\
你也可以參加 debian-www@lists.debian.org 通訊論壇 (mailing list)，\
這是個有關 Debian 網頁的通訊論壇，你可以在那堜M大家討論。\
有關訂閱的詳情，請參閱 \
<a href="http://www.debian.org/MailingLists/subscribe">http://www.debian.org/MailingLists/subscribe</a>。

<H3>使用 CVS</H3>
<P>在以下的例子中我們會利用匿名存取 (anonymous access)。如果你擁有\
一個有寫入權限的戶口 (account)，請使用這個戶口而非匿名戶口。\
使用 CVS 之前，你必須先 <tt>login</tt>（登入）CVS 服務器
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre>
（anonymous 時按 return 鍵跳過 password 即可。）

<P>要「拿取」(check out) wml 檔案到你自己的電腦，你需要下這個指令：
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/&lt;lang&gt;
</pre>
當中的 &lt;lang&gt; 是你想要的語言。除了你想翻譯的語言以外，通常你也\
需要一份英文版本，以作參考。\
此外，你也可以只下載其中一部份的檔案。例如
<kbd>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/english/SPI</kbd>.
擁有特別戶口／密碼的話，指令則是
<kbd>cvs -d :pserver:username@cvs.debian.org:/cvs/webwml checkout webwml/english/SPI</kbd>.

<P>從此以後，你就不需鍵入‘-d :pserver:...’這一部份的了。每隔數天，\
你就需要執行
<pre>
   cvs update -d
</pre>
來拿取 CVS 檔案貯存庫中曾被其他人改動過的檔案。參數 -d 會自動增加任何\
新的目錄。

<P>以下的例子只適用於擁有寫入權限的人。當你修改完一些檔案後，你可以\
利用這個指令來把它們合拼 (commit) 到 CVS 的檔案貯存庫：
<pre>
   cvs commit &lt;file&gt;.wml
</pre>
or
<pre>
   cvs commit &lt;dir&gt;   （上傳在 &lt;dir&gt; 目錄中曾被改動的檔案）
</pre>
or
<pre>
   cvs commit         （上傳在現在及以下的目錄中曾被改動的檔案）
</pre>

<P>如果你是某個網頁的第一位翻譯員，在 commit 前請先下指令：
<pre>
   cvs add &lt;file&gt;.wml
</pre>
‘cvs add’不是 recursive 的，所以你先要 add 完目錄才可以 add 內裡的檔案。

<P>有關 CVS 的詳情，請使用‘info cvs’。

<H3>有關 Debian 開發人員的 CVS 讀寫權</H3>
<P>
都已經有 CVS 中網頁部份的寫入權限。\
為了使 CVS 的 密碼能更容易地管理，我們建議你最好不要用上述的\
:pserver: 方法來存取 CVS 的檔案庫，而改為使用以下的方式。\

<P>因為所有的 Debian 開發人員在 cvs.debian.org 都已經有帳戶的了，\
所以他們可以用一個比較安全的方法來存取 CVS 的檔案庫。對比於上述的 \
:pserver: 方法，這個方法是比較可取的。首先你需要寄信給 \
webmaster@debian.org 以得到 CVS 的讀寫權。一旦你被加入到適當的群組後，\
你只需要把環境變數 CVS_RSH 設定為 ssh（在你的 .bashrc 中加入\
'export CVS_RSH=ssh'），然後用以下的方法來讀取(checkout)檔案庫：
<pre>
   cvs -d :ext:&lt;account_name&gt;@cvs.debian.org:/cvs/webwml checkout webwml/english/
</pre>

一旦檔案庫被 check out，所有的程序就如上述的一樣的了。

<H3>翻譯網頁</H3>

<P>為了使翻譯的工作更容易，網頁是由 wml 寫成的源碼產生出來的，\
這點對大家來說可能有些不習慣。除此之外，每一個語言的網頁都有它自己的目錄。

#To start a new translation, someone must first add translations to the wml template
#files in english/template/debian/*.wml (not a big job).
#Please follow the comments as there are items that should not be translated.
#Comments may begin with a pound sign, '#', in wml.

<P>由於網頁伺服器的設定是使用了 content negotiation，所以你不需改動\
任何的對內的網頁地址 (internal link)。如果你認為某個地址不對，請先\
諮詢 debian-www 才作任何修改。有時候你可能在翻譯時要對內容作出修改，\
例如在法文的支援首頁 (support page) 加上如何參與 debian-french \
通訊論壇的例子。不過如果你要對其他地方進行修改，請先知會\
<a href="mailto:debian-www@lists.debian.org">debian-www@lists.debian.org</a>，\
因為我們希望即使是不同語言的網頁也能保持一致。

<P>希望這些工夫真正能夠使大家翻譯時更輕鬆。

<p>註：當某一個網頁剛剛被翻繹好的時候，其他語言的網頁是沒有連結它的，\
直至這些網頁再被重新產生為止。

<H3>增加新目錄</H3>
<P>在 CVS 上增加新目錄時，有一點大家需要留意的。如果那個新目錄是列在\
../Makefile 中，那麼新目錄中必需要有一個 Makefile，否則‘make’時將會\
出錯。你不需顧慮在 SUBS 變數中不存在的目錄，因為 make 懂得自動跳過它們。

<H3>伺服器怎樣知道要傳送那個檔案？</H3>
<P>你會發覺對內的網址 (internal link) 不是用 .html 結尾的。這是因為\
伺服器使用了 content negotiation 來判斷傳送哪個版本的檔案。當多過\
一個選擇的時候，伺服器會編出一個列表記錄所有有機會傳送的檔案。假設\
伺服器被要求送出‘about’，列表可能包括 about.en.html 和 about.de.html。\
Debian 的伺服器是預設傳送英文文件，但這是可以改變的。

<P>如果用戶端把相關的變數設定了，例如設定了拿取德文，那麼在以上的例子\
裡 about.de.html 就會被送出。好處就是如果沒有你所想的語言，另一個語言\
就會取而代之（總比任何也沒有好）。決定傳送那個檔案是比較復雜的，所以在\
這裡不便大費周章，如果你有興趣，你可以在這裡得到滿意的答案：\
<a href="http://www.apache.org/docs/content-negotiation.html">http://www.apache.org/docs/content-negotiation.html</a>。

<P>因為很多用戶根本不知道有 content-negotiation 這回事，所以\
在每一頁的底下都有一些連結指向那一頁的其他語言版本。那些連結\
是當網頁被更新的時候由 wml 所執行的一個 perl script 產生出來的。

<H3>開始翻譯的範例</H3>
在此以法文為例：
<pre>
   cvs checkout webwml/english
   cd webwml
   mkdir french
   cvs add french
   cd french
   cp ../english/.wmlrc .
   cvs add .wmlrc

作出以下修改： '-D CUR_LANG=English' to '-D CUR_LANG=French'
               '-D CUR_ISO_LANG=en' to '-D CUR_ISO_LANG=fr'
               有需要時請加上 'CHARSET=iso-8859-1'

不要對 .wmlrc 作任何更改。

編輯 english/template/debian/*.wml 並於所有 define-tag 項目加入翻譯，
應該是很直接的。

   cp ../english/Make.* ../english/Makefile .
   cvs add Make*

在 Make.lang 中將 'LANG=en' 改成 'LANG=fr' 及將 'LANGUAGECAP=EN' 改成\
'LANGUAGECAP=FR'。
除非你翻譯的語言為多位元，否則你不用在 Makefile 中\
更改什麼的了。

每個目錄中的 makefile 將會編譯它找到的 .wml 檔案。

把加入 (add) 檔案的過程做完後，在 webmal 目錄裡執行
   cvs commit
</pre>
你現在就可以開始翻譯網頁了。

<H3>翻譯網頁範例</H3>
在此以社會契約之法文譯本為例：
<pre>
   cvs checkout webwml/english webwml/french   （如你還未執行）
   cd webwml/french
   cp ../english/social_contract.wml .
   cvs add social_contract.wml
 
修改及翻譯 social_contract.wml，不要翻網址，也不要改動它們。\
完成後，鍵入

   cvs commit -m "short description of the changes you made" social_contract.wml
</pre>

<H3>編譯 wml</H3>
假設你已經在你的機器上安裝了 <A href="http://packages.debian.org/wml">wml</A>，\
在 webwml/&lt;lang&gt; 中鍵入 <kbd>make</kbd> 即可。\
如果你下指令 <kbd>make install</kbd>，各 html 文檔就會放入\
<kbd>../../debian.org/</kbd> 目錄中。

<p>處理多位元語言可能需要對 wml 檔案進行特別的「事前」及「事後」處理 (pre- \
and post-processing)。你可以利用 <kbd>webwml/&lt;lang&gt;/Make.lang</kbd> \
中的 <kbd>WMLPROLOG</kbd> 和 <kbd>WMLEPILOG</kbd> 變數來達到這個目的。\
視乎 <kbd>WMLEPILOG</kbd> 指示的程式怎樣運作，你可能同時需要更改 \
<kbd>WMLOUTFILE</kbd> 的值。

<H3>特別檔案及目錄</H3>
<ul>
<li><b>News/</b><br>
此目錄全部都是寄至 debian-announce 的新聞郵件。在首頁上列出的新聞標題\
都是用 script 自動地讀取這些郵件來製成的。

<p>你何自由選擇翻譯哪個新聞。由於時間關係你可能止可以翻譯一些特別的\
新聞，諸如 Debian 新版本推出的怖告。翻什麼是完全由你決定的。製作首頁\
上新聞頭條的 script 會檢查新聞是否已被譯成，如果還未就會沿用英文版本。

<li><b>security/</b><br>
此目錄包含所有與 Debian 有關的安全問題的情況。首頁上的標題的製作方法\
與 News/ 目錄的差不多。翻譯與否隨你喜歡。

<li><b>devel/people.wml</b><br>
這裡包括各軟件的維護者與他們正維護的軟件。這列表的產生是自動化的，並且\
是放置在 webwml/english/devel/people.names。列表中英文的部份只是‘main’，\
‘non-free’，‘non-us’，‘contrib’和‘homepage’。翻譯者如認為\
有需要翻‘homepage’，請先寄信至 debian-www。

<li><b>MailingLists/subscribe.wml 和 MailingLists/unsubscribe.wml</b><br> \
這兩個網頁是利用 scripts 自動製成的，暫時不用麻煩翻譯了。我們將會發展一 個系統來加入大家的翻譯。

<li><b>distrib/vendors.wml</b><br>
vendors.wml 應被翻譯，它亦包括 <kbd>../../english/devel/vendors.CD</kbd>，\
一個記載販賣者的列表。vendors.wml 並不包括某個特定語言的資料，但它連結\
了 <kbd>vendors.CD.def</kbd>，而這個檔則包含 <kbd>vendors.CD</kbd> 所需\
的所有翻譯了的詞匯。在任何項目加入翻譯時應使用格式
<kbd><protect>[EN:...:]</protect></kbd>。

例如：
<pre>
	<protect>[EN:Country:]\</protect>
	<protect>[ES:Pa-is:]\</protect>
	<protect>[DE:Land:]\</protect>
</pre>
請勿翻譯該頁上任何其他文字。

</ul>
