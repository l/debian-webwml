# Maintained by Anthony Wong <ypwong@debian.org>

#use wml::debian::template title="如何翻譯 Debian 網頁 / HOWTO translate Debian pages"

<P>謝謝你幫忙翻譯 Debian 的網頁！雖然大家使用的言語不同，但我們希望
各個語言的網頁也是翻譯自英文的版本，而且也是一同放在同一的網址上。

<H3>背景</H3>
<P>本網站上所有人手寫成，非說明文件的 html 檔案皆由 wml 產成。
它們是利用 CVS 貯存在 cvs.debian.org 中。你先要「拿取」(check out)
這些 wml 檔案到你自己的電腦，以後要修改的也都是這些檔案。修改後，
你便可以改動過的檔案合拼 (commit) 到 cvs.debian.org。於每一天
master.debian.org 上的 Makefile 都會被執行一次來更新所有網頁。
最後這些網頁就會被分發到鏡像站台 (mirror)。

<H3>目前翻譯協調人員</H3>
<ul>
<li>法文：Christophe Le Bars &lt;clebars@teaser.fr&gt;
    <br>See <a href="http://www.debian.org/~clebars/f2dp/ltcp.html">
    http://www.debian.org/~clebars/f2dp/ltcp.html</a> for more information.
<li>西班牙文：Javier Fdz-Sanguino Pe&ntilde;a &lt;jfs@ieeesb.etsit.upm.es&gt;
<li>丹麥文：Flemming Mahler Larsen &lt;mahler@DK.net&gt;
<br>See <a href="http://www.netfactory.dk/debian/">http://www.netfactory.dk/debian/</A>
    for more information.
<li>日文：前原&nbsp;惠太 Keita Maehara &lt;maehara@debian.org&gt;
<li>德文：Thimo Neubauer &lt;thimo@debian.org&gt;
<li>意大利文：Giuseppe Sacco &lt;gsacco@hsomail.com&gt;
<li>俄文：D'jinnie &lt;jinn@irony.org&gt;
<li>克羅地亞文：Matej Vela &lt;mvela@public.srce.hr&gt;
<li>波蘭文：Marcin Owsiany &lt;porridge@lo4.ids.bielsko.pl&gt;
<li>荷蘭文：Both Florus NTC/Zurich &lt;florus.both@usa.net&gt;
<li>葡萄牙文：Eduardo Marcel Macan &lt;thecore@thecore.com.br&gt;
<li>中文：黃彥邦 Anthony Y. P. Wong &lt;ypwong@debian.org&gt;
<li>芬蘭文：Antti-Juhani Kaijanaho &lt;gaia@iki.fi&gt;
<li>瑞典文：peter karlsson &lt;pk@mds.mdh.se&gt;
<li>挪威文：Tor Slettnes &lt;tor@slett.net&gt;  
<li>韓文：俞盛太 Seongtae Yoo &lt;alloying@nownuri.net&gt;
</ul>
如欲參與以上的翻譯計劃，請直接跟他們聯絡。
若有意擔當新語言的翻譯協調工作，請寄電郵至
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>。
你也可以參加 debian-www@lists.debian.org 通訊論壇 (mailing list)，
這是個有關 Debian 網頁的通訊論壇，你可以在那堜M大家討論。
有關訂閱的詳情，請參閱
<a href="http://www.debian.org/MailingLists/subscribe">
http://www.debian.org/MailingLists/subscribe</a>。

<H3>使用 CVS</H3>
<P>在以下的例子中我們會利用匿名存取 (anonymous access)。如果你擁有
一個有寫入權限的戶口 (account)，請使用這個戶口而非匿名戶口。
使用 CVS 之前，你必須先 <pre>login</pre>（登入）CVS 服務器
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre>
（anonymous 之 password，按 return 鍵即可。）

<P> 「拿取」(check out) wml 檔案到你自己的電腦的指令是：
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/&lt;lang&gt;
</pre>
當中的 &lt;lang&gt; 是你想要的語言。除了你想翻譯的語言以外，通常你也
需要一份英文版本，以作參考。
此外，你也可以只下載其中一部份的檔案。例如
<kbd>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/english/SPI</kbd>.
擁有特別戶口／密碼的話，指令則是
<kbd>cvs -d :pserver:username@cvs.debian.org:/cvs/webwml checkout webwml/english/SPI</kbd>.

<P>從此以後，你就不需鍵入‘-d :pserver:...’這一部份的了。每隔數日，
你便需要執行
<pre>
   cvs update -d
</pre>
來拿取 CVS 檔案貯存庫中曾被其他人改動過的檔案。參數 -d 會自動增加任何
新的目錄。

<P>以下的例子只適用於擁有寫入權限的人。當你修改完一些檔案後，你可以
利用這個指令來把它們合拼 (commit) 到 CVS 的檔案貯存庫：
<pre>
   cvs commit &lt;file&gt;.wml
</pre>
or
<pre>
   cvs commit &lt;dir&gt;   (上傳在 &lt;dir&gt; 目錄中曾被改動的檔案)
</pre>
or
<pre>
   cvs commit               (上傳在現在及以下的目錄中曾被改動的檔案)
</pre>

<P>如果你是某個網頁的第一位翻譯員，你 commit 前請先下指令：
<pre>
   cvs add &lt;file&gt;.wml
</pre>
‘cvs add’不是 recursive 的，所以你先要 add 完目錄才可以 add 內裡的
檔案。

<P>有關 CVS 的詳情，請‘info cvs’。

<H3>翻譯網頁</H3>

<P>To make the job of the translators as easy as possible
the pages are generated a bit differently than many of you will be used to.
The web pages are actually generated
using source that is marked up with wml.
There are separate directories for each language.
To start a new translation, someone must first add translations to the wml template
files in english/template/debian/*.wml (not a big job).
Please follow the comments as there are items that should not be translated.
Comments may begin with a pound sign, '#', in wml.

<P>Because of the way the web servers are set up (using content negotiation),
you should not have to change any of the internal links. Write to debian-www
if you feel a link is incorrect before changing it. There are times when
you may want to make a change to the content when you are
translating. One example is on the support page; you will
probably want to include an example on subscribing to the
language specific mailing list, e.g. debian-french on the
French version of the pages. If you make any other changes,
please notify
<a href="mailto:debian-www@lists.debian.org">debian-www@lists.debian.org</a>
as it is desired to keep the content as similar as possible
between the different versions.

<P>I hope you find the work we've done will make translating
the pages as easy as possible.

<p>Note: when a page is first translated, the other languages will not create
links to your page until they are regenerated.

<H3>增加新目錄</H3>
<P>Some care should be taken when adding a new directory to CVS. If the new directory
is listed SUBS variable in the Makefile for the directory above it, then the new
directory should also contain a Makefile. Otherwise a 'make' will give error messages. 
You do not need to worry about non-existant directories being listed in a SUBS variable
since make is intelligent enough to skip them.

<H3>伺服器怎樣知道要傳送那個檔案？</H3>
<P>You will notice that internal links don't end in .html. This
is because the server is using content negotation to decide
which version of the document to deliver. When there is more
than one choice, the server will make a list of all possible
files to serve, e.g. if the request is for 'about', then the list
of completions might be about.en.html and about.de.html.
The default for Debian servers will be to serve the English
document, but it is configurable.

<P>If a client has the proper variable set, for example to serve German,
then in the example above about.de.html would be served. The
nice thing about this setup is that if the desired language is
not available, a different language will be delivered instead
(which hopefully is better than nothing). The decision on which
document is served is a bit confusing so instead of describing
it here, you should get the definitive answer from
<a href="http://www.apache.org/docs/content-negotiation.html">http://www.apache.org/docs/content-negotiation.html</a>
if you are interested.

<P>因為很多用戶根本不知道有 content-negotiation 這回事，
there are links at the bottom of every page pointing directly
to the version of that page in every other language available.
This is computed using a perl script called by wml when the
page is generated. 

<H3>開始翻譯的範例</H3>
在此以法文為例：
<pre>
   cvs checkout webwml/english
   cd webwml
   mkdir french
   cvs add french
   cd french
   cp ../english/.wmlrc .
   cvs add .wmlrc
edit and change: '-D CUR_LANG=English' to '-D CUR_LANG=French'
                 '-D CUR_ISO_LANG=en' to '-D CUR_ISO_LANG=fr'
                 'CHARSET=iso-8859-1' if needed
Don't make any other changes to .wmlrc
Edit english/template/debian/*.wml and add translations to all the define-tag entries.
This should be quite straightforward
   cp ../english/Make.* ../english/Makefile .
   cvs add Make*
edit Make.lang, change 'LANG=en' to 'LANG=fr' and change 'LANGUAGECAP=EN' to
'LANGUAGECAP=FR'. You should not need to make any other changes to the Makefiles
unless you are translating to a language which uses a multi-byte charset.

The makefile in each directory will compile every .wml file it finds.

When done adding pages, do a
   cvs commit
from the webwml directory.
</pre>
你現在可以開始翻譯網頁了。

<H3>翻譯網頁範例</H3>
在此以社會契約之法文譯本為例：
<pre>
   cvs checkout webwml/english webwml/french   (if you hadn't already)
   cd webwml/french
   cp ../english/social_contract.wml .
   cvs add social_contract.wml
edit social_contract.wml and translate the text. Do not try to translate any
links or change them in any way. When done, type
   cvs commit -m "short description of the changes you made" social_contract.wml
</pre>

<H3>編譯 wml 文檔</H3>
假設你已經在你的機器上安裝了 <A href="http://packages.debian.org/wml">wml</A>，
在 webwml/&lt;lang&gt; 中鍵入 <kbd>make</kbd> 即可。
如果你下指令 <kbd>make install</kbd>，各 html 文檔就會放入
<kbd>../../debian.org/</kbd> 目錄中。

<p>多位元語言可能需要特別的 pre- or post-processing of the wml
files in order to handle the character set properly. This can be done by
changing the variables <kbd>WMLPROLOG</kbd> and <kbd>WMLEPILOG</kbd>.
in <kbd>webwml/&lt;lang&gt;/Make.lang</kbd> appropriately.
Depending on how your <kbd>WMLEPILOG</kbd> program works, you may need to change
the value of <kbd>WMLOUTFILE</kbd>.

<H3>特別檔案及目錄</H3>
<ul>
<li><b>News/</b><br>
此目錄 contains all the news items sent to debian-announce. The
news items are also used to create a list of the titles of the most recent 
news items for the main page. This is all done automatically using scripts.

<p>You may translate any news items you wish. It is expected that time
constraints will mean that only special items, such as the announcement of
a new release of Debian, will be translated. It is completely up to you
what you translate. The script that grabs news headlines to generate the
index page and the items for the main web page checks for translations of
news items and if it doesn't find one, uses the title from the english copy.

<li><b>security/</b><br>
此目錄 contains the status of all Debian related security problems
that have been reported. Indices are created similarly to the News/ directory.
Translations are up to you.

<li><b>devel/people.wml</b><br>
This contains the list of package maintainers and what packages they maintain.
The list of names and packages is generated automatically and is kept in
webwml/english/devel/people.names. The only text in there that is english
specific is 'main', 'non-free', 'non-us', 'contrib' and 'homepage'.
If translators feel it is necessary, 'homepage' could be translated.
Send mail to debian-www if you would like this done.

<li><b>MailingLists/subscribe.wml 和 MailingLists/unsubscribe.wml</b><br>
這兩個網頁是利用 scripts 自動製成的，請暫時不用麻煩翻譯。\
A system for adding translations will be developed.

<li><b>distrib/vendors.wml</b><br>
vendors.wml should be translated. It includes <kbd>../../english/devel/vendors.CD</kbd>
which contains the actual list of vendors. This file does not contain any
language specific information, but includes <kbd>vendors.CD.def</kbd> which contains
the translation of all phrases needed in <kbd>vendors.CD</kbd>. You should add
translations for all entries of the form <kbd><protect>[EN:...:]</protect></kbd>.
For example,
<pre>
	<protect>[EN:Country:]\</protect>
	<protect>[ES:Pa-is:]\</protect>
	<protect>[DE:Land:]\</protect>
</pre>
請勿翻譯該頁上任何其他文字。

</ul>
