#use wml::debian::cdimage title="Télécharger des images de cédérom Debian avec jigdo" BARETITLE=true
#use wml::debian::translation-check translation="1.20" maintainer="Willy Picard"

<p>Jigsaw Download (NDT&nbsp;: «&nbsp;téléchargement puzzle&nbsp;»),
ou en raccourci <a href="http://atterer.net/jigdo/">jigdo</a>,
a pour but d'être le moyen principal de distribution des images
de cédérom Debian. Actuellement, le système fonctionne mais
n'est pas très aisé dans son utilisation car l'application de gestion
des téléchargements n'est pas encore terminée.</p>

<p><strong>Pourquoi jigdo est-il meilleur qu'un téléchargement 
direct&nbsp;?</strong> Parce qu'il est plus rapide&nbsp;! Pour des raisons
diverses, il y a beaucoup moins de miroirs pour les images de cédérom
que pour l'archive «&nbsp;normale&nbsp;» de Debian. De ce fait, si vous
téléchargez à partir d'un miroir d'images de cédérom, ce miroir sera
non seulement plus éloigné de vous, mais également très chargé, en particulier
après la publication d'une nouvelle version.</p>

<p>Bien sûr, un miroir «&nbsp;normal&nbsp;» de Debian ne propose pas d'image
de cédérom. Aussi, comment jigdo peut-il utiliser de tels miroirs pour
télécharger des images&nbsp;? jigdo télécharge séparément tous les
fichiers qui sont sur le cédérom. Puis, tous ces fichiers sont 
assemblés dans un gros fichier qui est la copie exacte de l'image de disque 
compact. Cependant, tout cela est transparent - tout ce que <em>vous</em>
avez besoin de faire est d'indiquer à l'outil de téléchargement
l'emplacement du fichier «&nbsp;<tt>.jigdo</tt>&nbsp;» à utiliser.</p>

<p><strong>Quelles images sont disponibles&nbsp;?</strong></p>

<ul>

  <li>Les fichiers jigdo officiels pour la dernière version
  «&nbsp;stable&nbsp;» sur cédérom&nbsp;: <a
  href="http://us.cdimage.debian.org/jigdo-area/current/jigdo/">USA</a>, <a
  href="http://non-us.cdimage.debian.org/jigdo-area/current/jigdo/">Europe</a>
&nbsp;;</li>

  <li>Les fichiers jigdo non officiels pour la <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid/jigdo/">\
  version «&nbsp;unstable&nbsp;» sur cédérom</a>, <em>fabriqués
  quotidiennement</em>&nbsp;;</li>

  <li>Les fichiers jigdo non officiels pour la <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid-dvd/jigdo/">\
  version «&nbsp;unstable&nbsp;» sur dévédérom</a>, <em>fabriqués
  quotidiennement</em>
  <br>
  Les dévédéroms <strong>ne</strong> sont <strong>pas</strong> actuellement
  téléchargeables sous Windows&nbsp;!</li>

  <li>Les fichiers jigdo non officiels pour la <a
  href="http://cdimage.debian.org/jigdo-area/">version 
  pre-release/testing</a> - avant d'essayer quoi que ce soit, <a
  href="../faq/#mailing-list">consultez la liste de discussion</a>&nbsp;!

</ul>

<p><strong>Quelles sont les étapes nécessaires au téléchargement d'une
image avec jigdo&nbsp;?</strong>

<ul>

  <li>Téléchargez un paquet contenant <tt>jigdo-lite</tt>. jigdo-lite est
  disponible sous divers formats à partir de la <a
  href="http://atterer.net/jigdo/">page principale de jigdo</a>.
   <br><strong>Utilisateurs de Debian, veuillez mettre à jour jigdo et utiliser
   une version au moins égale à 0.6.8</strong> -&nbsp;la version de Debian Woody n'est
   pas suffisante pour télécharger les dernières images&nbsp;!</li>

  <li>Exécutez le script <tt>jigdo-lite</tt>. Il vous demande l'URL du fichier
  «&nbsp;<tt>.jigdo</tt>&nbsp;» à utiliser. (Vous pouvez également préciser cet
  URL sur la ligne de commande si vous le souhaitez)&nbsp;;</li>

  <li>Choisissez ce que vous voulez télécharger à partir d'une des adresses
  ci-dessus et entrez l'URL du fichier 
  «&nbsp;<tt>.jigdo</tt>&nbsp;»&nbsp;;</li>

  <li>Suivez les instructions du script. Si tout se passe bien, le script
  finira son exécution par le calcul de la somme de contrôle de l'image
  créée et vous dira si la somme de contrôle correspond à celle de l'image
  originelle.</li>

</ul>

<p>Lorsque vous avez téléchargé les images et que vous les avez gravées sur
un cédérom, veuillez jeter un coup d'½il aux <a
href="$(HOME)/releases/stable/installmanual">informations détaillées concernant
le processus d'installation</a>.</p>

<p>jigdo est capable de «&nbsp;mettre à jour&nbsp;» une ancienne version
d'une image de cédérom - dans ce cas, seulement ce qui a changé
est téléchargé. Aussi, les personnes qui ont leur propre miroir Debian local
peuvent utiliser les URL de type «&nbsp;file:&nbsp;» lorsqu'ils doivent fournir
l'URI du miroir à utiliser.</p>

<p>Si vous souhaitez voir à quoi ressemble le prototype de l'application
graphique ou certains programmes expérimentaux pour Windows, veuillez consulter
la 
<a href="http://atterer.net/jigdo/">page principale de jigdo</a>. Les volontaires
souhaitant aider sont toujours les bienvenus&nbsp;!</p>

<hr>

<p><strong>Comment faire pour que jigdo utilise mon mandataire («&nbsp;proxy&nbsp;»)&nbsp;?</strong></p>

<p>Ouvrez le fichier <tt>~/.jigdo-lite</tt> (ou
<tt>jigdo-lite-settings.txt</tt> pour la version Windows) dans un
éditeur de texte et trouvez la ligne commençant par
«&nbsp;wgetOpts&nbsp;». Les options suivantes peuvent être
ajoutées à cette ligne&nbsp;:</p>

<p><tt>-e ftp_proxy=http://<i>LOCAL-PROXY</i>:<i>PORT</i>/</tt>
<br><tt>-e http_proxy=http://<i>LOCAL-PROXY</i>:<i>PORT</i>/</tt>
<br><tt>--proxy-user=<i>UTILISATEUR</i></tt>
<br><tt>--proxy-passwd=<i>MOT DE PASSE</i></tt></p>

<p>Veuillez bien évidemment utiliser les valeurs correspondantes à votre
mandataire. Les deux dernières options ne sont nécessaires que si votre
mandataire impose une identification par mot de passe. Ces options
doivent être ajoutées à la fin de la ligne commençant par 
«&nbsp;wgetOpts&nbsp;» <em>avant</em> le caractère <tt>'</tt> terminant
la ligne. Toutes les options doivent être sur une seule ligne.</p>

<p>Sous Linux, vous pouvez également utiliser les variables d'environnement
<tt>ftp_proxy</tt> et <tt>http_proxy</tt> en les définissant par exemple
dans le fichier <tt>/etc/environment</tt> ou
<tt>~/.bashrc</tt>.</p>

<p><strong>Aargh&nbsp;! Le script a terminé son exécution par une erreur 
- ai-je téléchargé tous ces MB en vain&nbsp;?!</strong></p>

<p>Bien sûr, Cela-Ne-Devrait-Pas-Se-Produire(tm) mais, pour des raisons 
diverses, il est possible que vous vous retrouviez avec un gros fichier 
«&nbsp;<tt>.iso.tmp</tt>&nbsp;» et que <tt>jigdo-lite</tt> semble avoir
un problème, vous informant de manière répétitive qu'il essaie de reprendre
le téléchargement. Il y a plusieurs choses que vous pouvez essayer dans
ce cas&nbsp;:</p>

<ul>

  <li>Reprenez le téléchargement en appuyant sur la touche Entrée, Il se peut
  que certains fichiers n'aient pu être téléchargés à cause de l'expiration de
  la connexion ou d'autres erreurs passagères - un autre essai peut être
  effectué pour télécharger les fichiers manquants&nbsp;;</li>

  <li>Essayez avec un autre miroir. Certains miroirs Debian sont assez 
  sensiblement dépassés - un autre miroir contient peut-être encore des
  fichiers qui ont été effacés de celui que vous aviez utilisé, ou il a
  été mis à jour avec des fichiers qui ne sont pas encore présent sur
  votre miroir&nbsp;;</li>

  <li>Téléchargez les morceaux de l'image manquants avec <tt><a
  href="http://rsync.samba.org/">rsync</a></tt>. Tout d'abord, vous devez
  trouver l'URL correct pour rsync de l'image que vous téléchargez&nbsp;:
  Choisissez un serveur qui offre un accès par rsync aux images <a
  href="../mirroring/rsync-mirrors">stable</a> ou <a
  href="../http-ftp/#testing">testing</a>, puis déterminez le chemin d'accès et
  le nom de ficher corrects.  La liste des répertoires peut être obtenue à
  l'aide de commandes du style
  <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>.

  <br>Ensuite, supprimez l'extension «&nbsp;<tt>.tmp</tt>&nbsp;» du ficher temporaire
  généré par <tt>jigdo-lite</tt> en le renommant et passez comme paramètres à rsync
  l'URL distant et le nom du fichier local&nbsp;:
  <tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso
  binary-i386-1.iso</tt>.

  <br>Vous pouvez utiliser les options <tt>--verbose</tt> et
  <tt>--progress</tt> de rsync pour avoir plus d'information sur le transfert 
  et <tt>--block-size=8192</tt> pour augmenter sa vitesse&nbsp;;</li>

  <li>Si rien ne marche, les données que vous avez téléchargées ne sont pas
  encore perdues&nbsp;: sous Linux, vous pouvez monter en boucle (NDT&nbsp;:
  «&nbsp;loop-mount&nbsp;») le fichier <tt>.tmp</tt> afin d'accéder aux paquets
  déjà téléchargés et de les réutiliser pour produire une image à partir
  d'un nouveau fichier jigdo (tel que le dernier instantané quotidien
  de la version testing si votre téléchargement erroné était également un
  instantané de la version testing). Pour cela, entrez tout d'abord la
  commande suivante en tant que root dans le répertoire contenant le
  fichier erroné&nbsp;; <tt>mkdir&nbsp;mnt;
  mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt>. 
  Démarrez ensuite un nouveau téléchargement à partir d'un autre
  répertoire, et entrez le chemin d'accès au répertoire <tt>mnt</tt>
  à l'invite «&nbsp;Files to scan&nbsp;».</li>
</ul>
