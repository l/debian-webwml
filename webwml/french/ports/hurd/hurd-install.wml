#use wml::debian::template title="Debian GNU-Hurd --- Installation" NOHEADER="yes"
#use wml::debian::translation-check translation="1.19" maintainer="Thomas Marteau"

#include "$(ENGLISHDIR)/ports/hurd/menu.inc"

<h1>
Debian GNU-Hurd</h1>

<h2>
Installation</h2>


<h3>
Matériel</h3>
<p>
Vérifiez le
<a href="http://www.urbanophile.com/arenn/hacking/hurd/hurd-hardware.html">Guide
de compatibilité matérielle</a>
pour connaître quels équipements sont supportés par le Hurd.
</p>

<h3>
Logiciel</h3>

<p>
<a href="http://www.gnu.org/software/hurd/install.html">Guide d'installation 
du Hurd</a></p>.
<p>
Il y a deux façons d'installer un système Debian GNU-Hurd. La première
rend possible l'installation directement depuis les paquets Debian, mais
vous aurez besoin de <code>dpkg</code>, le gestionnaire de paquets Debian,
pour y arriver. Cela peut être difficile si vous utilisez une autre
distribution Linux que la Debian, ou si vous n'avez pas de Linux du tout.
Il exite donc une deuxième méthode, qui utilise un fichier d'archive 
<code>tar</code>.
Après l'avoir installé, vous pouvez mettre à jour votre système avec les
dernières versions des paquets Debian en utilisant les fonctions natives.
Ces deux méthodes sont décrites plus bas.</p>

<h4>
Préparatifs communs</h4>
<p>
Pour démarrer l'installation, créez la partition Hurd avec <code>mke2fs
+-O sparse_super -o hurd /dev/PARTITION</code>, où <code>PARTITION</code> 
est la partition du disque dur que vous allez consacrer au Hurd. Notez que 
cette partition ne doit pas dépasser 1&nbsp;Go pour le moment, à cause d'une 
limitation connue dans le Hurd.
<p>
Ensuite, montez votre partition à un endroit sûr. J'utilise <code>/gnu</code> 
comme point de montage, principalement parce que c'est le chemin par défaut
pour la compilation croisée. Toute autre place fait aussi bien l'affaire,
de même qu'une installation sur une image disque sur un autre système
de fichiers. À partir de maintenant, je vais supposer que vous utilisez
<code>/gnu</code>. Si ce n'est pas le cas, pensez à modifier les commandes
en conséquence.
</p>

<h4>
Deux alternatives</h4>
<h5>
Installation à partir des paquets Debian</h5>
<p>
Pour installer Debian GNU-Hurd, vous devez récupérer quelques paquets
Debian et mes scripts d'installation. Téléchargez d'abord les scripts
suivants&nbsp;:
</p>
<ul>
<li><A HREF="extra-files/cross-install"><code>cross-install</code></A> -
Installation d'un stock de paquets pour Linux</li>
<li><A HREF="extra-files/native-install"><code>native-install</code></A> -
Configuration du nouveau système</li>
<li><A HREF="extra-files/dpkg-hurd"><code>dpkg-hurd</code></A> -
Utilisez dpkg sur la partition Hurd depuis Linux</li>
</ul>
<p>
Si vous n'avez pas une distribution Debian, vous aurez également besoin
d'une version de <code>dpkg</code> pour votre système.
</p>
<p>
Enfin, le plus important, les paquets Debian. Ils se trouvent
sur tout <A HREF="../../distrib/ftplist">miroir FTP Debian</A>, dans le
répertoire <code>debian/dists/unstable/main/binary-hurd-i386/</code>. La liste
des paquets indispensables se trouve au début du script <code>dpkg-hurd</code>.
Des récentes versions de <code>cross-install</code> offrent des 
fonctionnalités de téléchargement automatique pour vous aider. Cette option 
nécessite une connexion réseau et l'utilitaire <code>wget</code>. Sinon, vous 
pouvez les télécharger les paquets et les sauver dans un unique répertoire, 
ou dans les mêmes sous-répertoire que ceux utilisés sur le site FTP.
</p>
<p>
Maintenant, <code>cd</code> vers le répertoire contenant vos scripts et
les paquets Debian. Si vous utilisez un unique répertoire, il doit
contenir tous les fichiers. Si vous utilisez l'organisation FTP des paquets,
assurez-vous que les scripts sont en haut de l'arborescence pour qu'ils
puissent trouver les paquets dans <code>base/</code> etc.
Lancez <code>./cross-install /gnu</code>. Si tout ce passe bien, les paquets 
seront installés et les rustines seront appliquées pour régler les problèmes 
connus. Maintenant continuez avec le 
<A HREF="#reboot">Réamorçage du système</A>.
</p>

<h5>
Installation à partir du fichier d'archive <code>tar</code></h5>
<p>
De temps en temps, je dépose une image à jour du système de base
sur <code><a href="ftp://alpha.gnu.org/pub/gnu/hurd/contrib/marcus/">
ftp://alpha.gnu.org/pub/gnu/hurd/contrib/marcus/</a></code>
Ces fichiers s'appellent <code>gnu-YYYYMMDD.tar.gz</code>, où 
<code>YYYYMMDD</code> est la date de création l'image. Ils vous permettent d'installer 
le Hurd même si vous n'avez jamais touché à un système Debian. Ces fichiers 
peuvent être utilisés pour installer le Hurd même si vous n'avez pas une 
version fonctionnelle du gestionnaire de paquet <code>dpkg</code>.
<p>
Téléchargez le fichier tar dont la date est la plus récente. C'est le seul
fichier dont vous aurez besoin pour avoir un système qui tourne (à part
GRUB). <code>cd /gnu</code> pour être en haut de la partition Hurd.
Maintenant, lancez l'extraction du fichier tar avec la commande
<code>tar -xpzf /quelquepart/gnu-YYYYMMDD.tar.gz</code> en utilisant le chemin
et la date corrects.</p>

<h4><A NAME="reboot">Réamorçage du système</A></h4>
<p>
Maintenant, réamorcez le système et utilisez GRUB pour amorcer la partition
Hurd. Je ne vous donne pas plus d'information sur GRUB et le plan de
nommage des partitions, vous trouvez ces informations et bien d'autres
</p>
<p>
Après le réamorçage, vous devez seulement lancer <TT>./native-install</TT>
pour terminer l'installation. Amusez-vous bien&nbsp;!
</p>

