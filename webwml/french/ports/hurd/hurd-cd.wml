#use wml::debian::template title="Debian GNU/Hurd --- Hurd-CDs" NOHEADER="yes"
#include "$(ENGLISHDIR)/ports/hurd/menu.inc"
#use wml::debian::translation-check translation="1.48" maintainer="Arnaud Fontaine"

<define-tag cdserie>K8</define-tag>
<define-tag cdbasename>debian-<cdserie>-hurd-i386</define-tag>

<H1>Debian GNU/Hurd</h1>

<H2>Utilisation des cédéroms d'installation non officiels de Debian
GNU/Hurd</H2>

<P>Alors que de nombreuses personnes appellent GNU/Hurd le système
GNU, cette appellation n'est pas tout à fait correcte. Le noyau est en
réalité GNU&nbsp;mach et non le Hurd. Le Hurd est une collection de
serveurs fonctionnant au-dessus d'un micronoyau,
GNU&nbsp;mach. L'ensemble du Hurd et de GNU&nbsp;mach font partie du
projet GNU tandis que le noyau Linux est un projet indépendant.</P>

<P>Version actuelle de Debian GNU/Hurd, <cdserie>.</P>

<P>Seules les quatre premières des six images ISO sont disponibles pour
cette version.</P>

<P>Une image de petite taille (<cdbasename>-mini.iso) est disponible, ce qui
pourrait être utile pour les personnes souhaitant installer Debian
GNU/Hurd par le réseau.</P>

<P>baseGNU.tgz (une archive du système GNU de base) a été conçue
spécialement pour ce jeu de cédéroms.</P>

<H3>Téléchargement</H3>

<P>Les images <tt>iso</tt> actuelles sont <cdbasename>-CDx.iso. L'ensemble des
binaires spécifiques au système GNU se trouve sur le premier
cédérom, ainsi que tous les paquets considérés comme requis,
importants ou standards. De cette manière, un système GNU de base peut
être installé en utilisant le premier cédérom.</P>

<P>Les sites suivants répliquent habituellement les images, mais
vérifiez tout de même.</P>

<P>Les sites principaux pour ces images sont <url
"http://eu.hurd.gnuab.org/pub/debian-cd/"> pour l'Europe et <url
"http://na.hurd.gnuab.org/pub/debian-cd/"> pour l'Amérique du
Nord.</p>

<P>Une recherche sur <url "http://www.filesearching.com/"> pour hurd-K
vous permettra de trouver des sites plus proches géographiquement.</P>

<P>Les instructions pour graver les cédéroms à partir des images sont
disponibles sur <url "http://cdimage.debian.org/faq.html"></P>

<H3>Cédéroms</H3>

<P>Visitez <A HREF="../../CD/vendors/">cette page pour obtenir la
liste des revendeurs de cédéroms de GNU/Hurd</A>. Vous avez également
la possibilité d'utiliser votre navigateur en recherchant
«&nbsp;hurd&nbsp;», <url "http://www.copyleft.co.nz/"> vous permettra
d'obtenir les dernières versions des cédéroms.</P>

<H3>Comment fonctionnent les cédéroms d'installation</H3>

<P>Les cédéroms d'installation de Debian GNU/Linux <em>Potato</em> utilisent la
méthode d'installation croisée pour l'installation du système de
base. Une image de disque est créée en mémoire et un minisystème
GNU/Linux installé à cet emplacement. Ce petit système est utilisé
pour le partitionement et le formatage des disques, mais aussi pour
préparer la machine cible à l'installation du système de base. La
phase la plus critique est la décompression d'une archive contenant
les paquets de base sur le disque du système cible. Le nouveau système
est alors redémarré en utilisant les paquets décompressés sur le
disque dur. Les paquets supplémentaires sont ensuite installés et
configurés afin de disposer du système de votre choix.</P>

<P>Comme GNU utilise également la méthode d'installation croisée, cela
signifie donc que les scripts destinés à la construction des cédéroms
d'installation pourraient être adaptés à partir des scripts d'amorçage
et du cédérom de Debian GNU/Linux, ainsi l'archive GNU sera
décompressée à la place de celle de GNU/Linux.</P>

<P>L'installation du système GNU en utilisant le jeu de cédéroms
présente plusieurs avantages&nbsp;:

<ul>
<li> Comme le système GNU/Linux fonctionne sur un disque virtuel et
que l'archive est sur le cédérom, un système GNU peut être installé
sur n'importe quel ordinateur, mais aussi sur un ordinateur sur lequel
on ne souhaite pas utiliser le système d'exploitation déjà installé.

<li> Le système de fichier où se trouvent les paquets sur les cédéroms
pourrait être réorganisé afin d'incorporer des
«&nbsp;work-arounds&nbsp;».

<li> Même si une version de «&nbsp;parted&nbsp;» pour GNU/Hurd existe,
beaucoup de gens préfèrent utiliser l'outil GNU/Linux
«&nbsp;cfdisk&nbsp;» sur le cédérom d'installation.

<li>
C'est rapide, moins risqué et la plupart des gens ont l'habitude de
ce procédé.
</ul>

<H3>Les partitions Hurd</H3>

<P>GNU/Hurd ne supporte pas les partitions de taille supérieure à
2&nbsp;Go. Cependant, de nombreuses partitions peuvent être
créées durant la phase l'installation, le Hurd utilise des extensions
au système de fichier ext2, utilisez <tt>mke2fs -o hurd /dev/*</tt>. Les
cédéroms d'installation utilisent cette commande pour la création de
partitions Hurd.</P>

<H3>Utilisation des cédéroms d'installation</H3>

<H4>Avant l'installation</H4>

<P>Les documentations spécifiques à Hurd sont disponibles dans
./doc/hurd. hurd-install-guide et Cook-book doivent être lus avant de
commencer.</P>

<ol>
<li><P><em>Préparer une disquette d'amorçage avec GNU&nbsp;Grub</em>
<p>
Installez le paquet grub-disk, il contient une image de disquette GRUB. Vous pouvez
utiliser «&nbsp;dd&nbsp;» sur GNU/Linux ou rawrite à partir de MS.</P>

<li><P>Essayez de bien comprendre les conventions de nommage des
disques et partitions utilisées par Linux, GRUB et Hurd. Vous devrez
utiliser les trois qui sont assez proches et pourraient vous induire
en erreurs.
</ol>

<p> Hurd et Linux nomment différement les partitions, faites donc bien
attention. Les disques durs IDE sont notés en commencant par hd0. Le
deuxième disque dur sera hd1, qu'il soit monté en esclave ou en second
maître. Les disques SCSI sont aussi notés dans un ordre *absolu*. Il y
aura toujours sd0, sd1, et ce même si les deux disques possèdent les
identifiants SCSI 4 et 5 ou quoi que ce soit d'autre. L'expérience a
montré qu'il est plus délicat de déterminer l'appellation correcte des 
lecteurs de cédéroms. Plus d'informations à ce sujet seront disponibles 
ultérieurement.

<p> Les partitions Linux sont toujours appelées sn lorsqu'on utilise le
Hurd, où n est le numéro de la partition, donc la première partition
sur le premier disque dur IDE sera hd0s1, la troisième partition sur
le second disque dur SCSI sera sd1s3, et ainsi de suite.

<p> GRUB possède encore une autre convention de nommage. Il note les
partitions (hdN,n), mais cette fois-ci, les numéros des disques et
partitions commencent à zéro, et les disques sont ensuite notés dans
l'ordre, tous les disques durs IDE en premier, et les disques SCSI dans un
second temps. Cette fois-ci, la première partition sur le premier
disque dur IDE sera (hd0,0). De plus, (hd1,2) pourrait désigner le
premier périphérique SCSI si vous n'avez qu'un seul périphérique
IDE, ou cela pourrait aussi désigner le second périphérique IDE. Il
est donc important que vous ayez bien compris comment se nomment vos
partitions avant de commencer.</P>
						      
<H4>Installation</H4>

<ol>
<li><em>Amorcez à partir du cédérom.</em>
<p>

N'importe quelle méthode d'amorçage du cédérom Debian&nbsp;3.0&nbsp;beta (<em>Woody</em>)
fonctionnera, que ce soit à partir du cédérom, à partir de MS ou depuis
n'importe quelles images de disquette d'amorçage et racine. Un jeu
complet de disquettes de base peut être créé si vous ne disposez pas
de lecteurs de cédéroms.

<li><em>Après l'écran d'accueil, utilisez «&nbsp;Partition a Hard
Disk&nbsp;».</em>

<p> Si vous êtes sur le point de copier les paquets .deb sur un disque
dur, alors vous devrez créer d'autres partitions, une pour chaque
cédérom. Étant donné que parted est disponible pour GNU/Hurd, vous
pouvez très bien utiliser cette possibilité. Environ 500&nbsp;Mo seront
suffisants pour le système de base. Si vous avez besoin de créer
d'autres partitions, alors il sera certainement plus facile de
redémarrer à partir du premier cédérom et d'utiliser les outils du
disque virtuel Linux pour effectuer cette opération.

<li><em> Vous devez connaître les noms GRUB et Hurd des partitions que
vous utilisez.</em>

<li><em>Créez vos partitions en utilisant «&nbsp;Partition a Hard Disk&nbsp;»</em>
et n'oubliez pas la partition d'échange. GNU/Hurd a absolument besoin
d'espace d'échange.

<li><em> Formatez votre partition Hurd</em> en utilisant «&nbsp;Initialize a
Hurd Partition&nbsp;» et montez-la sur «&nbsp;/&nbsp;». Ne montez pas d'autre
partition.

<li><em>Installez le système de base en utilisant «&nbsp;Install the Base
System&nbsp;».</em>

<li><em>Insérez une disquette GRUB dans le périphérique et rédémarrez
avec «&nbsp;Reboot the System&nbsp;»</em> (n'oubliez pas de modifier le
bios). C'est tout&nbsp;! [Premier redémarrage]
</ol>

<P>Si votre partition GNU/Hurd est «&nbsp;(hd0,0)&nbsp;» [Convention de nommage de
GRUB] et «&nbsp;sd0s1&nbsp;» [GNU/Hurd], qui désigne la première partition sur le
premier disque dur SCSI s'il n'y a aucun disque dur IDE, alors le
système démarrera sans aucune intervention de votre
part.<BR>

Les images GRUB ont été préfabriquées, donc un minimum d'ajustement
est nécessaire pour démarrer le système GNU.</p>

<P>Ne touchez pas au clavier jusqu'à la fin du processus
d'amorçage.</P>

<P>«&nbsp;/boot/grub/menu.lst&nbsp;» sur la disquette GRUB peut être modifié afin
que le système démarre comme vous le souhaitez.</P>

<H3>La suite</H3>

<ol>

<li><em>Après que le système a démarré, lancez
./native-install.</em> Redémarrez en tapant «&nbsp;reboot&nbsp;». Il est très
important de regarder les messages qui s'affichent durant l'amorçage
du système et de noter soigneusement où se trouve le lecteur de
cédérom. [Deuxième redémarrage]

<li><em>Après le redémarrage, tapez ./native-install une deuxième
fois.</em> Cette fois-ci, de nombreux paquets seront
configurés. Redémarrez encore une troisième fois. [Troisième
redémarrage]. Vous disposez maintenant d'un système à
configurer.<BR> Connectez-vous en tant que superutilisateur, «&nbsp;login root&nbsp;».

<li><em>Déplacez-vous dans le répertoire /dev. Créez les fichiers
nécessaires</em> pour le lecteur de cédéroms, la partition d'échange
et les autres partitions du disque dur.

<p> Par exemple
"MAKEDEV hd2 hd0s2 hd0s3"</P>
		
<li><em>Editez /etc/fstab, «&nbsp;nano /etc/fstab&nbsp;»</em>.
nano n'est pas un mauvais éditeur.<p>
Ajoutez les partitions du disque dur, par exemple,<br>
/dev/[Nom de la partition sur Hurd]   none    swap    sw    0       0<BR>
/dev/[Nom de la partition sur Hurd]   /CD1     ext2    rw    1       1<BR>
/dev/[Nom du lecteur sur GNU]   /cdrom iso9660fs   ro,noauto  1    1</p>  

<P>Le Hurd utilise le système de fichier ext2. «&nbsp;/CD1&nbsp;» est une
suggestion concernant le point de montage pour les partitions qui
contiennent les paquets de <cdbasename>-CD1. L'espace d'échange peut être
partagé avec Linux.</P>
					
<li><em> Activez la zone d'échange «&nbsp;swapon -a&nbsp;».</em>
Vérifiez que cela a fonctionné. La zone d'échange est vraiment
recommandée pour le Hurd.

<li><em>Configurez le traducteur qui accède au lecteur de
cédérom,</em> en saississant par exemple
<p>
«&nbsp;settrans -a /cdrom /hurd/iso9660fs /dev/[Hurd drive name]&nbsp;»<br>
Même si ceci est la manière GNU de le faire, «&nbsp;mount /cdrom&nbsp;»
fonctionnera également.

<li><em>Tapez «&nbsp;/cdrom/upgrade/install.sh&nbsp;»</em>.
<p>Cela va installer les paquets nécessaires, importants et
standards.</p>

<li><em>Vous pourriez aussi taper «&nbsp;/cdrom/upgrade/gui.sh&nbsp;»</em>.
<p>Cela installera le système X.</p>
				
<li><em> De nombreux autres paquets peuvent être installés en
utilisant «&nbsp;apt&nbsp;» ou «&nbsp;dselect&nbsp;».</em>
<p>Si vous ne connaissez pas beaucoup les outils Debian, lisez «&nbsp;info
apt&nbsp;» et «&nbsp;info dselect&nbsp;».</p>

<li><em>Démontez le lecteur de cédérom.</em>
<P>Le lecteur de cédérom est démontable via «&nbsp;settrans -agf /cdrom&nbsp;»<BR>
Le tiroir du lecteur de cédérom devrait maintenant être dévérouillé.</p>

</ol>

<P>C'est ici que ce guide se termine et que vous pouvez commencez à
découvrir le Hurd. Amusez-vous bien.</P>
<P>Toutes suggestions au sujet des cédéroms sont les bienvenues.<BR>
Philip Charles, philipc@debian.org
