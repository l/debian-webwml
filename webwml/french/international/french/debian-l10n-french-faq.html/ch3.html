<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Foire aux questions de la liste debian-l10n-french - Traduire pour Debian (et pour le logiciel libre en général)</title>

</head>

<body>

<hr>

[ <a href="ch2.html">précedent</a> ]
[ <a href="index.html#abstract">Résumé</a> ]
[ <a href="index.html#copyright">Copyright</a> ]
[ <a href="index.html#contents">Table des matières</a> ]
[ <a href="ch4.html">suivant</a> ]

<hr>

<h1>
Foire aux questions de la liste debian-l10n-french<br>
Chapitre 3 Traduire pour Debian (et pour le logiciel libre en général)
</h1>

<hr>

<p>
Note&nbsp;: Ce chapitre est appelé à être traduit en anglais de façon à devenir
le <em>HOWTO-l10n</em> de Debian en particulier mais aussi de tous les
logiciels libres.

<p>
Ce chapitre est l'oeuvre de Martin Quinson&nbsp;: il a été publié originalement
dans la <em>Foire aux questions</em> de <em>debian-french</em>.  Je le reprends
à mon compte à présent.

<br>

<hr>

<h2>
<a name="s3.1">3.1 Introduction</a>
</h2>

<p>
La traduction fait partie des objectifs de Debian.  C'est un fait.  Mais tout
n'est pas si simple, et les volontaires potentiels sont souvent rebutés par les
difficultés rencontrées.  L'objectif de ce document est de faire le point sur
ce qui se fait et comment le faire.

<p>
Il convient tout d'abord d'insister sur le fait que la traduction est l'une des
tâches les plus simples permettant de faire avancer Debian et les logiciels
libres.  Nul besoin de savoir programmer pour le faire.  Mais il ne faut pas
non plus prendre cela à la légère.  Il ne s'agit pas de traduire à la chaîne,
n'importe comment.  Il faut se souvenir que c'est ce que les utilisateurs
verront.  Il faut donc faire attention à ne pas faire de contresens, et soigner
sa grammaire et son orthographe.  Cela me semble évident et cela va sans le
dire, mais je suppose que cela va mieux en le disant.

<br>

<hr>

<h3>
<a name="s3.1.1">3.1.1 Que traduire dans un paquet&nbsp;?</a>
</h3>

<p>
Avant de continuer, il faut préciser que traduire les messages affichés n'est
qu'une pierre de l'édifice.  Avant ça, il faut que quelqu'un modifie le code
source pour que le programme puisse utiliser plusieurs catalogues de messages.
C'est une partie de ce qu'on appelle l'internationalisation d'un code source,
ou <em>i18n</em> en raccourci.  Les autres parties consistent à permettre aux
programmes d'afficher des caractères autre que ceux utilisés aux États-Unis (Le
problème ne se pose plus vraiment pour le français et les langues européennes,
mais il est d'une actualité brûlante pour les langues asiatiques, par exemple).
Mais nous ne parlerons ici que de la traduction
(«<em>&nbsp;localization</em>&nbsp;» en anglais, <em>l10n</em> pour faire
court).  Pour l'i18n, un bon point de départ est le manuel «&nbsp;Introduction
à i18n&nbsp;», disponible à l'adresse <code><a
href="http://www.debian.org/doc/devel-manuals#i18n">http://www.debian.org/doc/devel-manuals#i18n</a></code>.

<p>
Voyons maintenant les différentes choses que l'on peut traduire dans un paquet
Debian

<br>

<hr>

<h4>
<a name="s3.1.1.1">3.1.1.1 Les messages affichés</a>
</h4>

<p>
Debian (et Linux en général) sont dotés de beaux mécanismes pour traduire les
messages des programmes.  Le plus célèbre (et le seul dont je parlerais ici)
est <code>gettext</code>.  D'un point de vue technique, c'est basé sur une
bibliothèque <code>gettext</code>, justement) qui permet au programme de
charger à l'exécution le catalogue de messages utilisé pour pouvoir parler dans
la langue de l'utilisateur.  Pour ceux qui veulent en savoir plus sur comment
ça marche, le manuel de <code>gettext</code> n'est pas si mal fait que ça
(<var>www.gnu.org/manual/gettext</var> ou
<var>/usr/share/doc/gettext-doc/index.html</var> si vous avez installé le
paquet <code>gettext-doc</code>).

<p>
Évidemment, pour que cela marche, il faut bien que quelqu'un traduise lesdits
catalogues de messages.  L'objectif de ce document est entre autres d'expliquer
comment le faire.  Nous reviendrons sur ce point dans une partie ultérieure.

<br>

<hr>

<h4>
<a name="s3.1.1.2">3.1.1.2 La documentation</a>
</h4>

<p>
La documentation est une partie importante à traduire.  Qu'il s'agisse des
pages de manuel, (ce qu'on obtient par la commande <code>man(1)</code>), des
fichiers info (cf.  <code>info(1)</code>) ou des manuels de l'utilisateur
fournis (en html ou autre) par certains paquets.

<p>
Mais pour tout cela, il n'y a rien de bien fixé.  Pas de belles procédures pour
savoir si la traduction est à jour.  Et pour être honnête, pour l'instant,
chaque projet développe sa propre méthode sans qu'aucun plan général ne se
dégage jusqu'à présent.  Je n'en parlerai donc pas dans ce document.  On a déjà
assez à faire avec le reste.

<br>

<hr>

<h4>
<a name="s3.1.1.3">3.1.1.3 Les différents fichiers GNOME</a>
</h4>

<p>
Mais même si on se restreint au matériel à traduire pour lesquels il existe des
procédures automatiques, parler des fichiers <code>po</code> ne suffit pas
[tout à fait].  Les menus de GNOME (et KDE&nbsp;?) sont à traduire, aussi, mais
ce ne sont pas des messages affichés par le programme lui-même.  Donc, dans un
premier temps, on a inventé des fichiers <code>.desktop</code> qui contenaient
ces informations.

<p>
Voici un exemple&nbsp;:

<pre>
     [Desktop Entry]
     Name=Netscape
     Comment=Netscape browser
     Name[ro]=Netscape
     Name[bg]=Netscape
     Comment[bg]=Netscape Íàâèãàòîð
     Comment[br]=Merdeer Netscape
     Name[ca]=Netscape
     Comment[ca]=Navegador d'Internet Netscape
     Name[cs]=Netscape
     Comment[cs]=Prohlí¾eè HTML souborù umístìných na Síti nebo disku
     Name[da]=Netscape
     Comment[da]=Netscape webbrowser
     Name[de]=Netscape
     Comment[de]=Netscape Navigator
     Name[el]=Netscape
     Comment[el]=ÖõëëïìåôñçôÞò Netscape
     Name[es]=Netscape
     Comment[es]=Navegador Netscape
     Name[et]=netscape
     Comment[et]=WWW lehitseja Netscape
     Name[eu]=Netscape
</pre>

<p>
La syntaxe n'est pas si complexe, et je n'approfondis pas.

<p>
Mais ce n'était pas vraiment pratique de tenir à jour les <code>.po</code> et
les <code>.desktop</code>.  Les gens de GNOME (je ne sais pas comment font les
gens de KDE ou de WindowMaker, mais cela doit être équivalent) ont donc fait
les programmes que l'on peut installer sur sa machine en installant le paquet
<code>xml-i18n-tools</code>.  Il s'agit d'une série de scripts qui prennent les
chaînes à traduire dans le <code>.desktop</code> (et autre du même genre), les
met dans le <code>.po</code> pour que les traducteurs puissent faire leur
boulot simplement, et récupère la traduction pour la remettre à sa place dans
le <code>.desktop</code> lors de la compilation.  Bref, tout ça pour dire que
du point de vue du traducteur, les <code>.desktop</code> peuvent être oubliés.
On traduit les <code>.po</code>, et la machine se dépatouille.

<br>

<hr>

<h4>
<a name="s3.1.1.4">3.1.1.4 Les <code>templates debconf</code></a>
</h4>

<p>
Autre catégorie que l'on peut traduire&nbsp;: les fichiers de <code>templates
debconf</code>.  Il s'agit des textes de questions qu'on va voir quand on
configure un paquet.  C'est une <em>debianerie</em> (<em>i.e.</em>, hors de
Debian, ça n'existe pas [encore]).

<p>
Voici un exemple (traduit)&nbsp;:

<pre>
     Template: debconf/showold
     Type: boolean
     Default: false
     Description: Show all old questions again and again?
      Debconf normally only asks you any given question once. Then it remembers
      your answer and never asks you that question again. If you prefer, debconf
      can ask you questions over and over again, each time you upgrade or
      reinstall a package that asks them.             
      .
      Note that no matter what you choose here, you can see old questions again
      by using the dpkg-reconfigure program.             
     Description-fr: Poser de nouveau les anciennes questions ?
      Normalement, debconf ne pose chaque question qu'une seule fois. Ensuite,
      il se  souvient de la réponse que vous avez donnée, et ne repose jamais
      cette question. Si vous préférez, debconf peut reposer chaque question
      encore et encore, chaque fois qu'un paquet ayant besoin de cette réponse
      est installé ou mis à jour.           
      .
      Notez que quel que soit votre choix ici, vous pouvez revoir la
      configuration  d'un paquet avec le programme dpkg-reconfigure.   
     Description-it: Mostrare sempre le vecchie domande?
      Debconf normalmente pone le domande una sola volta, ricorda le risposte
      date e non pone più la stessa domanda. Se preferite potete ora scegliere
      che vi venga posta la stessa domanda ogni volta che aggiornate o
      reinstallate un pacchetto.         
      .
      Notate che non importa la scelta fatta qui, potete vedere di nuovo le
      vecchie domande usando il programma dpkg-reconfigure.
</pre>

<p>
Encore une fois, cela se passe d'explication.

<p>
Il existe toute une mécanique pour gérer les traductions, ce qui permet de
vérifier que les traductions sont à jour.  C'est dans le paquet
<code>debconf-utils</code>&nbsp;: ce sont les programmes
<code>debconf-getconf</code> et <code>debconf-mergetemplates</code>.

<p>
Mais bon.  Je commence à me dire qu'il serait pas mal de faire des fichiers de
<code>templates</code> comme des fichiers <code>po</code>.  Disons que j'y
réfléchis.  En attendant, il faut passer par la traduction séparée des
<code>templates</code> (sur laquelle on reviendra plus tard).

<br>

<hr>

<h4>
<a name="s3.1.1.5">3.1.1.5 Les pages oueb</a>
</h4>

<p>
Le site oueb de Debian compte parmi les mieux internationalisés.  Si on a bien
réglé son navigateur (la page <code><a
href="http://www.debian.org/intro/cn">http://www.debian.org/intro/cn</a></code>
indique comment le faire), les pages arrivent directement dans la langue
choisie.

<p>
Il y a aussi un mécanisme pour vérifier que la traduction est à jour, et
indiquer au visiteur si la traduction qu'il voit est obsolète, ainsi que pour
prévenir le traducteur qu'il doit mettre son travail à jour.  Plus de détails
sur la page <code><a
href="http://www.debian.org/devel/website/">http://www.debian.org/devel/website/</a></code>.

<br>

<hr>

<h4>
<a name="s3.1.1.6">3.1.1.6 Les menus Debian</a>
</h4>

<p>
Comme Debian utilise un méta-système de menu, on devrait arriver à les
traduire.  Il y a même un pseudo mécanisme de traduction dans le paquet menu.
Et dans le fichier <em>doc/translate</em>, on peut lire&nbsp;:

<p>
<em>What I propose is that update-menus simply learns the dutch, german,
whatever translations for &quot;Apps&quot;, &quot;Editors&quot;, &quot;The
Gimp&quot;, &quot;X Window Snapshot&quot;, and so on.  These translations would
be provided in a form similar/identical to the already used i18n format.</em>

<p>
<em>The French translations would be provided by a menu-fr.deb package, the
Dutch translations by menu-du.deb, etc.</em>

<p>
<em>This may seem strange at first, as now the gimp package has no control over
how the menu-entry looks in german.  It might at first sight be much better to
put in the menu entry file for the gimp all translations of &quot;The
Gimp&quot; in however many languages we want to support.</em>

<p>
<em>The downside of this, is that it simply doesn't work in Debian.  The
maintainer of the gimp surely doens't know the translations of &quot;The
Gimp&quot; in Dutch, Turkish, Japanise, Esperanto, whatever.  Somewhere in
Turkey there may be somone who is really good at translating all english titles
into turkish, but s/he will have a very hard time convincing all 500+ package
maintainers to include his/her translation into the package.  And, a week later
someone in Bulgaria wakes up, and sends 500+ discriptions to 500+ maintainers,
asking them to include that.  Well, you see, with about 6000 languages on this
earth, the maintainers are going to have a hard time.</em>

<p>
<em>That is why I propose that the package maintainers simply don't do anything
about the languages, but simply upload their packages with menu entry files in
them.  Then some deamon on master scans all menu entry files in the
distribution, and creates a file with all english words/phrases that should be
translated.  This file can be put somewhere on the web, and then this the
translators simply gets that file, translate the 500+ entries in it, and create
a menu-tr.deb (menu-de.deb, etc) package, and uploads that.  Then, the users
that want turkish systems simply install menu-tr.deb package, set the
appropriate LC_* variables, and update-menus does what it should do.</em>

<p>
<em>This approach has the advantages that</em>
<ul>
<li>
<em>It actually works.  Forceing 500+ package maintainers to include the
world's 6000+ languages into their menu entry files is really never going to
work.</em>
</li>
</ul>
<ul>
<li>
<em>It makes things easy for both the maintainer of the packages with the menu
entry files (they do nothing), and for the translators (they don't need to get
the to-be-translated words and phrases from all kinds of packages, and send the
results to many different package maintainers).</em>
</li>
</ul>
<ul>
<li>
<em>It allows users to select what languages to install, so they don't have to
buy extra harddisks because each menu entry file now is 0.5 M big (5000
languages, 100 chars per language).</em>
</li>
</ul>

<p>
Mais à ma connaissance, rien n'a été fait dans ce sens...

<br>

<hr>

<h4>
<a name="s3.1.1.7">3.1.1.7 Les descriptions de paquets</a>
</h4>

<p>
Je n'ai pas vraiment suivi ce qui se passe de ce côté.  J'ai juste un petit
pointeur à vous proposer.  <code><a
href="http://lists.debian.org/debian-devel-0101/msg02162.html">http://lists.debian.org/debian-devel-0101/msg02162.html</a></code>

<p>
<em>input welcome</em>.

<br>

<hr>

<h3>
<a name="s3.1.2">3.1.2 Les <em>pour</em> et les <em>contre</em> de la traduction dans Debian</a>
</h3>

<p>
Et oui, tout n'est pas si rose, et tout le monde n'est pas prêt à traduire
Debian à tout va.  Et même, on peut dire que <code>dpkg</code> n'est pas
vraiment prêt à ce que tout ce qu'il est possible de traduire le soit.  Il est
impossible de lui préciser quelles langues on veut avoir sur la machine, et le
résultat, c'est qu'il installe plein de trucs dont la plupart des gens n'ont
aucune utilité.  Allez visiter le répertoire <var>/usr/share/locale/</var> sur
votre machine.  C'est là que sont placés les fichiers <code>po</code> compilés
prêts à l'emploi.  Il y a plusieurs dizaines de mégaoctets utilisés pour avoir
les messages en russe ou en coréen, ce que je suis bien incapable d'exploiter.
Alors comme je suis un peu juste en place, je fais le nettoyage à la main de
temps en temps, mais ceci est l'argument principal des opposants à cette
méthode.  Dans le camp des <em>pour</em>, il y a quelques idées (voir par
exemple <code><a
href="http://lists.debian.org/debian-devel-0011/msg00887.html">http://lists.debian.org/debian-devel-0011/msg00887.html</a></code>)
mais rien n'a été fait jusque là.

<p>
La morale de l'histoire, c'est que pour l'instant, le consensus semble être que
les fichiers <code>po</code> sont inclus avec le paquet qu'ils traduisent (sauf
pour KDE.  Tous les messages de tous les paquets KDE dans toutes les langues
sont dans le paquet <code>kde-i18n</code>, ce qui n'est pas mieux).  Certaines
langues font un paquet qui contient tous les catalogues existants.  Cette
pratique est courante pour les pages de manuel des paquets de base.  Ainsi, le
paquet <code>manpages-fr</code> installe les pages de manuel les plus
courantes.  En ce qui concerne les <code>templates Debconf</code>, jusqu'à
présent, personne n'a refusé de les inclure à son paquet pour gagner de la
place.  Mais ça pourrait se produire un jour.  Ce jour-là, la querelle de
clocher de savoir comment aider <code>dpkg</code> à gérer les traductions
pourra reprendre de plus belle.&nbsp;;)

<br>

<hr>

<h2>
<a name="s3.2">3.2 Comment aider&nbsp;: la partie administrative</a>
</h2>

<p>
Le plus gros problème en ce qui concerne la traduction (mis à part la qualité
des traductions, qui est évidemment primordiale), est de se
<em>coordonner</em>.

<p>
Ce besoin de coordination doit se manifester&nbsp;:
<ul>
<li>
<em>Entre les traducteurs</em>&nbsp;: pour ne pas faire le travail deux fois,
et que les traductions restent à jour.  Il y a pire qu'une page de manuel non
traduite&nbsp;: une page traduite non à jour, puisque l'utilisateur n'a aucun
moyen simple de s'en rendre compte.
</li>
</ul>
<ul>
<li>
<em>Entre traducteurs et responsables</em>&nbsp;: pour que les choses traduites
soient incluses dans les paquets, et que les traductions restent à jour.
</li>
</ul>
<ul>
<li>
<em>Entre Debian et le reste du monde</em>&nbsp;: la très grande majorité des
programmes distribués par Debian ne sont pas développés au sein du projet.  Et
quelques projets extérieurs ont mis en place des sous projets de traductions.
Il s'agit donc de ne pas marcher sur les plates-bandes de ces gens et, encore
une fois, de ne pas dupliquer le travail fait (et ne pas ternir encore la
réputation de Debian auprès des développeurs).
</li>
</ul>

<p>
Pour résoudre ces problèmes, je propose les procédures suivantes&nbsp;:

<br>

<hr>

<h3>
<a name="s3.2.1">3.2.1 Coordination entre traducteurs au sein de Debian</a>
</h3>

<p>
Les abonnés à la liste <em>debian-devel</em> connaissent les messages dont le
titre commence par «&nbsp;ITP&nbsp;».  Il s'agit de «&nbsp;<em>Intend To
Package</em>&nbsp;».  Ce sont des déclarations d'intention de mise en paquet.
L'usage veut qu'on annonce sur la liste son intention de créer un nouveau
paquet avant de se mettre au boulot, afin d'éviter que deux personnes se
mettent à travailler sur la même chose dans leur coin.

<p>
Je propose de reprendre le principe et de poster des
«&nbsp;ITT&nbsp;»(<em>Intend To Translate</em>) sur la liste qui va bien.  Pour
les traductions vers le français, la liste est évidemment
<em>debian-l10n-french</em>.

<p>
Comme personne n'est parfait, il est possible que quelqu'un ait déjà traduit ce
que vous comptiez traduire sans rien dire, et l'ait déjà renvoyé au
responsable.  Pour en avoir le coeur net, allez faire un tour sur la page des
bogues du paquet pour lequel vous comptez travailler (<code><a
href="http://bugs.debian.org/">http://bugs.debian.org/</a></code>nom_du_paquet),
afin de vérifier qu'il n'y a pas de rapport de bogue contenant les traductions.

<br>

<hr>

<h4>
<a name="s3.2.1.1">3.2.1.1 En résumé</a>
</h4>
<ol start="1">
<li>
Avant de commencer à traduire, veuillez-vous inscrire à la liste de
coordination des traductions.  Dans le cas du français, il s'agit de
<var>debian-l10n-french@lists.debian.org</var>
</li>
</ol>
<ol start="2">
<li>
Ensuite, vérifiez que personne n'a traduit ce qui vous intéresse sans rien dire
en regardant les rapports de bogue du paquet.
</li>
</ol>
<ol start="3">
<li>
Annoncez votre intention par un courriel à la liste «&nbsp;ITT&nbsp;» <em>avant
de commencer</em>.
</li>
</ol>
<ol start="4">
<li>
Si personne ne réagit, allez-y.  Vous pouvez traduire.  (voir plus loin sur
comment traduire quel type de matériel)
</li>
</ol>

<br>

<hr>

<h3>
<a name="s3.2.2">3.2.2 Coordination entre traducteurs et développeurs Debian</a>
</h3>

<p>
Ça, c'est facile.  Une fois que vous avez fini votre traduction, il suffit de
faire un rapport de bogue contre le paquet de sévérité «&nbsp;souhait&nbsp;» ou
à l'extrême limite «&nbsp;normale&nbsp;» (pas pire), en expliquant ce que vous
avez traduit, et en attachant le matériel traduit.  Si vous êtes
perfectionniste, vous pouvez surveiller la prochaine version du paquet pour
voir si votre contribution a bien été prise en compte, et pour râler si ce
n'est pas le cas, ou si le responsable a mis vos fichiers au mauvais endroit.

<br>

<hr>

<h3>
<a name="s3.2.3">3.2.3 Coordination entre Debian et le reste du monde</a>
</h3>

<p>
Ça, c'est la partie la plus difficile.  Je n'ai pas de réponse magique.  Je
considère qu'il y a plusieurs catégories de paquets&nbsp;:
<ul>
<li>
<em>Les paquets purement Debian</em> comme <code>dpkg</code> ou
<code>bug</code>.  Dans ce cas, le problème ne se pose pas.
</li>
</ul>
<ul>
<li>
<em>Les paquets issus de projet ayant un projet de traduction bien établi</em>
comme les programmes GNOME ou KDE.  Dans ce cas, je pense que le plus simple
est de rejoindre le projet de traduction associé.  Voici la liste des plus gros
projets de traductions (<em>i-e.</em>, ceux que je connais) vers lesquels il
faut vous tourner&nbsp;:
<ul>
<li>
<em>GNU</em>&nbsp;: L'url est <code><a
href="http://www.iro.umontreal.ca/contrib/po/HTML/">http://www.iro.umontreal.ca/contrib/po/HTML/</a></code>.
Attention, GNU étant GNU, il faut avoir signé un papier disant qu'on renonce au
<em>copyright</em> pour pouvoir traduire leurs programmes.  Plus de détails sur
leur site.
</li>
</ul>
<ul>
<li>
<em>GNOME</em>&nbsp;: l'url à connaître dans ce cas est <code><a
href="http://developer.gnome.org/projects/gtp/">http://developer.gnome.org/projects/gtp/</a></code>.
</li>
</ul>
<ul>
<li>
<em>KDE</em>&nbsp;: le projet de traduction de KDE est le plus organisé et
efficace que je connaisse.  Leur url est <code><a
href="http://i18n.kde.org/">http://i18n.kde.org/</a></code>.
</li>
</ul>

<p>
Dans ce cas, il me semble important de traduire à la source.  Les modifications
se retrouveront dans la prochaine version du paquet Debian
</li>
</ul>
<ul>
<li>
<em>Programmes ne faisant pas partie d'un grand projet, mais tout de même assez
bien organisés en ce qui concerne les traductions</em>.  Un exemple est
<code>bluefish</code>.  Il s'agit d'un programme «&nbsp;indépendant&nbsp;»,
mais il a tout de même des traducteurs attitrés.  Le seul moyen de s'en rendre
compte est d'aller sur la page du projet.  Dans ce cas, il vaut mieux
contribuer à la source, et ne pas rester au sein de Debian.
</li>
</ul>
<ul>
<li>
<em>Programmes indépendants où rien n'est fait pour la traduction</em>.  Il
s'agit sans doute des petits projets, qui n'ont pas les reins assez solides
pour avoir une logistique de traduction en place.  Dans ce cas, on peut rester
dans Debian (et espérer que le responsable enverra à la source nos
traductions).
</li>
</ul>

<br>

<hr>

<h4>
<a name="s3.2.3.1">3.2.3.1 En résumé</a>
</h4>

<p>
Sauf dans le cas de paquets purement Debian, où il convient évidemment de
traduire au sein de Debian, ou dans le cas de petits projets n'ayant aucune
infrastructure pour la traduction, il me semble important de traduire à la
source.  Que cela ne vous dispense pas d'annoncer votre intention sur la liste.
On peut y coordonner l'aide apportée à la source.

<br>

<hr>

<h4>
<a name="s3.2.3.2">3.2.3.2 Problème supplémentaire</a>
</h4>

<p>
Tout ça ne résout pas le problème du matériel apporté par la mise en paquet
Debian de programmes ayant une source extérieure.  Dans le cas des
<code>templates Debconf</code>, on les traduit évidemment au sein de Debian.
Mais je me demande depuis longtemps s'il existe des chaînes de fichier
<code>po</code> introduites par les responsables Debian (lors de leurs
modifications).  Si c'est le cas, je sais pas comment coordonner la chose.

<br>

<hr>

<h3>
<a name="s3.2.4">3.2.4 En résumé</a>
</h3>

<p>
Toute cette démarche administrative peut paraître un peu rébarbative, mais elle
n'est quand même pas très compliquée à appliquer.  Et si on ne le fait pas, les
traductions vont être dupliquées, ou au contraire ne seront plus maintenues, ou
le projet Debian va se faire maudire par le reste du monde libre pour son
manque de respect des autres projets existants.  Alors s'il vous plaît, faites
un petit effort...

<br>

<hr>

<h2>
<a name="s3.3">3.3 Comment traduire</a>
</h2>

<br>

<hr>

<h3>
<a name="s3.3.1">3.3.1 Choisir sa cible</a>
</h3>

<p>
Vouloir traduire, c'est très bien&nbsp;; savoir ce qu'on va traduire, c'est
mieux.

<p>
Il faut choisir la catégorie de matériel que l'on veut traduire&nbsp;:
catalogues <code>po</code>, <code>templates debconf</code>, pages de manuel,
document info, manuel de l'utilisateur en html ou assimilé, ou autre.

<p>
Pour choisir sur quel paquet travailler, la méthode dépend du matériel.  Pour
les deux premières catégories, un petit tour sur le <em>Debian Translation
Center</em> (<code><a
href="http://www.debian.org/intl/l10n">http://www.debian.org/intl/l10n</a></code>)
peut être utile pour voir quels paquets sont prêts à être traduits et ceux qui
ont besoin d'une mise à jour.  Pour toutes les autres catégories, il faut
télécharger le code source des paquets et regarder à la main.  Je n'ai pas
encore trouvé comment les ajouter au DTC.

<br>

<hr>

<h3>
<a name="s3.3.2">3.3.2 Comment récupérer le matériel à traduire</a>
</h3>

<p>
Vous pouvez récupérer les fichiers tous seuls depuis le DTC, mais
personnellement, je préfère récupérer toutes les sources du paquet (avec la
commande <code>apt-get source nom_du_paquet</code>).  Comme ça, en cas de
doute, je peux toujours me référer au code source.  Maintenant, chacun est
libre de faire comme bon lui semblera...

<p>
Une fois que vous avez choisi votre cible, que vous êtes assuré par la partie
administrative que vous pouviez vous lancer et que vous avez récupéré votre
cible, il reste à traduire la chose.  Voyons comment faire.

<br>

<hr>

<h3>
<a name="s3.3.3">3.3.3 Comment traduire les catalogues <code>po</code>&nbsp;?</a>
</h3>

<p>
Commençons par quelques pointeurs vers plus de documentation.
<ul>
<li>
Le manuel de <code>gettext</code>&nbsp;: inclus dans le paquet
<code>gettext-doc</code>.
</li>
</ul>
<ul>
<li>
Le <em>KDE Translation HOWTO</em>&nbsp;: <code><a
href="http://i18n.kde.org/translation-howto/index.html">http://i18n.kde.org/translation-howto/index.html</a></code>
</li>
</ul>

<p>
Lorsque vous éditerez un catalogue <code>po</code>, vous verrez des initiales
apparaître dans les commentaires, du genre

<pre>
     167 t ; 166 f ; 12 u
</pre>

<p>
.

<p>
C'est une indication pour vous guider dans le travail de traduction&nbsp;:
<ul>
<li>
<samp>[T]ranslated</samp>&nbsp;:

<p>
Chaîne traduite&nbsp;; rien à faire.
</li>
</ul>
<ul>
<li>
<samp>[F]uzzy</samp>&nbsp;:

<p>
Le programme qui cherche les nouvelles chaînes à traduire dans le code source
trouve parfois des morceaux de chaînes qui ont peu changé.  Il propose alors
l'ancienne traduction, et marque la chaîne comme floue (<em>fuzzy</em>).  Il
faut alors une intervention humaine pour vérifier, et le cas échéant, corriger,
et enfin supprimer le marqueur «&nbsp;flou&nbsp;».
</li>
</ul>
<ul>
<li>
<samp>[U]ntranslated</samp>&nbsp;:

<p>
Chaîne non traduite&nbsp;; à traduire.
</li>
</ul>
<ul>
<li>
<samp>[O]bsolete</samp>&nbsp;:

<p>
Chaîne à traduire dans une version précédente du programme mais qui a disparu
depuis et n'est plus utilisée.  On doit pouvoir se débarrasser de cette chaîne
normalement.
</li>
</ul>

<p>
Voyons ensuite les principaux programmes disponibles pour vous aider dans votre
tâche&nbsp;:
<ul>
<li>
<code>emacs</code> dispose d'un mode <code>po-mode</code>.  C'est ce que
j'utilise, et c'est la solution que je conseille à tout le monde (évidemment,
puisque c'est mon choix).

<p>
Ses qualités&nbsp;:
<ul>
<li>
une fois qu'on connaît les raccourcis claviers, il est très simple à utiliser.
</li>
</ul>
<ul>
<li>
permet de voir le code correspondant très simplement.
</li>
</ul>

<p>
Ses défauts
<ul>
<li>
C'est dans <code>emacs</code>, et il est préférable de connaître cette
merveilleuse usine à gaz pour utiliser ce mode.
</li>
</ul>
<ul>
<li>
Pas de correction orthographique par défaut.  Vous pouvez toutefois lancer le
mode <code>flyspell-mode</code> pour le faire.
</li>
</ul>
<ul>
<li>
pas de <em>compendium</em> (voir la documentation de <code>gettext</code> pour
savoir ce qu'est un <em>compendium</em>

<p>
).
</li>
</ul>
</li>
</ul>
<ul>
<li>
<code>kbabel</code> est l'outil issu du monde KDE.  Il semble très évolué,
mais...&nbsp; je n'aime pas son ergonomie (c'est personnel, évidemment)

<p>
Ses qualités&nbsp;:
<ul>
<li>
Correction orthographique.
</li>
</ul>
<ul>
<li>
<em>Compendiums</em>.
</li>
</ul>

<p>
Ses défauts&nbsp;:
<ul>
<li>
Je ne crois pas qu'il permette de voir le code simplement, mais je ne suis pas
sûr, je ne le connais pas bien.
</li>
</ul>
<ul>
<li>
On ne voit qu'une traduction à la fois.
</li>
</ul>
</li>
</ul>
<ul>
<li>
<code>gtranslator</code> est l'outil issu du monde GNOME.  Je ne l'ai jamais
utilisé.  <em>Input Welcome</em>.
</li>
</ul>

<p>
Attention, s'il s'agit d'une mise à jour, veuillez contacter le traducteur
précédent (dont l'adresse figure normalement dans le document) pour avoir le
feu vert.  Il est le responsable de fait de cette mise à jour et vous pouvez
lui offrir l'opportunité de vous substituer à lui.  Ajoutez alors votre adresse
à la suite de la sienne.

<br>

<hr>

<h3>
<a name="s3.3.4">3.3.4 Comment traduire les <code>templates Debconf</code>&nbsp;?</a>
</h3>

<p>
Voici quelques instructions issues du fichier <em>README.translators</em> du
paquet <code>debconf</code>&nbsp;:

<p>
Le fichier que vous devez traduire est le <code>template</code> Debian, en
engendrant un fichier <code>template</code> &lt;lang&gt;.  Ceci est spécifique
à <code>debconf</code>.  Pour fabriquer facilement un fichier de référence d'un
<code>template</code> &lt;lang&gt; vous n'avez qu'à taper&nbsp;:

<pre>
     debconf-getlang &lt;lang&gt; debian/templates &gt; debian/templates.&lt;lang&gt;
</pre>

<p>
Ensuite, éditez le nouveau fichier, et remplissez par des traductions toutes
les lignes vides.  Lorsque je change le fichier <code>template</code> de
référence, vous pouvez rassembler le tout avec la commande
<code>debconf-mergetemplate</code>&nbsp;:

<pre>
     debconf-mergetemplate debian/templates debian/templates.&lt;lang&gt; &gt; new
</pre>

<p>
Un dernier mot au sujet de la syntaxe des <code>templates</code>&nbsp;: la
première ligne de description est comme un en-tête.  Vous n'êtes pas autorisé à
poursuivre la première ligne sur les suivantes.  Par exemple, le
<code>template</code> suivant est mauvais&nbsp;:

<pre>
     Template: autolog/note
     Type: note
     Description: Autolog daemon will start logging out users if it wants to,
      but it's not sure. Will see if it's nice today.
      The autolog daemon will be activated now and will log users out
      after two hours of idle time. If you do not want this then either uninstall
      autolog or customize /etc/autolog.conf and /etc/rc.d/autolog according to
      your needs.
</pre>

<p>
La description brève s'étale sur deux lignes mais <code>debconf</code>
n'utilisera que la première ligne comme descriptif rapide, et le reste comme
descriptif détaillé.  Ainsi, ne faites pas de description rapide trop
longue&nbsp;!  Les spécifications imposent une limite de
«&nbsp;50&nbsp;caractères au plus&nbsp;».

<br>

<hr>

<h3>
<a name="s3.3.5">3.3.5 Comment traduire les descriptions de paquets Debian&nbsp;?</a>
</h3>

<p>
Les descriptions de paquets Debian sont les parties de texte explicatives
concernant ledit paquet.  Les descriptions à traduire sont souvent très
courtes, quelques lignes à peine, mais les traduire toutes est une tâche de
longue haleine (prédiction&nbsp;: juillet 2003...&nbsp; date non-contractuelle
bien sûr).

<p>
Plus que des traducteurs, il nous faut des relecteurs&nbsp;!

<br>

<hr>

<h4>
<a name="s3.3.5.1">3.3.5.1 Organisation</a>
</h4>

<p>
Le projet a été initié par <code><a
href="mailto:grisu@debian.org">mailto:grisu@debian.org</a></code>Michael
Bramer, qui en assure la maintenance.  L'adresse électronique du serveur est
<code><a
href="mailto:grisu-td@auric.debian.org">mailto:grisu-td@auric.debian.org</a></code>
et la page d'accueil est <code><a
href="http://auric.debian.org/~grisu/ddts">http://auric.debian.org/~grisu/ddts</a></code>.
Comme on peut le constater, ce projet n'a pas encore de statut très clair au
sein de Debian, ne disposant ni d'un espace oueb ni d'une liste de diffusion
dédiés.  De plus, son intégration en tant que tel pose aussi pas mal de soucis.
Mais c'est un autre débat (suivre debian-devel pour les tenants et
aboutissants).

<br>

<hr>

<h4>
<a name="s3.3.5.2">3.3.5.2 Demander des traductions par courrier électronique</a>
</h4>

<p>
Il vous suffit d'envoyer un courriel banal à
<em>grisu-td@auric.debian.org</em>, en mettant dans le sujet du courriel votre
commande, (comme par exemple <em>GET 1 fr</em>, laissez le corps du courriel
vide).  Attendez quelques instants, puis vérifiez votre boîte aux lettres
électroniques.  Voila, ce n'est pas plus compliqué que cela&nbsp;!

<p>
Les commandes disponibles sont les suivantes&nbsp;:
<ul>
<li>
GET x fr

<p>
demande «&nbsp;x&nbsp;» descriptions non encore traduites (nombre compris entre
1 et 9).
</li>
</ul>
<ul>
<li>
REQUEST &lt;nom du paquet&gt; fr

<p>
demande la description du paquet &lt;nom du paquet&gt;.
</li>
</ul>
<ul>
<li>
SREQUEST &lt;nom du paquet&gt; fr

<p>
demande toutes les descriptions du paquet source qui porte le nom &lt;nom du
paquet&gt;.
</li>
</ul>
<ul>
<li>
STATUS fr

<p>
demande un rapport sur l'état des traductions pour la langue française.
</li>
</ul>
<ul>
<li>
NOGUIDE

<p>
n'affiche pas ce guide dans la réponse du serveur.
</li>
</ul>
<ul>
<li>
NOTHING

<p>
n'envoie pas de nouvelles descriptions, l'état des traductions, etc.
</li>
</ul>

<br>

<hr>

<h4>
<a name="s3.3.5.3">3.3.5.3 Traductions</a>
</h4>

<p>
Après avoir envoyé votre courriel, vous recevez un formulaire du serveur (Il
s'agit d'une pièce jointe).  Sauvez la pièce jointe et ouvrez-la avec votre
éditeur de texte favori.  Dans ce formulaire, vous découvrirez la description
originale, en anglais donc, (ne la modifiez surtout pas, même si elle contient
des fautes) et le squelette de la traduction que vous allez faire.

<p>
Parfois deux descriptions différentes contiennent une phrase ou paragraphe
identique, si le serveur a déjà reçu une traduction française d'un segment de
texte identique (dans l'exemple qui suit&nbsp;: «&nbsp;GNOME
signifie...&nbsp;»), il vous propose une traduction française pour vous alléger
le travail.  Il ne s'agit que d'une simple suggestion&nbsp;; vous pouvez sans
problème l'effacer ou la modifier.

<p>
Voici un exemple de formulaire&nbsp;:

<pre>
      Description: A tetris clone.
       Gnome is the &quot;GNU Network Object Model Environment&quot;
       .
       It is a project to build a complete, user-friendly desktop
       based entirely on free software.
      Description-fr: &lt;trans&gt;
       Gnome signifie « GNU Network Object Model Environment »
       .
       &lt;trans&gt;
</pre>

<p>
Dans le squelette du formulaire&nbsp;:
<ul>
<li>
La ligne commençant par «&nbsp;#&nbsp;» sont des commentaires.
</li>
</ul>
<ul>
<li>
La ligne commençant par «&nbsp;From: Nom &lt;email@host.com&gt;&nbsp;» indique
l'adresse électronique du traducteur.  (Cette ligne est utile si le traducteur
envoie son courrier à partir d'une autre adresse électronique).
</li>
</ul>
<ul>
<li>
Les descriptions doivent être séparées par une <em>et une seule</em> ligne
vide.
</li>
</ul>

<p>
Vous n'avez qu'à remplacer le «&nbsp;&lt;trans&gt;&nbsp;» par votre traduction,
puis, sauvez votre traduction et envoyez-la en pièce jointe à
<em>grisu-td@auric.debian.org</em>.  Le contenu du sujet du courriel n'a pas
d'importance.

<p>
<em>Règles à respecter</em>
<ul>
<li>
ne traduisez pas le mot <em>description</em>,
</li>
</ul>
<ul>
<li>
gardez la structure de la description,
</li>
</ul>
<ul>
<li>
ne modifiez pas la description anglaise&nbsp;: si vous trouvez une erreur,
envoyez un rapport de bogue.
</li>
</ul>
<ul>
<li>
Ne modifiez rien d'autre que le français.  N'insérez pas de lignes
supplémentaires notamment&nbsp;!
</li>
</ul>
<ul>
<li>
Traduisez conformément aux règles en vigueur dans la traduction chez Debian.
</li>
</ul>

<br>

<hr>

<h4>
<a name="s3.3.5.4">3.3.5.4 Relectures</a>
</h4>

<p>
Les traductions sont désormais envoyées chaque jour sur la liste <code><a
href="http://lists.debian.org/debian-l10n-french">http://lists.debian.org/debian-l10n-french</a></code>
afin d'y être relues.  Votre adresse électronique sera jointe à la description.

<p>
Il se peut qu'un membre de la liste vous écrive directement pour vous proposer
des améliorations ou des corrections.  Dans tous les cas, suivez la liste pour
y relever les diverses corrections.

<p>
Il existe un script à <code><a
href="http://perso.wanadoo.fr/nico.bertol/ddts/ddts-rev.txt">http://perso.wanadoo.fr/nico.bertol/ddts/ddts-rev.txt</a></code>
en perl pour faciliter le travail.  Il vous faut tout d'abord paramétrer votre
configuration dans le fichier <em>~/.ddts-rev</em>, un fichier d'exemple est
fourni à <code><a
href="http://perso.wanadoo.fr/nico.bertol/ddts/dot.ddts-rev.txt">http://perso.wanadoo.fr/nico.bertol/ddts/dot.ddts-rev.txt</a></code>,
il vous suffit de renseigner les variables avec les valeurs qui vous
conviennent, des commentaires expliquent leur signification.

<p>
Ensuite, voici la démarche à suivre&nbsp;:
<ul>
<li>
passer à l'entrée standard du script le rapport reçu avec l'option
<em>parse</em>,
</li>
</ul>
<ul>
<li>
renommer les fichiers <em>NomDuPaquet.todo</em> en <em>NomDuPaquet.relu</em>
</li>
</ul>
<ul>
<li>
éditer <em>NomDuPaquet.relu</em> et effectuer les corrections nécessaires, vous
pouvez ajouter des commentaires en ajoutant des lignes commençant par
«&nbsp;&gt;&gt;&nbsp;» suivit d'une espace puis le texte de commentaire,
</li>
</ul>
<ul>
<li>
lancer le script avec l'option <em>mail</em> pour fabriquer les courriels
automatiquement.
</li>
</ul>

<p>
Pour plus d'information, lisez la documentation fournie avec le script&nbsp;:
<samp>perldoc ddts-rev</samp>.

<p>
Des fichiers d'exemple sont aussi fournis&nbsp;: un fichier <code><a
href="http://perso.wanadoo.fr/nico.bertol/ddts/test.txt">http://perso.wanadoo.fr/nico.bertol/ddts/test.txt</a></code>à
relire, un fichier <code><a
href="http://perso.wanadoo.fr/nico.bertol/ddts/test.relu.txt">http://perso.wanadoo.fr/nico.bertol/ddts/test.relu.txt</a></code>relu,
et l'adresse <code><a
href="http://perso.wanadoo.fr/nico.bertol/ddts/test.sent.txt">http://perso.wanadoo.fr/nico.bertol/ddts/test.sent.txt</a></code>pour
le courriel fabriqué.

<br>

<hr>

<h4>
<a name="s3.3.5.5">3.3.5.5 Profitez vous-même des traductions</a>
</h4>

<p>
Insérez simplement l'une des lignes suivantes dans le fichier
<em>/etc/apt/sources.lists</em>&nbsp;:

<pre>
      deb http://gluck.debian.org/~grisu/ddts/aptable fr/potato main
      deb http://gluck.debian.org/~grisu/ddts/aptable fr/woody main 
      deb http://gluck.debian.org/~grisu/ddts/aptable fr/sid main
</pre>

<p>
Après un «&nbsp;apt-get update&nbsp;», tous les outils (<code>dselect</code>,
<code>gnome-apt</code>, <code>deity</code>,...) utiliseront les descriptions
déjà traduites.

<br>

<hr>

<h3>
<a name="s3.3.6">3.3.6 Comment traduire les pages de manuel&nbsp;?</a>
</h3>

<p>
Pas de méthode particulière.  Il faut ouvrir le document dans un éditeur de
texte, et tout traduire.  Le plus difficile, c'est de vérifier que la page
reste à jour.  Et je n'ai aucune idée de comment faire...

<br>

<hr>

<h3>
<a name="s3.3.7">3.3.7 Comment traduire les fichiers info&nbsp;?</a>
</h3>

<p>
Aucune idée.  <em>Input welcome</em>...

<br>

<hr>

<h3>
<a name="s3.3.8">3.3.8 Comment traduire la documentation&nbsp;?</a>
</h3>

<p>
Il faut faire attention à bien traduire le document source.  Par exemple, si la
source est en <samp>XML</samp>, il vaut mieux ne pas traduire la conversion en
<samp>HTML</samp>.  Sinon, pas de méthode particulière, à part la classique
ouverture dans un éditeur.

<br>

<hr>

<h2>
<a name="s3.4">3.4 Conclusion, avenir</a>
</h2>

<p>
Voilà le premier jet de ce HOWTO traduire pour Debian.  Si vous avez le moindre
commentaire à faire, n'hésitez pas.

<p>
C'est tout, j'espère que <em>Woody</em> sera l'avènement de
l'internationalisation effective de Debian...

<br>

<hr>

[ <a href="ch2.html">précedent</a> ]
[ <a href="index.html#abstract">Résumé</a> ]
[ <a href="index.html#copyright">Copyright</a> ]
[ <a href="index.html#contents">Table des matières</a> ]
[ <a href="ch4.html">suivant</a> ]

<hr>

Foire aux questions de la liste debian-l10n-french<br>

<address>
Version 1.7<br>
Patrice Karatchentzeff <code><a href="mailto:p.karatchentzeff@free.fr">p.karatchentzeff@free.fr</a></code>
</address>

</body>

</html>

