<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Construction</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet version 1.13"><LINK
REL="HOME"
TITLE="      Créer un paquet Debian
    "
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="	*.ex
      "
HREF="c95267.html"><LINK
REL="NEXT"
TITLE="Pour plus d'informations"
HREF="c400.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Créer un paquet Debian</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c95267.html"
>Précédent</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c400.html"
>Suivant</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="AEN364"
>Chapitre 3. Construction</A
></H1
><P
>      Nous sommes enfin prêt pour la création du paquet.
    </P
><P
>      Allez dans le répertoire principale d'Empire et lancez build
      <PRE
CLASS="SCREEN"
>	<TT
CLASS="PROMPT"
>$</TT
> <TT
CLASS="USERINPUT"
><B
>cd ..</B
></TT
>
	<TT
CLASS="PROMPT"
>$</TT
> <TT
CLASS="USERINPUT"
><B
>build</B
></TT
>
      </PRE
>
    </P
><P
>      Si vous avez fait des erreurs et que build échoue, et que vous
      essayez encore, vous pouvez rencontrer un petit problème. La
      deuxième fois que vous lancez build, vous pouvez avoir un
      message d'erreur comme ceci :
      <PRE
CLASS="PROGRAMLISTING"
>	dpkg-source: unrepresentable changes to source
      </PRE
>
    </P
><P
>      Cette erreur apparaît quand le paquet n'a pas été correctement
      nettoyé. Soyez sûr que le but clean du makefile de l'application
      retire tous les fichiers inutiles. Si nous relisons le makefile
      d'Empire, nous voyons que clean n'efface pas l'exécutable
      empire. clobber le fait à la place (lignes 79-84). Aussi nous
      changeons la ligne 17 du fichier rules en :
      <PRE
CLASS="PROGRAMLISTING"
>	17    -make clobber
      </PRE
>
    </P
><P
>      Quand build a fini avec succès, remontez d'un répertoire :
      <PRE
CLASS="SCREEN"
>	<TT
CLASS="PROMPT"
>$</TT
> <TT
CLASS="USERINPUT"
><B
>cd ..</B
></TT
>
      </PRE
>
    </P
><P
>      Vous verrez quatre nouveaux fichiers
      <P
></P
><DL
><DT
>empire_1.1-2_i386.deb</DT
><DD
><P
>	      est le paquet Debian complet. Vous pouvez utiliser dpkg
	      ou dselect pour l'installer ou le retirer comme
	      n'importe quel autre paquet.
	    </P
></DD
><DT
>empire_1.1-2_i386.changes</DT
><DD
><P
>	      Au fur et à mesure que vous travaillez sur un paquet,
	      son comportement va changer et de nouvelles capacités
	      seront ajoutées. Les personnes qui téléchargent votre
	      paquet peuvent regarder ce fichier et voir ce qui a
	      changé. Le fichier est généré à partir de
	      empire-1.1/debian/changelog. Il contient aussi la liste
	      des fichiers du paquet. Les longues chaînes de
	      caractères sont les sommes MD5 du fichier. Une personne
	      qui télécharge vos fichiers peut les tester avec le
	      programme md5sum (voir la page de manuel) et si les
	      numéros ne correspondent pas, elle saura que le fichier
	      est corrompu ou modifié.
	    </P
></DD
><DT
>empire_1.1.orig.tar.gz</DT
><DD
><P
>	      Ceci est le source original empaqueté de sorte que si
	      quelqu'un veut recréer votre paquet depuis le début, il
	      peut.
	    </P
></DD
><DT
>empire_1.1-2.dsc</DT
><DD
><P
>	      Ceci est un résumé du contenu du code source. Ce fichier
	      est généré à partir du fichier
	      empire-1.1/debian/control.
	    </P
></DD
></DL
>
    </P
><P
>      Et voilà. Vous êtes maintenant l'heureux créateur d'une nouvelle
      archive Debian. Il reste encore beaucoup de travail à faire
      avant d'être totalement conforme aux normes Debian (voyez le
      Manuel des Normes pour plus de détails). Avec un peu de chance,
      cette introduction vous aura montré que le processus complet
      n'est pas aussi dur que beaucoup le pensent.
    </P
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c95267.html"
>Précédent</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Sommaire</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c400.html"
>Suivant</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>*.ex</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Pour plus d'informations</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>