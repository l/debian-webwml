<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>	*.ex
      </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet version 1.13"><LINK
REL="HOME"
TITLE="      Créer un paquet Debian
    "
HREF="book1.html"><LINK
REL="UP"
TITLE="      Création du paquet
    "
HREF="c95.html"><LINK
REL="PREVIOUS"
TITLE="	conffiles
      "
HREF="c95264.html"><LINK
REL="NEXT"
TITLE="Construction"
HREF="c364.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Créer un paquet Debian</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c95264.html"
>Précédent</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapitre 2. Création du paquet</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c364.html"
>Suivant</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="AEN267"
>*.ex</A
></H1
><P
>	Certains paquets doivent faire plus que de simplement installer des
	fichiers. Par exemple, un serveur peut avoir besoin d'insérer une
	ligne dans /etc/inetd.conf. Les fichiers en suffixe .ex sont des
	exemples de la manière d'ajouter ce genre de support à votre
	paquet. Pour en utiliser un, éditez et retirez le suffixe .ex . Voici
	une brève description de ce que fait chaque fichier.
      </P
><P
></P
><DL
><DT
>crontab.ex</DT
><DD
><P
>	      Ceci ajoute une ligne au fichier /etc/crontab pour
	      exécuter un programme de manière régulière. Les normes
	      actuelles spécifient qu'un paquet ne devrait pas toucher
	      à /etc/crontab, aussi si vous pensez qu'il y a une bonne
	      raison de le faire, discutez-en d'abord sur les mailing
	      lists. Si vous renommez ce fichier en cron.daily, il
	      sera ajouté dans /etc/cron.daily/ et exécuté tous les
	      jours. Pareillement, si vous le renommez cron.weekly il
	      sera ajouté dans /etc/cron.weekly/, et pour cron.monthly
	      il sera ajouté dans /etc/cron.monthly/. Comme les noms
	      le suggèrent (pour peu qu'on parle un brin anglais,
	      NdT), ils sont exécutés respectivement toutes les
	      semaines et tous les mois. Lisez les pages de manuel de
	      <B
CLASS="COMMAND"
>crontab(1)</B
> et
	      <B
CLASS="COMMAND"
>crontab(5)</B
> pour plus de détails. Les
	      normes précisent que ces fichiers doivent être des
	      scripts, et qu'ils doivent être enregistrés comme
	      conffiles. Empire n'en a pas besoin, aussi nous
	      l'effacerons.
	    </P
></DD
><DT
>diversion.ex</DT
><DD
><P
>	      Quelque chose à voir avec un détournement, peut-être ?
	      Empire n'en a pas besoin, nous l'effaçons (NdT : il
	      s'agit du mécanisme utilisé sous Debian pour permettre
	      d'avoir plusieurs programmes aux capacités similaires
	      tout en enregistrant un programme par défaut.)
	    </P
></DD
><DT
>inetd.conf.ex</DT
><DD
><P
>	      Ceci ajoute une ligne dans /etc/inetd.conf pour exécuter
	      un démon. Lisez les pages de manuel pour
	      <B
CLASS="COMMAND"
>inetd.conf(1)</B
> pour des détails sur le
	      format. Empire n'en a pas besoin, aussi nous l'effaçons.
	    </P
></DD
><DT
>info.ex</DT
><DD
><P
>	      Éditez ce fichier pour fournir de la documentation au
	      format GNU info. Empire n'en a pas besoin, aussi nous
	      l'effaçons.
	    </P
></DD
><DT
>init.d.ex</DT
><DD
><P
>	      Ceci est un script par défaut pour /etc/init.d/. Si
	      votre programme doit être lancé au moment du démarrage
	      et stoppé à l'arrêt de l'ordinateur, ou lorsque le
	      niveau d'exécution (runlevel) change , éditez le script
	      pour faire les actions nécessaires. Empire n'en a pas
	      besoin, aussi nous l'effaçons.
	    </P
></DD
><DT
>manpage.1.ex</DT
><DD
><P
>	      Votre programme devrait avoir une page de manuel. S'il
	      n'en a pas, voici un patron que vous pouvez
	      remplir. Lisez les pages de manuel de <B
CLASS="COMMAND"
>man(7)</B
> pour
	      une description rapide de la façon de créer une page de
	      manuel. Soyez sûr de donner à ce fichier le nom du
	      programme avec l'extension correspondant à la section du
	      manuel dans laquelle il devrait aller. Voici une liste :
	      <DIV
CLASS="TABLE"
><P
><B
>Tableau 2-1. Section des pages de manuel</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Section
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Description
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Notes
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			1
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Commandes utilisateur
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Commandes ou scripts exécutables
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			2
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Appels systèmes
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Fonctions fournies par le noyau
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			3
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Appels librairies
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Fonctions des librairies système
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			4
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Fichiers spéciaux
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			D'ordinaire trouvés dans /dev
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			5
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Formats de fichiers
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Par exemple, le format de /etc/passwd
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			6
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Jeux
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Ou tout autre programme frivole
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			7
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Paquets de macros
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Comme les macros de man
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			8
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Administration Système
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			D'ordinaire uniquement lancé par root
		      </TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			9
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Routine noyau
		      </TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>			Appels non-standards et internes
		      </TD
></TR
></TABLE
></DIV
>
	    </P
><P
>	      La page de manuel de Empire devrait être nommée
	      empire.6. Comme il y a déjà une page de manuel empire.6,
	      nous pouvons effacer cet exemple.
	    </P
></DD
><DT
>menu.ex</DT
><DD
><P
>	      Les utilisateurs de X Windows ont un gestionnaire de
	      fenêtres avec des menus qui peuvent être configurés pour
	      lancer des programmes. S'ils ont installés le paquet
	      Debian menu, un ensemble de menus pour chaque programme
	      sur le système sera créé pour eux. Ce n'est pas requis
	      par les normes Debian, mais vos utilisateurs
	      apprécieront. Nous pouvons ajouter Empire aux menus en
	      éditant ce fichier. Voici ce que debmake crée par défaut
	      :
	      <PRE
CLASS="PROGRAMLISTING"
>		text Apps/Misc empire none "empire Description" /usr/bin/empire
	      </PRE
>
	    </P
><P
>	      Le premier champ indique le type d'interface requise par
	      le programme (text ou X11). Le champ suivant est le nom
	      de menu et de sous-menu dans lequel l'entrée devrait
	      apparaître. La liste de sections actuelles est dans
	      /usr/doc/menu/README. Le troisième est le nom du
	      menu. Le quatrième est l'icône du programme, ou rien
	      s'il n'y en a pas. Le cinquième est le texte qui
	      apparaîtra au menu. Le sixième est la commande qui lance
	      le programme.
	    </P
><P
>	      Remplacez l'entrée du menu par :
	      <PRE
CLASS="PROGRAMLISTING"
>		text Games/Strategy empire none "Build an empire" /usr/bin/empire
	      </PRE
>
	    </P
><TABLE
CLASS="SIDEBAR"
BORDER="1"
CELLPADDING="5"
><TR
><TD
><DIV
CLASS="SIDEBAR"
><P
></P
><P
>		NdT : menu a changé de format, mais reste compatible
		avec l'ancienne version. Aujourd'hui, on préférera
		ceci :
		<PRE
CLASS="PROGRAMLISTING"
>		  ?package(empire):needs="text" \
		  section="Games/Strategy" \
		  title="Build an empire" \
		  icon="none" \
		  command="/usr/bin/empire"
		</PRE
>
	      </P
><P
></P
></DIV
></TD
></TR
></TABLE
></DD
><DT
>watch.ex</DT
><DD
><P
>	      Vous pouvez utiliser ce fichier en plus des programmes
	      <B
CLASS="COMMAND"
>uscan(1)</B
> et
	      <B
CLASS="COMMAND"
>uupdate(1)</B
> du paquet devscript pour
	      surveiller le site duquel vous avez eu les sources
	      originelles. Lisez les pages de manuel pour plus de
	      détail. Voici ce que debmake crée par défaut :
	      <PRE
CLASS="PROGRAMLISTING"
>		1 # Example watch control file for uscan
		2 # Rename this file to "watch" and then you can run the "uscan" command
		3 # to check for upstream updates and more.
		4 # Site          Directory              Pattern            Version    Script
		5 sunsite.unc.edu /pub/Linux/Incoming    empire-*.tar.gz    debian     uupdate
	      </PRE
>
	    </P
><P
>	      Changez le en :
	      <PRE
CLASS="PROGRAMLISTING"
>		5 www.cdrom.com /pub/Linux/sunsite/games/strategy empire-*.tar.gz debian uupdate
	      </PRE
>
	    </P
></DD
></DL
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c95264.html"
>Précédent</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Sommaire</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c364.html"
>Suivant</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>conffiles</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c95.html"
>Supérieur</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Construction</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>