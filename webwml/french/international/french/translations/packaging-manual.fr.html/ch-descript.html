<html><head>
<title>Le manuel de programmation de dpkg - Description des paquets - le champ Description</title>
<link rev=made href="mailto:cure@cnam.fr">
</head><body>
<h1>
Le manuel de programmation de dpkg - chapitre 7<br>
Description des paquets - le champ Description
</h1>

Le champ <code>Description</code> du fichier de contrôle est utilisé par
<kbd>dselect</kbd> quand l'utilisateur est en train de sélectionner les
paquets à installer et par <kbd>dpkg</kbd> quand il affiche les
informations sur les statuts des paquets et ainsi de suite. Il est
inclus sur les sites FTP dans les fichiers <code>Packages</code>, et peut
être aussi utilisé sur les pages Web Debian.<P>

La description permet de décrire le programme à l'utilisateur qui
n'en avait jamais entendu parler auparavant, afin de savoir s'il veut
l'installer. Elle doit donner des informations sur les conflits et
dépendances significatives entre ce paquet et les autres, afin que
l'utilisateur sache pourquoi ces conflits et dépendances ont été
déclarés.<P>

Le champ a le format suivant:

<pre>    Description: Une seule ligne de résumé
     description étendue sur plusieurs lignes</pre>

Le résumé est souvent affiché dans les listes de paquets et autres, et
doit être aussi instructif que possible. Chaque paquet doit aussi avoir
une description détaillée (étendue).<P>

<hr>
<h2><A name="s-descript-1">
7.1 Types de lignes formatées dans la description étendue
</A></h2>

<ul>
<li>Les lignes commençant par un simple espace, sont des parties de
paragraphe. Les lignes successives  de cette forme seront formatées à
l'affichage. L'espace en trop sera habituellement supprimé.
<p><li>Les lignes commençant par deux (ou plus) espaces seront affichées
telles quelles.
Si l'affichage n'est pas extensible horizontalement, le
programme d'affichage s'occupera de leur sort (c'est à dire sans prendre
en compte les coupures de mots).
Si c'est possible, elles seront autorisées à s'estomper à droite.
Aucun, un ou deux espaces peuvent être
effacés, mais le nombre d'espace, effacés de chaque ligne, doit être le
même (afin d'indenter le travail correctement, par exemple).
<p><li>Les lignes contenant un seul espace, suivi par un seul point sont
considérées comme des lignes vides. C'est la seule manière d'avoir des
lignes vides, voir ci-dessous.
<p><li>Les lignes contenant un espace, un point et d'autres caractères sont
prévues pour des extensions futures. Ne pas les utiliser.
<p></ul>


<hr>
<h2><A name="s-descript-2">
7.2 Remarques sur l'écriture des descriptions
</A></h2>

Commencer toujours les lignes de description étendue par au moins un
espace. Les champs dans les fichiers de contrôle et les fichiers
<code>Packages</code> sont séparés par des noms de champ qui commencent sur
la première colonne, comme le sont les champs d'en-tête de message dans
la RFC 822. Oublier les espaces provoquera de la part de <kbd>dpkg-deb</kbd>
<A href="footnotes.html#21" name="fr21">[21]</A>
une erreur de syntaxe quand il essayera de construire le paquet. Si tu
forces la construction, <kbd>dpkg</kbd> refusera d'installer le
désordre.<P>

Ne pas inclure de lignes complètement vides. Elles servent à séparer
les différents enregistrements dans le fichiers <code>Packages</code> et
différents paquets dans le fichier <code>debian/control</code> et sont
interdites dans les fichiers de contrôle de paquets. Voir le paragraphe
précédent pour connaître les effets sur <kbd>dpkg</kbd>.<P>

La ligne de résumé doit être brève, moins de 80 caractères.
<kbd>dselect</kbd> affiche entre 25 et 49 caractères sans déborder, si tu
utilises un terminal de 80 colonnes, dépendant des options
d'affichage.<P>

Ne pas inclure le nom du paquet dans la ligne de résumé. Le logiciel
sait déjà l'afficher, et ce n'est pas nécessaire de s'en occuper. Ne pas
oublier que dans beaucoup de cas, l'utilisateur ne regarde seulement que
la ligne de résumé, il faut donc la rendre aussi instructive que
possible.<P>

La description étendue doit décrire ce que fait le paquet, et comment il
est relié au reste du système (en termes, par exemple, de sous-système,
de partie de ...).<P>

Le commentaire, qui est fourni avec un programme dans ses fichiers
d'annonces et/ou <code>README</code>, est rarement approprié pour une
utilisation dans une description. Il est habituellement conçu pour les
gens qui connaissent déjà le paquet. Le champ de description doit être
compris par n'importe qui, même pour les gens qui n'ont aucune idée sur ce
que fait le paquet.<P>

Mettre les informations importantes d'abord, dans le résumé et dans la
description étendue. Quelques fois, seulement, la première partie du
résumé ou de la description sera affichée. On peut supposer qu'il y a
d'habitude une manière de voir l'ensemble de la description étendue.<P>

Tu dois inclure les informations sur les dépendances et autres, dans la
description étendue, si tu le souhaites.<P>

Ne pas utiliser le caractère de tabulation, son effet est
imprévisible.<P>

Ne pas essayer de couper la ligne du résumé
(la partie sur la même ligne que le champ description) dans la
description étendue. Cela ne fonctionnera pas correctement 
quand la description complète sera affichée et n'aura aucun sens aux endroits
où seul le résumé est disponible.<P>

<hr>
<h2><A name="s-descript-3">
7.3 Exemple de description dans le fichier de contrôle de Smail
</A></h2>

<pre>Package: smail
Version: 3.1.29.1-13
Maintener: Ian Jackson &lt;iwj10@cus.cam.ac.uk&gt;
Recommends: pine | mailx | elm | emacs | mail-user-agent
Suggests: metamail
Depends: cron, libc5
Conflicts: sendmail
Provides: mail-transport-agent
Description: Electronic mail transport system.
 Smail is the recommended mail transport agent (MTA) for Debian.
 .
 An MTA is the innards of the mail system - it takes messages from
 user-friendly mail programs and arranges for them to be delivred
 locally or passed on to other systems as required.
 .
 In ordre to make use of it you must have one or more user level
 mailreader programs such as elm, pine, mailx, or Emacs (which has Rmail
 and VM as mailreaders) installed. If you wish to send messages other
 than just to other users of your system you must also have appropriate
 networking support, in the form of IP or UUCP.</pre>



<hr>
Le manuel de programmation de dpkg
- <A href="index.html#copyright">Copyright ©1996 Ian Jackson
Copyright ©1997 David Curé et Christian Jacolot pour
           la version française.</A>
<br>
<A href="index.html#toc">Table des matières</A>; <A href="index.html#abstract">résumé</A>; <A href="ch-relation.html">suivant</A>; <A href="ch-maintenance.html">précédent</A>.
<br>
<address>20 décembre 1997<br>
D. Cure <A href="mailto:cure@cnam.fr">cure@cnam.fr</A><br>
C. Jacolot <A href="mailto:jacolot@ubolib.univ-brest.fr">jacolot@ubolib.univ-brest.fr</A></address>
</body></html>