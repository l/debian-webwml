#use wml::debian::template title="Comment travailler sur les pages du site Debian"
#use wml::debian::translation-check translation="1.4" translation_maintainer="Denis Barbier"

<h2>Ajouter de nouvelles pages</h2>

<p>Ajouter de nouvelles pages à Debian est assez facile. Tout le travail
consistant à mettre le bon en-tête et la bonne fin de page est déjà fait
en utilisant WML. Tout ce que vous avez besoin de faire est d'inclure une
ligne telle que la suivante en haut d'un nouveau fichier:
<pre><protect>
#use wml::debian::template title="TITRE DE LA PAGE"
</protect></pre>

<p>suivi du corps de la page. Toutes les pages devraient utiliser le
fichier modèle 
<code>wml::debian::template</code> sauf si elles en utilisent un spécial
créé uniquement pour leur section, comme par exemple les pages des
nouvelles ou celle sur la sécurité.

<p>Les modèles que nous utilisons vous permettent de definir certaines
variables qui affecteront les pages créées. Cela devrait éviter d'avoir
à créer des modèles différents pour chaque situation et permettre que
les améliorations soient plus faciles à mettre en oeuvre. Les variables
disponibles actuellement et leurs fonctions sont:
<dl>
<dt>BARETITLE="true"
	<dd>Supprime la partie «&nbsp;Debian GNU/Linux --&nbsp;» qui est
        habituellement ajoutée au début des balises &lt;title&gt;.
<dt>NOHEADER="true"
	<dd>Enlève l'entête initial de la page. Un entête spécial
        peut, bien entendu, être inclus dans le corps.
<dt>NOHOMELINK="true"
	<dd>Enlève le lien en bas de la page qui permet de revenir
        à la page Debian principale.
<dt>NOLANGUAGES="true"
	<dd>Enlève les liens en bas de la page vers les versions dans
        d'autres langues.
<dt>GEN_TIME="true"
	<dd>Met dans le fichier résultat la date de génération du
        fichier au lieu de la date de modification du fichier source.
<dt>NOCOPYRIGHT="true"
	<dd>Enlève la note de copyright en bas de la page.
</dl>

<p>Notez que vous pouvez utiliser n'importe quelle chaîne de caractères
dans ces variables: «&nbsp;true&nbsp;», «&nbsp;yes&nbsp;»,
«&nbsp;foo&nbsp;», cela ne change rien.

<p>Un exemple d'utilisation de tout cela se trouve dans les pages sur
les portages qui ont leurs propres en-tête ;
<code>ports/arm/index.wml</code> utilise:

<pre><protect>
#use wml::debian::template title="Portage ARM" NOHEADER="yes"
</protect></pre>

<p>Si vous voulez faire quelque chose qui ne peut être fait en utilisant
les modèles existants, envisagez d'abord d'étendre l'un d'entre eux.
S'il n'est pas possible d'étendre l'un d'eux d'une manière compatible
avec l'existant, essayez de vous arranger pour que le nouveau modèle
soit un sur-ensemble d'un modèle existant de façon à ce que les pages
puissent être converties à lui lors du passage à la prochaine version
majeure (avec un peu de chance jamais plus de tous les 6 mois).

<p>Si vous créez une page qui est générée par un script ou qui contient
peu de texte, envisagez d'utiliser les "slices" de wml pour
faciliter la maintenance des traductions à jour. Un bon exemple de
cela se trouve dans <kbd>distrib/vendors.wml</kbd>. Les nouveaux
distributeurs peuvent être ajoutés à cette page et l'ajout sera généré
dans chaque langue automatiquement. Le fichier <kbd>vendors.wml</kbd>
inclut <kbd>vendors.CD</kbd> qui contient la liste courante des
distributeurs. Ce fichier à son tour inclut
<kbd>distrib/vendors.CD.def</kbd> qui contient la définition de toutes
les phrases de <kbd>vendors.CD</kbd>.

<p>Les traducteurs ont simplement besoin d'ajouter les traductions à
l'endroit où il y a une "slice", par exemple
<pre><protect>
	[EN:Country:]
	[ES:Pa-is:]
	[DE:Land:]
</protect></pre>

<h2>Ajouter un nouveau répertoire</h2>

<p>Note: <strong>ne pas</strong> créer de répertoire ayant pour nom
<code>install</code>. Cela dérange <code>make</code> et les pages de ce
répertoire ne seront pas mises à jour automatiquement.

<p>Ci-dessous se trouve un exemple d'ajout de nouveau répertoire au site
web.
<pre>
   mkdir foo
   cvs add foo
   cd foo
   cp ../intro/Makefile .
   cvs add Makefile
</pre>

<p>Éditez le Makefile dans le répertoire parent et ajoutez le répertoire
que vous venez de créer à la variable <code>SUBS</code>. Cela ajoutera
ce répertoire lors de la prochaine compilation quand make est lancé.

<p>Enfin, enregistrez tous les changements effectués avec
<pre>
  cvs commit Makefile foo
</pre>
