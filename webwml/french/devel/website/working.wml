#use wml::debian::template title="Travailler sur les pages du site Debian" BARETITLE=true
#use wml::debian::translation-check translation="1.17" maintainer="Denis Barbier"

<ul>
  <li><a href="#general">Informations générales</a>
  <li><a href="#newpage">Ajouter de nouvelles pages</a>
  <li><a href="#newdir">Ajouter un nouveau répertoire</a>
</ul>

<hrline/>

<h2><a name="general">Informations générales</a></h2>

<h3>Ressources nécessaires</h3>

<p>Si vous voulez travailler sur notre site web, vous devez vous
préparer à accueiller au moins 60 Mo de données sur votre disque dur. Ce
chiffre reflète l'état actuel de l'archive. Si vous reconstruisez
(accidentellement) toutes les pages, vous aurez besoin d'au moins du
double de place. Et si vous ne récupérez qu'une partie des sources, vous
aurez besoin de nettement moins d'espace, par exemple 18 Mo pour le
répertoire english/.</p>

<h3>Récupération partielle</h3>

<p>Beaucoup de personnes n'auront pas besoin de toute l'arborescence CVS
sous <code>webwml</code>, ce qui peut occasionner des fichiers manquants
et entrainer des erreurs à la compilation, au cas où un fichier
important a été ajouté et qu'on n'a pas fait de <kbd>cvs update</kbd>
dans le répertoire. Veuillez vérifier que vous avez bien tous les
fichiers nécessaires (comme les fichiers .wmlrc) avant de vous plaindre
à nous.</p>

<h3>Que sont ces lignes commençant par «&nbsp;#&nbsp;»&nbsp;?</h3>

<p>Avec wml, les lignes commençant par «&nbsp;#&nbsp;» sont des
commentaires. Ils sont utilisés de préférence aux commentaires HTML, car
ils n'apparaissent pas dans le code produit.</p>

<h3>Puis-je modifier la version anglaise&nbsp;?</h3>

<p>Cela dépend. Si vous voyez une petite erreur, comme une faute de
frappe, corrigez-la.

<p>Si vous vous rendez compte qu'une information est manquante, vous
pouvez aussi la corriger.

<p>Si vous pensez que quelque chose ne va pas et doit être réécrit,
dites-le sur debian-www afin que cela soit discuté. Nous serons
certainement d'accord avec vous.

<p>Si vous remarquez un problème dans un fichier modèle (c'est-à-dire un
fichier dans le répertoire webwml/english/template/debian), réfléchissez
à deux fois avant de le corriger, parce que les changements dans ces
fichiers entrainent souvent la reconstruction d'une grande partie du
site.

<h3>Quand on ajoute de nouveaux répertoires, ajouter aussi le Makefile&nbsp;!</h3>

<p>Il faut faire attention quand on ajoute un nouveau répertoire au CVS.
Si le répertoire courant est indiqué dans ../Makefile, alors il
<b>faut</b> créer un Makefile dans ce répertoire&nbsp;; sinon <tt>make</tt>
affichera un message d'erreur.</p>

<h3>Utilisez un anglais simple et clair</h3>

<p>Comme le site Debian est consulté par des personnes dont l'anglais
n'est pas la langue maternelle et est traduit dans d'autres langues,
il est préférable d'écrire avec un anglais simple et clair et d'éviter
l'argot, les idiomes ou du vieil anglais.</p>

<p>Si vous en utilisez néanmoins, ajoutez un commentaire au fichier
source expliquant le sens de la phrase.</p>

<h3>Ce lien ne semble pas marcher, dois-je le changer&nbsp;?</h3>

<p>À cause de la façon dont les serveurs web sont configurés (utilisant
<a href="content_negotiation">la négociation de contenu</a>),
vous ne devriez pas avoir besoin de changer les liens du site.
En fait, nous vous suggérons de ne jamais le faire. Écrivez à debian-www
si vous pensez qu'un lien est cassé avant de le changer.</p>

<h3>Correction des liens</h3>

<p>Si vous trouvez un lien vers un site externe qui renvoie une
redirection (301, 302, redirection par &lt;meta&gt; ou une page disant
que «&nbsp;<em>This page has moved.</em>&nbsp;»), merci de le signaler
sur debian-www.</p>

<p>Si vous trouvez un lien cassé (404, 403, ou une page qui n'est
manifestement pas celle indiquée dans le lien), veuillez le corriger et
en informer debian-www afin d'avertir les traducteurs. Ou alors corrigez
aussi le lien pour toutes les traductions, en faisant attention de
mettre à jour la ligne <code>#use wml::debian::translation-check</code>.</p>

<h3>Chercher le README dans les répertoires anglais</h3>

<p>Certains répertoires contiennent un fichier README qui peut vous
aider à comprendre comment ce répertoire est organisé. Il peut
fournir des informations utiles lorsqu'on travaille dans un tel
répertoire.</p>

<h3>Que sont ces fichiers truc.def et truc.data&nbsp;?</h3>

<p>Afin de faciliter la maintenance des traductions, nous
séparons les parties génériques (données) du texte sur certaines pages.
Les traducteurs ne doivent copier et traduire que la partie textuelle,
les données seront ajoutées automatiquement.</p>

<p>Les bouts dans le fichier de données seront mis à jour de façon très
irrégulière, un message est habituellement envoyé sur debian-www quand
cela se produit.</p>

<p>Un exemple peut être utile à mieux comprendre&nbsp;; la liste des vendeurs
est générée par trois fichiers&nbsp;:</p>
<p><dl compact>
  <dt><code>vendors.wml</code>&nbsp;:
      <dd>Le texte en haut de la page sur les vendeurs est dans ce fichier.
      Une traduction devrait être placée dans votre répertoire.
  <dt><code>vendors.CD.def</code>&nbsp;:
      <dd>Celui-ci contient tous les morceaux de texte qui sont nécessaires
      à chaque entrée dans la liste. Les traductions doivent être mises
      directement dans l'original, qui est
      english/distrib/vendors.CD.def.
  <dt><code>vendors.CD</code>&nbsp;:
      <dd>Ce fichier contient les données relatives aux vendeurs, qui
      sont indépendantes de la langue, il ne doit donc pas être traduit.
</dl>

<p>Les nouveaux vendeurs sont ajoutés par un des webmestres qui modifie
vendors.CD. La prochaine fois que les pages sont mises à jour, toutes
les traductions seront automatiquement reconstruites (une mise à jour
gratuite&nbsp;! :-)</p>

<h2><a name="newpage">Ajouter de nouvelles pages</a></h2>

<p>Ajouter de nouvelles pages à Debian est assez facile. Tout le travail
consistant à mettre le bon en-tête et le bon pied de page est déjà fait
en utilisant WML. Tout ce que vous avez besoin de faire est d'inclure une
ligne telle que la suivante en haut d'un nouveau fichier&nbsp;:</p>

<pre><protect>
#use wml::debian::template title="TITRE DE LA PAGE"
</protect></pre>

<p>suivi du corps de la page. Toutes les pages devraient utiliser le
fichier modèle 
<code>wml::debian::template</code> sauf si elles en utilisent un spécial
créé uniquement pour leur section, comme par exemple les pages des
nouvelles ou celle sur la sécurité.</p>

<p>Les modèles que nous utilisons vous permettent de definir certaines
variables qui affecteront les pages créées. Cela devrait éviter d'avoir
à créer des modèles différents pour chaque situation et permettre que
les améliorations soient plus faciles à mettre en oeuvre. Les variables
disponibles actuellement et leurs fonctions sont&nbsp;:</p>
<dl>
<dt>BARETITLE="true"
	<dd>Supprime la partie «&nbsp;Debian GNU/Linux --&nbsp;» qui est
        habituellement ajoutée au début des balises &lt;title&gt;.
<dt>NOHEADER="true"
	<dd>Enlève l'en-tête initial de la page. Un en-tête spécial
        peut, bien entendu, être inclus dans le corps.
<dt>NOMIRRORS="true"
	<dd>Enlève la liste des miroirs de la page. Il n'est
        généralement pas recommandé de l'utilisé, à part pour quelques
        pages.
<dt>NOHOMELINK="true"
	<dd>Enlève le lien en bas de la page qui permet de revenir
        à la page Debian principale.
<dt>NOLANGUAGES="true"
	<dd>Enlève les liens en bas de la page vers les versions dans
        d'autres langues.
<dt>GEN_TIME="true"
	<dd>Met dans le fichier résultat la date de génération du
        fichier au lieu de la date de modification du fichier source.
<dt>NOCOPYRIGHT="true"
	<dd>Enlève la note de copyright en bas de la page.
</dl>

<p>Notez que vous pouvez utiliser n'importe quelle chaîne de caractères
dans ces variables: «&nbsp;true&nbsp;», «&nbsp;yes&nbsp;»,
«&nbsp;foo&nbsp;», cela ne change rien.</p>

<p>Un exemple d'utilisation de tout cela se trouve dans les pages sur
les portages qui ont leurs propres en-tête&nbsp;;
<code>ports/arm/index.wml</code> utilise&nbsp;:</p>

<pre><protect>
#use wml::debian::template title="Portage ARM" NOHEADER="yes"
</protect></pre>

<p>Si vous voulez faire quelque chose qui ne peut être fait en utilisant
les modèles existants, envisagez d'abord d'étendre l'un d'entre eux.
S'il n'est pas possible d'étendre l'un d'eux d'une manière compatible
avec l'existant, essayez de vous arranger pour que le nouveau modèle
soit un sur-ensemble d'un modèle existant de façon à ce que les pages
puissent être converties à lui lors du passage à la prochaine version
majeure (avec un peu de chance jamais plus de tous les 6 mois).</p>

<p>Si vous créez une page qui est générée par un script ou qui contient
peu de texte, envisagez d'utiliser les «&nbsp;slices&nbsp;» de WML pour
faciliter la maintenance des traductions. Un bon exemple de
cela se trouve dans <kbd>distrib/vendors.wml</kbd>. Les nouveaux
distributeurs peuvent être ajoutés à cette page et l'ajout sera généré
dans chaque langue automatiquement. Le fichier <kbd>vendors.wml</kbd>
inclut <kbd>vendors.CD</kbd> qui contient la liste courante des
distributeurs. Ce fichier à son tour inclut
<kbd>distrib/vendors.CD.def</kbd> qui contient la définition de toutes
les phrases de <kbd>vendors.CD</kbd>.</p>

<p>Les traducteurs ont simplement besoin d'ajouter les traductions à
l'endroit où il y a une «&nbsp;slice&nbsp;», par exemple</p>
<pre><protect>
	[EN:Country:]
	[ES:País:]
	[DE:Land:]
</protect></pre>

<h2><a name="newdir">Ajouter un nouveau répertoire</a></h2>

<p>Note&nbsp;: <strong>ne pas</strong> créer de répertoire ayant pour nom
<code>install</code>. Cela dérange <code>make</code> et les pages de ce
répertoire ne seront pas mises à jour automatiquement.</p>

<p>Ci-dessous se trouve un exemple d'ajout de nouveau répertoire au site
web.</p>
<pre>
   mkdir foo
   cvs add foo
   cd foo
   cp ../intro/Makefile .
   cvs add Makefile
</pre>

<p>Éditez le Makefile dans le répertoire parent et ajoutez le répertoire
que vous venez de créer à la variable <code>SUBS</code>. Cela ajoutera
ce répertoire lors de la prochaine compilation quand make est lancé.</p>

<p>Enfin, enregistrez tous les changements effectués avec</p>
<pre>
  cvs commit Makefile foo
</pre>
