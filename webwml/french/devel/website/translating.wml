#use wml::debian::template title="Traduction du site web Debian"
#use wml::debian::translation-check translation="1.44" maintainer="Frédéric Bothamy"
#use wml::fmt::verbatim

<P>Pour rendre le travail des traducteurs aussi facile que possible, les
pages sont générées un peu différemment de ce à quoi beaucoup d'entre
vous sont habitués. Les pages web sont en fait générées en
utilisant un source qui a un suffixe en
<a href="http://www.engelschall.com/sw/wml/"><tt>wml</tt></a>. Il y a
des répertoires distincts pour chaque langue.

<p>Si vous prévoyez de démarrer une nouvelle traduction du site web
Debian, veuillez lire la <a href="#completenew">section sur le démarrage
d'une nouvelle traduction</a>.

<h2><a name="singlepages">Traduire une page</a></h2>

<p>Nous utilisons des fichiers source WML, ainsi le contenu et les éléments 
généraux sont enregistrés séparément. Ce qui signifie qu'il faut éditer
un certain nombre de fichiers source WML au lieu d'éditer les pages HTML
Veuillez récupérez les sources
<a href="using_cvs">en utilisant CVS</a>. Vous aurez besoin de récupérer
au moins les répertoires <tt>webwml/english/</tt> et 
<tt>webwml/<var>&lt;language&gt;</var>/</tt>.</p>

<p>Pour traduire une page de l'anglais dans votre langue préférée,
il faut traduire le fichier .wml original et le placer dans le répertoire
de votre langue qui correspond. Le chemin relatif ainsi que le nom devront 
être les mêmes que ceux de la version anglaise pour que les liens puissent 
fonctionner.</p>

<h3>En-têtes de traduction</h3>

<p>Nous recommandons tout spécialement au traducteur d'ajouter une 
ligne supplémentaire dans les en-têtes, juste à la suite de la dernière commande
<code>#use</code>, pour enregistrer le numéro de version exact du document 
qu'il vient de traduire. De cette manière, <a href="uptodate">les mises à jour 
sont facilitées</a>. La ligne ressemble à cela&nbsp;:
<kbd>#use wml::debian::translation-check translation="<var>x.y</var>"</kbd>

<p>Plusieurs équipes de traduction utilisent également cette ligne pour
indiquer le traducteur officiel de chaque page web. Ainsi, vous recevrez
automatiquement des courriels quand les pages dont vous êtes le responsables
sont mises à jour dans la version anglaise et nécessitent votre attention pour
la mise à jour de la traduction. Pour cela, ajoutez simplement votre nom comme
responsable à la fin de la ligne <code>#use</code> pour la faire ressembler à
ceci&nbsp;:
<kbd>#use wml::debian::translation-check translation="<var>x.y</var>"
maintainer="<var>votre nom</var>"</kbd>
</p>

<p>Vous devez également expliquer au robot qui vous êtes, la fréquence à
laquelle vous désirez recevoir les courriels automatiques et le contenu de
ceux-ci. Pour cela, éditez (ou demandez à votre coordinateur d'éditer) le fichier
webwml/<var>language</var>/international/<var>language</var>/translator.db.pl
dans le CVS. La syntaxe devrait être assez compréhensible et vous pouvez
utiliser le fichier de l'équipe française comme modèle si celui de votre
langue n'existe pas encore. Le robot peut envoyer plusieurs types
d'informations et pour chacune d'entre elles, vous pouvez choisir la fréquence
à laquelle elle doit vous être envoyée. Les différents types d'informations
sont&nbsp;:
</p>

<ul>
 <li><b>summary</b>&nbsp;: un résumé des documents non à jour</li>
 <li><b>logs</b>&nbsp;: le «&nbsp;journal cvs&nbsp;» entre les versions traduite et actuelle</li>
 <li><b>diff</b>&nbsp;: le «&nbsp;diff cvs&nbsp;»</li>
 <li><b>tdiff</b>&nbsp;: le script va tenter de trouver les parties du texte traduit
modifié par le correctif anglais</li>
 <li><b>file</b>&nbsp;: ajoute la version actuelle du fichier à traduire</li>
</ul>

<p>Puis, pour chacun d'entre eux, la valeur devrait être l'une des suivantes&nbsp;: 0 (jamais), 1
(tous les mois), 2 (toutes les semaines) ou 3 (tous les jours).</p>

<p>Un exemple pourrait être&nbsp;:
</p>

<verbatim>
                'Martin Quinson' => {
                        email       => 'martin.quinson@tuxfamily.org',
                        summary     => 3,
                        logs        => 3,
                        diff        => 3,
                        tdiff       => 0,
                        file        => 0
                },
</verbatim>

<p>Les en-têtes de page web peuvent être générés très simplement en utilisant
le script <tt>copypage.pl</tt> qui se trouve à la racine du module webwml. Le
script va copier la page au bon endroit, créer les répertoires et les fichiers
makefiles si nécessaire et ajouter l'en-tête qui convient de façon
automatique.</p>

<p>Une fois que vous avez par exemple exécuté la commande&nbsp;:
<kbd>./copypage.pl <var>fichier</var>.wml</kbd>, traduisez le texte d'origine
directement dans le fichier. Les commentaires contenus dans les fichiers
indiquent s'il y a des portions de texte à ne pas traduire. Suivez ces 
commentaires. N'effectuez pas de modifications non justifiées
dans la mise en page. S'il faut faire des corrections, il faut également
que ces corrections soient apportées dans le fichier original.</p>

<h3>Construction et publication des pages</h3>

<p>Étant donné que nous utilisons <a href="content_negotiation">la négociation
du contenu</a>, les fichiers HTML ne sont pas nommés 
<tt><var>fichier</var>.html</tt> mais 
<tt><var>fichier</var>.<var>&lt;lang&gt;</var>.html</tt>, où
<var>&lt;lang&gt;</var> est le code à deux lettres de la langue, telle qu'elle
est définie dans l'<a href="http://ftp.ics.uci.edu/pub/ietf/http/related/iso639.txt">ISO 639</a>
(par exemple, <tt>fr</tt> pour le Français).</p>

<p>Vous pouvez construire les fichiers HTML à partir des fichiers WML en 
lançant <kbd>make <var>fichier</var>.<var>&lt;lang&gt;</var>.html</kbd>.
Si cela fonctionne, vérifiez la syntaxe à l'aide de 
<kbd>weblint <var>fichier</var>.<var>&lt;lang&gt;</var>.html</kbd>.</p>

<p>Une fois que la page vous convient, vous pouvez l'envoyer dans le CVS.
Si vous possédez l'autorisation, faites-le vous-même; lancez
<kbd>cvs commit</kbd>. Si vous ne possédez pas cette autorisation, 
envoyez-la <a href="translation_coordinators">aux personnes</a> ayant un
accès en écriture au CVS.

<h2><a name="completenew">Commencer une nouvelle traduction</a></h2>

<p>Si vous voulez démarrer une traduction des pages web Debian dans une
nouvelle langue, envoyez-nous un message (en anglais) à
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>.

<p>Tout d'abord, assurez-vous d'avoir une copie de travail valide,
comme expliqué sur notre <a href="using_cvs">page d'introduction à
CVS</a>.</p>

<p>Une fois que vous avez récupéré le répertoire webwml/ et (au minimum)
webwml/english/, commencez par créer un nouveau répertoire pour votre 
traduction à coté des répertoires english/ et des autres. Le nom du
répertoire de traduction doit être en anglais et être écrit en minuscules
(par exemple, «&nbsp;german&nbsp;», et pas «&nbsp;Deutsch&nbsp;»).</p>

<p>Copiez les fichiers <tt>Make.lang</tt> et <tt>.wmlrc</tt> du répertoire
english/ dans le répertoire de votre traduction. Ces fichiers sont essentiels
pour construire vos traductions à partir des fichiers WML. Ils ont été conçu
de sorte qu'une fois qu'ils ont été copiés, vous aurez uniquement a effectuer
les modifications suivantes&nbsp;:</p>

<ol>
  <li>La variable LANGUAGE doit être changée dans le fichier
      <tt>Make.lang</tt>.

  <li>Le fichier <tt>.wmlrc</tt>. Ajoutez aussi CUR_LOCALE si cette 
      variable est nécessaire au tri alphabétique.

  <li>Certaines langues peuvent nécessiter un traitement spécial à cause
      du jeu  de caractères utilisé. Cela peut être fait avec les options
      --prolog et --epilog de wml. Utilisez les variables WMLPROLOG et
      WMLEPILOG dans <tt>Make.lang</tt> dans ce but.

  <li>La variable LANGUAGES doit être changée dans le fichier
      <tt>webwml/Makefile</tt> afin que votre langue soit prise en compte comme
      les autres sur www.debian.org. Nous préférerions que vous laissiez
      ce changement à la charge des webmestres, parce que vous pourriez
      ne pas vous rendre compte que votre traduction n'a pas été
      correctement faite, ce qui pourrait bloquer le processus de
      génération du reste du site.
</ol>

<p>Une fois que vous aurez fait cela, ajoutez la ligne suivante dans un
nouveau fichier appelé «&nbsp;Makefile&nbsp;» dans ce répertoire&nbsp;:

<pre>
<protect>include $(subst webwml/<var>yourlanguagedir</var>,webwml/english,$(CURDIR))/Makefile</protect>
</pre>

<p>(Remplacez bien sûr <var>yourlanguagedir</var> avec le nom de répertoire de 
votre langue.)</p>

<p>Créez maintenant un sous-répertoire «&nbsp;po&nbsp;» à l'intérieur du 
répertoire de votre langue, et copiez le même Makefile dans ce répertoire
(<kbd>cp ../Makefile .</kbd>).</p>

<p>Dans le répertoire po/, lancez <kbd>make init-po</kbd> pour générer un
ensemble initial de fichiers *.po.</p>

<p>Maintenant que le squelette est prêt, vous pouvez commencer à ajouter
vos traductions dans nos balises WML partagées que nous utilisons dans
les modèles. Les premiers modèles de traduction
que vous devez traduire sont ceux qui apparaissent sur l'ensemble de nos
pages web, comme les en-têtes, les entrées dans la barre de navigation,
et les pieds de pages.</p>

# The page on <a href="using_wml">using WML</a> has more information on this.

<p>Commencez à traduire dans le fichier 
<code>po/templates.<var>xy</var>.po</code> (où <var>xy</var> est le code
à deux lettres de votre langue). Pour chaque 
<code>msgid "<var>quelque chose</var>"</code> il y a un <code>msgstr ""</code>
à l'intérieur duquel vous devez ajouter la traduction de 
<var>quelque chose</var> entre les guillemets après <code>msgstr</code>.</p>

<p>Vous n'avez pas besoin de traduire l'ensemble des chaînes de caractères
qui sont contenues dans le fichier .po en une seule fois, traduisez uniquement
celles qui sont utilisées dans vos traductions. Pour savoir si vous avez besoin
de traduire une chaîne de caractères, lisez les commentaires dans le fichier
.po juste au dessus de chaque étiquette <code>msgid</code>. Si le fichier
en question se trouve dans le répertoire <tt>english/template/debian</tt>,
vous devrez alors le traduire à coup sûr. Sinon, vous pourrez le faire plus
tard, lorsqu'il sera question de traduire les pages web qui utilisent ces
éléments.</p>

<p>Si vous n'êtes pas sûr d'avoir fait les bonnes modifications, demandez
à la liste de diffusion debian-www avant d'envoyer les fichiers dans le 
CVS.</p>

<p>Une fois que le squelette d'un modèle a été traduit, 
vous pouvez commencer à traduire la page d'accueil et les autres fichiers
*.wml. Pour connaître la liste des fichiers qui doivent être traduits,
vérifiez <a href="translation_hints">les pages de conseils</a>. Traduisez
les pages *.wml tel que décrites <a href="#singlepages">au début de la 
page</a>.</p>

<h3>Le reste de l'histoire</h3>

<p>La description ci-dessus sera probablement suffisante pour vous
permettre de démarrer. Après, vous pourrez avoir envie de lire les liens
ci-dessous qui donnent des explications plus détaillées et de nombreuses
informations utiles.

<ul>
<li>Quelques <a href="examples">exemples</a> sont fournis pour vous
    donner une idée plus claire sur la manière de commencer ;
<li>Quelques questions usuelles trouvent une réponse dans la page sur
    les <a href="translation_hints">suggestions pour les
    traductions</a>, ainsi que quelques astuces utiles ;
<li>Nous avons mis en place des mécanismes afin de <a href="uptodate">\
    faciliter la mise à jour des traductions</a> ;
<li>Pour comparer le nombre de pages traduites avec celui des autres
    équipes de traduction, jetez un ½il sur les
    <a href="stats/">statistiques</a>.
</ul>

<P>Nous espérons que le travail que nous avons fait vous rendra la tâche
de traduction des pages la plus facile possible. Comme cela a déjà été
dit, si vous avez des questions, vous pouvez les poser sur la
<a href="mailto:debian-www@lists.debian.org">liste debian-www</a>.
