#use wml::debian::ddp title="Le CVS du Projet de documentation Debian"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.20" maintainer="Mickael Simon"

<p>Les pages web et la plupart des manuels du Projet de documentation
Debian sont disponibles sur le serveur CVS Debian à l'adresse
<b>cvs.debian.org</b>.

<p>Tout le monde peut télécharger les sources à partir du serveur CVS.
Seuls les membres du Projet de documentation Debian peuvent mettre à
jour ces fichiers.

<toc-display/>

<toc-add-entry name="access">Accéder aux sources du CVS</toc-add-entry>

<p>Vous pouvez utiliser l'interface viewCVS pour accéder aux différents
fichiers via le web et visualiser leurs modifications à <url
"http://cvs.debian.org/?cvsroot=debian-doc">.

<p>Pour télécharger un manuel complet, un accès direct au serveur CVS
est souvent une meilleure solution. Vous aurez besoin du paquet <tt><a
href="http://packages.debian.org/cvs">cvs</a></tt> sur votre propre
machine.

<h3>Se connecter anonymement (en mode lecture seule) sur le serveur CVS</h3>

<p>Pour vous connecter, entrez cette commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>et pressez la touche [entrée] quand il vous est demandé un mot de passe.

<p>Vous pouvez dès lors utiliser les commandes CVS usuelles (se référer
aux pages info de CVS) pour sortir des fichiers, mais vous ne pouvez ni
les modifier ni les enregistrer.

<p>Pour télécharger les fichiers la première fois, placez-vous dans le
répertoire que vous aurez préalablement créé pour les récupérer. Deux nouveaux
répertoires nommés <strong>CVS</strong> et <strong>ddp</strong> seront créés
dans ce répertoire.

<p>Utilisez cette commande pour télécharger tous les fichiers&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Cela créera récursivement les répertoires et les remplira.

<p>Pour actualiser votre copie locale avec les changements effectués par
d'autres personnes, entrez dans le répertoire
<strong>ddp/manuals.sgml</strong> et lancez la commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Quand vous avez fini une session distante CVS, utilisez cette commande pour
vous déconnecter du serveur&nbsp;:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Se connecter au serveur CVS avec des privilèges de mise à jour</h3>

<p>Avant d'accéder au serveur CVS en utilisant cette méthode, vous devez
avoir le droit d'écriture. Lisez d'abord comment <a
href="#obtaining">demander</a> les permissions de mise à jour.

<p>Pour vous connecter, entrez cette commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>userid</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>puis entrez le mot de passe que vous avez négocié avec le
coordinateur de la documentation. Dans la commande ci-dessus, remplacez
<var>userid</var> avec votre propre nom d'utilisateur sur le serveur de
mot de passe CVS. Ce n'est pas nécessairement le même que votre nom de
connexion sur <b>cvs.debian.org</b>, si vous en avez un.

<p>Vous pouvez dès lors utiliser les commandes habituelles de CVS (voir
les pages info de CVS) pour copier ou enregistrer des fichiers.

<p>Pour télécharger les fichiers la première fois, placez-vous dans le
répertoire que vous aurez préalablement créé pour les récupérer. Deux nouveaux
répertoires nommés <strong>CVS</strong> et <strong>ddp</strong> seront créés
dans ce répertoire.

<p>Utilisez cette commande pour télécharger tous les fichiers&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:userid@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Cela créera récursivement les répertoires et les remplira.

<p>Pour actualiser votre copie locale avec les changements effectués par
d'autres personnes, entrez dans le répertoire
<strong>ddp/manuals.sgml</strong> et lancez la commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Quand vous avez fini une session distante CVS, utilisez cette commande pour
vous déconnecter du serveur&nbsp;:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Se connecter à travers SSH au serveur CVS avec des privilèges de mise à
jour </h3>

<p>Cette méthode est disponible uniquement pour les développeurs Debian
enregistrés et on la préférera à la méthode précédente. Si vous êtes un
nouveau développeur Debian, il faut demander au coordinateur de la
documentation de supprimer votre compte pserver.

<p>Une connexion utilisant ssh doit être signalée à CVS avec&nbsp;: 

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Puis placez-vous dans un répertoire créé pour tout récupérer et entrez
cette commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>userid</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>module</var></code>
</p>

<p>Dans la commande ci-dessus, remplacez <var>userid</var> avec votre propre nom
d'utilisateur sur le serveur CVS. Il est identique à votre nom de connexion sur
toutes les machines Debian. Remplacez <var>module</var> avec le nom
du module que vous souhaitez sortir&nbsp;: c'est généralement
<tt>ddp/manuals.sgml</tt>. On va alors vous demander votre mot de passe sur le
serveur CVS. Ne le confondez pas avec celui de votre propre machine.

<p>Deux répertoires, <strong>CVS</strong> et <strong>ddp</strong>, seront
créés dans ce répertoire. CVS va récursivement créer les modules (c'est-à-dire
les répertoires) que vous avez demandés et va les remplir avec les fichiers.

<p>Vous pouvez dès lors utiliser les commandes habituelles de CVS (voir
les pages info de CVS) pour copier ou enregistrer des fichiers.

<p>Pour actualiser votre copie locale avec les changements effectués par
d'autres personnes, entrez dans le répertoire
<strong>ddp/manuals.sgml</strong> et lancez la commande&nbsp;:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Obtenir des privilèges de mise à jour</toc-add-entry>

<p>Les privilèges de mise à jour sont accessibles à quiconque souhaite
participer à la rédaction de manuel. Mais en général, vous ne les
obtenez qu'après avoir soumis une ou deux corrections utiles.

<p>Pour obtenir des privilèges de mise à jour, envoyez un courrier
chiffré avec la clé publique Debian de <code>aph@debian.org</code> au <a
href="mailto:aph@debian.org">coordinateur de la documentation</a>, en
indiquant le nom d'utilisateur que vous voulez utiliser sur le pserver
(ainsi qu'un second au cas où le premier ne serait pas disponible) et en
fournissant un mot de passe (en clair ou chiffré). 

<hr>

<toc-add-entry name="organization">Organisation des fichiers</toc-add-entry>

<p>Ce schéma montre la structure de l'arborescence CVS&nbsp;:

<p><img src="dirtree.jpg" align="middle" alt="arborescence CVS du DDP">

<p>Veuillez noter que le site web du DDP est placé dans le module webwml du
référentiel CVS Debian, pour être intégré avec le reste des pages web Debian.

<hr>

<toc-add-entry name="updates">Mécanisme de mise à jour automatique</toc-add-entry>

<p>Les pages publiées sur le web sont produites par une tâche cron lancée
quotidiennement sur www-master.debian.org, après 15:39 (temps Pacifique).

<p>Le script lance <kbd>cvs update -d -P</kbd>, puis <kbd>make -C manuals.sgml
clean publish</kbd>, toutes deux dans le répertoire <code>ddp</code>.

<p>Le makefile est configuré pour reconstruire chaque sous-répertoire (qui
contient la documentation maintenue), et pour installer les fichiers de chaque
sous-répertoire dans le sous-répertoire <code>doc/manuals/</code> du site web.
Les makefiles des sous-répertoires sont dérivés du
<code>ddp/manuals.sgml/standard.makefile</code>.

<p>Les fichiers de documentation produits par le script de mise à jour
sont disponibles sur <a
href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p>Les fichiers-journaux produits par le script de mise à jour sont disponibles sur
<url "http://www-master.debian.org/build-logs/ddp/">

# <!-- Created: Mon Jul  6 19:58:09 BST 1998 -->
