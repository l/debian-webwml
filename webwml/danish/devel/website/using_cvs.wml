#use wml::debian::template title="Brug af CVS"
#use wml::debian::translation-check translation="1.9"

<p>CVS er et program som hjælper med at holde styr på mange mennesker som 
på samme tid arbejder på det samme materiale. Alle brugere opretter en lokal
kopi af hovedarkivet. De lokale kopiere kan være på den samme maskine eller 
på den anden side af kloden. Brugerne kan på den måde redigere i den lokale 
kopi som de ønsker, og når redigeringen er færdig commit'e ændringerne til
hovedarkivet.</p>

<p>CVS giver dig ikke lov til at commit'e en fil hvis kopien i hovedarkivet 
er blevet ændret siden din sidste opdatering. Det er normalt ikke et problem
da du stadig kan opdatere din lokale kopi. Hvis ændringerne er i andre dele end
den du arbejdede på føjes flettes ændringerne uden videre. Hvis ændringerne
påvirker det samme område som du arbejdede på, vil du få en advarsel om at der 
er opstået en konflikt og at du er nødt til at ændre i filen for at rette 
problemet, før den kan commit'es.</p>

<p>I det efterfølgende anvendes anonym adgang som eksempel. Hvis du har adgang
til en konto som giver dig skriverettigheder til arkivet, skal du i stedet 
anvende den konto. Hvis du planlægger at foretage ændringer skal du først have 
en konto, da anonyme brugere ikke kan commit'e ændringer.</p>

<p>Hvis du er Debian-udvikler, læs da afsnittet om 
<a href="#cvsfordevelopers">CVS-adgang for Debian-udviklere</a>.

<p>For at kunne bruge CVS skal du først <code>logge på</code> CVS-serveren</p>

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre>

<p>(bare tryk på enter når der bliver bedt om adgangskode)

<p>For at overføre ("check out") en kopi af wml-filerne til din lokale maskine
skal du bruge</p>

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml
</pre>

<p>Du kan overføre ("check out") en delmænge af siderne på denne måde:</p>

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout -l \\
          webwml webwml/&lt;<var>sprog</var>&gt;
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          webwml/Perl webwml/english/template webwml/&lt;<var>sprog</var>&gt;/Pics
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          &lt;<var>sti til de ønskede filer</var>&gt;
</pre>

<p>Gentag det for alle underkataloger eller filer som du har brug for. Den
anden linie inkluderer alle filer du har brug for hvis du ønsker at lave 
HTML-filer ud fra WML-filerne. Delvise overførsler ("check out") som disse 
understøttes dog egentlig ikke, så instruktionerne ovenfor virker måske ikke
altid.</p>

<p>Hvis du har fået et brugernavn med en tilhørende adgangskode, så brug det 
i stedet for "anonymous":

<pre>
   cvs -d :pserver:brugernavn@cvs.debian.org:/cvs/webwml checkout webwml/english/doc
</pre>

<P>Fra nu af behøver du ikke <code>'-d :pserver:...'</code>-delen. Hver gang 
der er gået nogle dage skal du udføre</p>

<pre>
   cvs update -d
</pre>

<p>for at hente alle filer fra arkivet som er blevet ændret. Parameteret 
<code>-d</code> til "update"-funktionen tilføjer automatisk nye kataloger.
Det kan være en god idé at oprette en <code>~/.cvsrc</code>-fil så du ikke 
behøver at skrive alle parametrene hver gang. Filen kan foreksempel indeholde:</p>

<pre>
cvs -z9
update -d -P
diff -u
</pre>

<p>Følgende er til folk som har skriverettigheder til arkivet. 
Når du er færdig med en side kan du commit'e dine ændringer til arkivet med</p>

<pre>
   cvs commit &lt;file&gt;.wml
</pre>

<p>eller</p>

<pre>
   cvs commit &lt;dir&gt;    (for at commit'e alle ændringer i &lt;dir&gt;)
</pre>

<p>eller</p>

<pre>
   cvs commit   (commit'e alle ændringer fra aktuelt katalog og underliggende)
</pre>

<p>Hvis du er den første som oversætter en side skal du også udføre</p>

<pre>
   cvs add &lt;fil&gt;.wml
</pre>

<p>før du kan commit'e den. Bemærk at <code>cvs add</code> ikke er rekursiv,
hvorfor du er nødt til at tilføje kataloget før du kan tilføje dets indhold.</p>

<p>Brug <code>info cvs</code> for flere oplysninger om CVS.</p>

<h3><a name="cvsfordevelopers">Skriveadgang til CVS for Debian-udviklere</a></h3>

<P>Da Debian-udviklere allerede har en konto på cvs.debian.org kan en mere 
sikker mekanisme anvendes til at tilgå CVS-arkivet. Denne metode foretrækkes
frem for 'pserver'-metoden som er beskrevet ovenfor.

<p>Du skal skrive til webmaster@debian.org og bede om CVS-adgang. Når du er 
blevet føjet til gruppen <tt>webwml</tt> sæt "environment"-variablen CVS_RSH 
til ssh ('<code>export CVS_RSH=ssh</code>' i din <code>~/.bashrc</code>) og
overfør ("check out") arkivet på denne måde:

<pre>
   cvs -d :ext:<var>navn_på_konto</var>@cvs.debian.org:/cvs/webwml checkout webwml
</pre>

<p>Når du har overført arkivet fungerer alt som beskrevet i det foregående
afsnit (inklusive beskrivelsen af delvise overførsler).
