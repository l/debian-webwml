#use wml::debian::ddp title="Debians dokumentationsprojekts CVS"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.21

<p>Debians dokumentationsprojekt opbevarer sine websider og mange af 
vejledningsteksterne på Debians CVS-server på adressen <b>cvs.debian.org</b>.</p>

<p>Alle kan hente kildekoden fra CVS-serveren. Kun medlemmer af Debians
dokumentationsprojekt kan opdatere filer.</p>

<toc-display/>

<toc-add-entry name="access">Adgang til kildekode i CVS</toc-add-entry>
  
<p>Du kan en viewCVS-grænseflade til at tilgå de individuelle filer via web'en 
og se hvad der er ændret i dem på 
<url "http://cvs.debian.org/?cvsroot=debian-doc">.</p>

<p>For at hente en komplet vejledning, er direkte adgang til CVS-serveren 
normalt et bedre valg.  Du skal have installeret pakken 
<tt><a href="http://packages.debian.org/cvs">cvs</a></tt> på din egen maskine.</p>

<h3>Anonym adgang (kun læsning) til CVS-serveren</h3>

<p>Indtast følgende for at oprette en forbindelse:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>og tryk blot enter-tasten når du bliver bedt om en adgangskode (password).</p>

<p>Du kan dernæst anvende de almindelige CVS-kommandoer (se info-siderne 
vedrørende CVS) for at foretaget check-out af filer, men du kan ikke ændre dem
og lægge dem tilbage på serveren.</p>

<p>For at hente filerne for første gang skal du oprette og skifte til en
mappe som skal indeholde det hele. To mapper, <strong>CVS</strong> og
<strong>ddp</strong>, vil blive oprettet i denne mappe.</p>

<p>Anvend denne kommando for at hente alle filerne:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Dette vil rekursivt oprette mapperne og placere filerne i dem.

<p>For at opdatere din lokale kopi med eventuelle ændringerne foretaget af 
andre, skift til mappen <strong>ddp/manuals.sgml</strong> og udfør 
kommandoen:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Når du er færdig med at bruge CVS, anvendes denne kommando til at afbryde
forbindelsen til serveren:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Tilslutning til CVS-serveren med opdateringsrettigheder</h3>

<p>Før du tilgår CVS-serveren ved hjælp af denne metode, skal du først have
tildelt skriverettigheder til den.  Læs først om hvordan man
<a href="#obtaining">beder</a> om skriverettigheder.</p>

<p>For at oprette forbindelsen skrives denne kommando:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>brugerid</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>og indtast den adgangskode du har aftalt med dokumentationskoordinatoren.
I kommandoen ovenfor udskiftes <var>brugerid</var> med dit eget brugernavn på
CVS-adgangskodeserveren.  Dette er ikke nødvendigvis det samme som dit 
login-navn til <b>cvs.debian.org</b>, hvis du har et.</p>

<p>Du kan dernæst anvende de almindelige CVS-kommandoer (se info-siderne 
vedrørende CVS) for at foretage check-out og commit af filer.</p>

<p>For at hente filerne for første gang skal du oprette og skifte til en
mappe som skal indeholde det hele. To mapper, <strong>CVS</strong> og
<strong>ddp</strong>, vil blive oprettet i denne mappe.</p>

<p>Anvend denne kommando for at hente alle filerne:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:userid@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Dette vil rekursivt oprette mapperne og placere filerne i dem.

<p>For at opdatere din lokale kopi med eventuelle ændringerne foretaget af 
andre, skift til mappen <strong>ddp/manuals.sgml</strong> og udfør 
kommandoen:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Når du er færdig med at bruge CVS, anvendes denne kommando til at afbryde
forbindelsen til serveren:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Tilslutning til CVS-serveren vha. SSH, med opdateringsrettigheder</h3>

<p>Denne metode er kun tilgængelig for registrerede Debian-udviklere og 
foretrækkes fremfor pserver-metoden som beskrevet ovenfor.  Hvis du for
nyligt er blevet registreret som Debian-udvikler, så underret venligst 
dokumentationskoordinatoren, så din pserver-konto kan blive nedlagt.

<p>For tilslutning med SSH, skal CVS have at vide at du vil bruge SSH, med:</p>

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Opret og skift dernæst til en mappe som skal indeholde alle filerne, og
skrive denne kommando:</p>

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>brugerid</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>modul</var></code>
</p>

<p>I kommandoen ovenfor udskiftes <var>brugerid</var> med dit eget brugernavn
på CVS-serveren. Dette er det samme som dit login-navn på alle 
Debian-maskiner. Udskift <var>modul</var> med navnet på det modul som du 
ønsker at check-out, normalt er det <tt>ddp/manuals.sgml</tt>. Du bliver 
dernæst bedt om din adgangskode til CVS-serveren. Forveksl den ikke med 
adgangskoden til din egen maskine.</p>

<p>To mapper, <strong>CVS</strong> og <strong>ddp</strong>, vil blive
oprettet i denne mappe. CVS vil rekursivt oprette de moduler (dvs. 
mapper) som du bad om, og placere de tilhørende filer i dem.</p>

<p>Du kan dernæst anvende de almindelige CVS-kommandoer (se info-siderne 
vedrørende CVS) for at foretage check-out og commit af filer.</p>

<p>For at opdatere din lokale kopi med eventuelle ændringerne foretaget af 
andre, skift til mappen <strong>ddp/manuals.sgml</strong> og udfør 
kommandoen:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Få skriverettigheder</toc-add-entry>

<p>Skriverettigheder er tilgængelige for alle der ønsker at hjælpe til med at
skrive vejledningerne.  Generelt foretrækker vi, at du først har indsendt et
par nyttige rettelser (patches).</p>

<p>For at få skriverettigheder, skal man sende en forespørgsel til 
<a href="mailto:debian-doc@lists.debian.org">Debians 
dokumentationspostliste</a>.  Deri skal man forklare hvorfor man har brug for
adgang.  Forespørgslen skal enten godkendes af Debians 
dokumentationskoordinator eller et relevant medlem af Debians 
dokumentationshold, før der gives adgang.  Når dette er sket, skal man bede om 
at der bliver sendt en (underskrevet) forespørgsel til 
<a href="mailto:debian-admin@lists.debian.org">debian-admin</a>.</p>

<p>Hvis man er Debian-udvikler, vil man efter godkendelsen blive føjet til 
gruppen <tt>cvs_doc</tt> på <tt>cvs.debian.org</tt>, og vil derfor kunne 
opdatere CVS.</p>

<p>Hvis man ikke er Debian-udvikler, skal man efter godkendelsen levere et 
login-navn og en adgangskode.  Login-navnet skal være forskelligt fra 
eksisterende Debian-konti (kontrollér på <a href="http://db.debian.org">\
db.debian.org</a>).  Adgangskoden må ikke sendes via ukrypteret e-mail, selvom
cvs sender den ukrypteret gennem netværket.</p>

<p><tt>makepasswd</tt> kan anvendes til at fremstille adgangskoden, installér
pakken og kør:</p>

<pre>
$ echo "HEMMELIGT" |makepasswd --clearfrom=- --crypt
</pre>

<pEn anden simpel måde at kryptere adgangskoden på, er at anvende et 
Perl-skript på en enkelt linje, forudsat at Perl allerede er installeret på
ens Debian GNU/Linux-maskine:</p>

<pre>
$ perl -e "printf \"%s\n\", crypt ("HEMMELIGT", join ('', ('.', '/', 0..9, 'A'.. 'Z', 'a'..'z')[rand (64), rand (64)]))"
</pre>


<p>Send resultatet, sammen med det foretrukne kontonavn, til 
to <a href="joey@debian.org">Martin Schulze</a>.  Kryptér hele mail'en med
<a href="http://db.debian.org/fetchkey.cgi?fingerprint=B53FE57BD0C1F689FCE25">\
hans GnuPG-nøgle</a>.</p>

<p>For flere oplysninger, læs hans 
<a href="http://people.debian.org/~joey/misc/webwml.html">bemærkninger</a> om
proceduren.</p>

<hr>

<toc-add-entry name="organization">Filernes organisering</toc-add-entry>

<p>Denne figur viser strukturen på mappetræet i CVS:

<p><img src="dirtree.jpg" align="middle" alt="DDP CVS-mappetræ">

<p>Bemærk at DDPs websted befinder sig i webwml-modulet på Debians CVS-server,
for at være integreret med resten af Debians websider.</p>

<hr>

<toc-add-entry name="updates">Automatisk opdateringsmekanisme</toc-add-entry>

<p>De offentliggjorte vejledningsteksters websider genereres af et crob-job
som kører dagligt efter kl. 15.39 stillehavstid på www-master.debian.org.</p>

<p>Scriptet udfører en <kbd>cvs update -d -P</kbd> og dernæst <kbd>make -C 
manuals.sgml clean publish</kbd>, begge er i mappen <code>ddp</code>.</p>

<p>Makefilen er sat op til at genopbygge hvert undermappe (som indeholder
vedligeholdt dokumentation), og til at installere filerne fra hvert 
undermappe i undermappen <code>doc/manuals/</code> på webstedet.
Undermappernes makefiler er baseret på 
<code>ddp/manuals.sgml/standard.makefile</code>.</p>

<p>Dokumentationsfilerne genereres af opdateringsscriptet som befinder sig i
<a href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p>Logfilerne genereres af opdateringsscriptet som befinder sig i
<url "http://www.debian.org/build-logs/ddp/">.</p>
