#use wml::debian::template title="Traduzindo páginas Debian" BARETITLE=true
#use wml::fmt::verbatim
#use wml::debian::translation-check translation="1.44"

<P>Para tornar o trabalho dos tradutores o mais fácil possível as páginas
são geradas de modo um pouco diferente ao que muitos de vocês estão
acostumados. As páginas são geradas usando fontes 
<a href="http://www.engelschall.com/sw/wml/"><tt>wml</tt></a>.
Há diretórios separados para cada idioma.

<p>Se você pretende começar uma tradução inteiramente nova do site do
Debian, veja a <a href="#completenew">seção sobre iniciar uma tradução
nova</a>.

<h2><a name="singlepages">Traduzindo páginas individuais</a></h2>

<p>Nós usamos o WML para separar o conteúdo específico de uma página dos
elementos comuns entre múltiplas páginas. Isto significa que o tradutor
precisa editar alguns arquivos fonte WML ao invés dos arquivos HTML. 
<a href="using_cvs">Use o cvs</a> para adquirir os fontes atuais.
Você precisará pegar pelo menos dois diretórios: <tt>webwml/english/</tt> 
e <tt>webwml/<var>&lt;idioma&gt;</var>/</tt>.</p> 

<p>Para traduzir uma página do inglês para seu idioma, o arquivo .wml
original deve ser traduzido e colocado dentro do diretório do outro idioma.
O path relativo e o nome precisam ser os mesmos do diretório inglês para
que os links continuem funcionando.</p>

<h3>Cabeçalhos de tradução</h3>

<p>É fortemente recomendado que o tradutor adicione uma linha adicional
aos cabeçalhos depois do último <code>#use</code> para marcar a revisão
do arquivo original que foi traduzida, facilitando a 
<a href="uptodate">atualização</a>. A linha se parece com isto:
<kbd>#use wml::debian::translation-check translation="<var>x.y</var>"</kbd>

<p>Algumas equipes de tradução também usam esta linha para marcar o
tradutor oficial de cada página. Fazendo-o, você irá receber mensagens
automáticas quando as páginas que você mantem são atualizadas em inglês, 
e precisam de sua atenção para atualizar a tradução. Para isso, adicione
o seu nome como mantenedor no fim da linha <code>#use</code> deixando-a
parecida com esta:
<kbd>#use wml::debian::translation-check translation="<var>x.y</var>" 
maintainer="<var>seu nome</var>"</kbd>
</p>

<p>Você também precisa explicar para o robô quem é você, com qual
freqüência você deseja receber mensagens automáticas e seu conteúdo.
Para fazê-lo, edite o arquivo 
webwml/<var>idioma</var>/international/<var>idioma</var>/translator.db.pl
no CVS. A sintaxe deve ser inteligível, e você pode usar o arquivo da
equipe francesa como modelo se ele não existe para o seu idioma ainda.
O robô pode enviar vários tipos de informações, e 
você pode escolher a freqüência na qual cada uma delas lhe será enviada.
Os tipos diferentes de informação são:
</p>

<ul>
 <li><b>summary</b>: resumo de quais documentos estão desatualizados</li>
 <li><b>logs</b>: log cvs entre a versão traduzida e a atual</li>
 <li><b>diff</b>: diff cvs</li>
 <li><b>tdiff</b>: o script tentará encontrar as partes do texto traduzido 
   modificadas pelo patch inglês.</li>
 <li><b>file</b>: Adiciona a versão atual do arquivo a ser traduzido</li>
</ul>

<p>Para cada uma delas, o valor deve estar entre: 0 (nunca), 1 (mensalmente), 
  2 (semanalmente) ou 3 (diariamente).</p>

<p>Um exemplo poderia ser:
</p>

<verbatim>
                'Martin Quinson' => {
                        email       => 'martin.quinson@tuxfamily.org',
                        summary     => 3,
                        logs        => 3,
                        diff        => 3,
                        tdiff       => 0,
                        file        => 0
                },
</verbatim>

<p>O cabeçalho da página pode ser facilmente produzido usando o
script <tt>copypage.pl</tt> no diretório raíz webwml. O script
irá copiar a página no lugar correto, criar diretórios e
makefiles se necessário, e adicionar o cabeçalho obrigatório
automaticamente.</p>

<p>Depois que você rodar <kbd>./copypage.pl <var>arquivo</var>.wml</kbd>,
traduza o texto original dentro do arquivo. Comentários nos arquivos
irão indicar se há ítens que não devem ser traduzidos; respeite-os.
Não faça nenhuma alteração desnecessária na formatação; se alguma
coisa precisa ser corrigida, a correção provavelmente deve ser feita
no arquivo original.</p>

<h3>Construção e publicação das páginas</h3>

<p>Uma vez que nós usamos <a href="content_negotiation">negociação de 
conteúdo</a>, arquivos HTML não são nomeados <tt><var>arquivo</var>.html</tt>;
são nomeados <tt><var>arquivo</var>.<var>&lt;idioma&gt;</var>.html</tt>, onde
<var>&lt;idioma&gt;</var>
é o código de duas letras para o idioma, de acordo com a
<a href="http://ftp.ics.uci.edu/pub/ietf/http/related/iso639.txt">ISO 639</a>
(<tt>fr</tt> para francês, por exemplo).</p>

<p>Você pode construir HTML a partir do WML rodando 
<kbd>make <var>arquivo</var>.<var>&lt;idioma&gt;</var>.html</kbd>.
Se isto funcionar, cheque se a sintaxe está completamente válida com
<kbd>weblint <var>arquivo</var>.<var>&lt;idioma&gt;</var>.html</kbd>.</p>

<p>As páginas são reconstruídas do CVS no servidor www-master, e
o processo é na maior parte insensível a erros. No entanto, se 
você colocar um arquivo quebrado no primeiro nível de sua tradução
(o primeiro index.wml, por exemplo), ele irá quebrar o processo de
construção e parar todas as outras atualizações do site. Preste
atenção especial nestes arquivos.</p>

<p>Uma vez que a página esteja boa para você, atualize-a no CVS. Se você
tem as permissões para fazê-lo, rode <kbd>cvs commit</kbd>; se não,
envie-a para <a href="translation_coordinators">alguém com acesso de escrita
ao repositório</a>.</p>

<h2><a name="completenew">Começando uma tradução nova</a></h2>

<p>Se você gostaria de iniciar a tradução das páginas do Debian
em um novo idioma, envie uma mensagem (em inglês) para
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>.

<p>Inicialmente, certifique-se que você fez um checkout da
árvore fonte, como descrito <a href="using_cvs">na nossa página de
introdução ao CVS</a>.</p>

<p>Depois que você tiver pego o diretório webwml/ e (pelo menos)
o webwml/english/, comece criando um novo diretório para sua tradução,
junto com o english/ e outros. O nome do diretório de tradução deve estar
em inglês e completamente minúsculo ("german", não "Deutsch", por
exemplo).</p>

<p>Copie os arquivos <tt>Make.lang</tt> e <tt>.wmlrc</tt> do diretório
english/ para o novo diretório de tradução. Estes arquivos são essenciais
para construção de sua tradução dos arquivos WML. Eles foram projetados
de forma que, depois de copiá-los para o novo diretório de idioma, você
só precisa alterar estas coisas:</p>

<ol>
  <li>A variável LANGUAGE precisa ser alterada no arquivo <tt>Make.lang</tt>.

  <li>As variávels CUR_LANG, CUR_ISO_LANG e CHARSET precisam ser alteradas
    no arquivo <tt>.wmlrc</tt> Adicione CUR_LOCALE nele, caso precise disso
    para ordenação.

  <li>Alguns idiomas podem precisar de processamento extra para gerenciar
    o charset. Isto pode ser feito usando as opções --prolog e --epilog
    do wml. Use as variáveis WMLPROLOG e WMLEPILOG no <tt>Make.lang</tt> 
    para fazê-lo.

  <li>A variável LANGUAGES precisa ser alterada no arquivo 
     <tt>webwml/Makefile</tt> para que o seu idioma seja construído junto com
     os outros em www.debian.org. Nós preferimos que você deixe esta
     alteração em particular para os webmasters, porque a sua tradução pode
     estar quebrada sem que você esteja ciente, o que
     poderia parar o processo de construção do resto de nosso site.
</ol>

<p>Depois que isto esteja feito, coloque a seguinte linha em um novo arquivo 
chamado "Makefile" neste diretório:

<pre>
<protect>include $(subst webwml/<var>seudiretório</var>,webwml/english,$(CURDIR))/Makefile</protect>
</pre>

<p>(Substitua <var>seudiretório</var> com o nome do diretório de seu idioma.)</p>

<p>Agora crie um diretório em seu diretório de idioma chamado "po",
e copie o mesmo Makefile para este subdiritório (<kbd>cp ../Makefile .</kbd>).
</p>

<p>No diretório po/, rode <kbd>make init-po</kbd> para gerar o conjunto
inicial de arquivos *.po</p>

<p>Agora que o esqueleto está configurado, você pode começar a 
adicionar suas traduções em nossas tags WML compartilhadas usadas
em templates. Os primeiros templates que você deve traduzir são
aqueles que aparecem em todas as páginas, como as palavras chave
do cabeçalho, as entradas da barra de navegação e o rodapé.</p>

# The page on <a href="using_wml">using WML</a> has more information on this.

<p>Comece traduzindo o arquivo <code>po/templates.<var>xy</var>.po</code> 
(onde <var>xy</var> é o código de duas letras de seu idioma). Para cada
<code>msgid "<var>alguma coisa</var>"</code> Há inicialmente um 
<code>msgstr ""</code>. Você deve colocar a tradução de 
<var>alguma coisa</var> nas aspas duplas depois de <code>msgstr</code>.</p>

<p>Você não tem que traduzir todas as orações em todos os arquivos .po, 
somente aquelas que suas páginas traduzidas usam atualmente. Para ver
se você precisa traduzir uma oração, leia os comentários no arquivo .po
acima de cada <code>msgid</code>. Se o arquivo referenciado estiver em
<tt>english/template/debian</tt>, então você provavelmente deve traduzí-la.
Se não, você pode deixá-la para depois, quando você traduzir a seção
relevante das páginas que a utilizam.</p>

<p>Se você não tem certeza se fez alguma coisa do jeito certo, pergunte
na lista de discussão debian-www antes de fazer o commit.</p>

<p>Nota: se você descobrir que precisa fazer qualquer outra alteração,
envie uma mensagem para debian-www dizendo o que você alterou e por que, 
para que o problema seja corrigido.

<p>Depois que o esqueleto dos templates estiver feito, você pode começar
com a tradução da página frontal e outros arquivos *.wml. Para uma lista
de arquivos que devem ser traduzidos primeiro, veja 
<a href="translation_hints">a página de dicas</a>. 
Traduza páginas *.wml como descrito <a href="#singlepages">no
topo desta página</a>.</p>

<h3>O resto da história</h3>

<p>A descrição acima provavelmente será o suficiente para você
começar. Além disso, você pode querer ver os seguintes documentos
que dão explicações mas detalhadas e informações adicionais.</p>

<ul>
<li>Alguns <a href="examples">exemplos</a> são disponibilizados para
    dar uma idéia clara de como começar.
<li>Algumas questões comuns são respondidas e dicas são dadas na página
    de <a href="translation_hints">dicas de tradução</a>.
<li>Nós temos mecanismos para ajudar na <a href="uptodate">manutenção
    das traduções atualizadas</a>.
<li>Para ver como a sua tradução se compara com as outras na quantidade
    de arquivos traduzidos, vejas as <a href="stats/">estatísticas</a>.
</ul>

<P>Nós esperamos que o trabalho que nós fizemos torne
traduzir as páginas o mais fácil possível. Como nós já mencionamos, 
se você tiver alguma questão, pergunte-a na lista de discussão <a
href="mailto:debian-www@lists.debian.org">debian-www</a>.
