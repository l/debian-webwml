#use wml::debian::template title="Usando o CVS"
#use wml::debian::translation-check translation="1.11"

<p>CVS é um programa que ajuda a administrar o trabalho simultâneo 
de várias pessoas no mesmo material. Cada usuário cria uma 
cópia local do repositório principal. As cópias locais podem estar
na mesma máquina ou espalhadas pelo mundo. Usuários podem então 
modificar a cópia local como quiserem e, quando o material modificado
estiver está pronto, submeter as mudanças de volta ao repositório
principal.

<p>CVS não permitirá que você submeta um arquivo se a cópia no
repositório principal foi modificada desde a sua última atualização.
Isto normalmente não é um problema porque você ainda pode atualizar
a sua cópia local. Se as modificações foram em partes diferentes
das em que você trabalhava, as mudanças são silenciosamente combinadas.
Se as mudanças afetam a mesma área em que esteve trabalhando, você será
avisado que há um conflito e que precisa editar o arquivo para corrigir
o problema antes de submetê-lo.

<p>Nos exemplos a seguir, será usado acesso anônimo (do inglês, 
<code>anonymous</code>), porém, se tiver acesso a outra conta que lhe dá 
permissão de escrita ao repositório você deveria usar esta conta. Se está 
planejando fazer mudanças, você deve conseguir uma conta antes de começar, 
já que usuários anônimos não podem submeter mudanças.

<p>Se é um desenvolvedor Debian, leia a seção em 
<a href="#cvsfordevelopers">CVS Access for Debian Developers</a>.

<p>Pra começar a usar o CVS, você precisa efetuar <code>login</code> no 
servidor CVS.

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre>

<p>(Apenas tecle enter aqui para a senha)


<p>Para obter uma cópia local dos arquivos wml na sua máquina, você 
precisa usar

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml
</pre>

<p>Você pode obter um sub-conjunto de páginas como este:

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout -l \\
          webwml webwml/&lt;<var>language</var>&gt;
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          webwml/Perl webwml/english/template webwml/&lt;<var>language</var>&gt;/Pics
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          &lt;<var>path to desired files</var>&gt;
</pre>

<p>Repita para todos os subdiretórios ou arquivos que queira. A segunda
linha inclui todos os arquivos necessários se você deseja criar arquivos
HTML dos WML. Cópias parciais como estas não são realmente suportadas, 
de modo que as instruções acima podem nem sempre funcionar.

<p>Se você tem um login e senha, insira-os ao invés de anonymous, como a seguir:

<pre>
   cvs -d :pserver:username@cvs.debian.org:/cvs/webwml checkout webwml/english/doc
</pre>

<p>Daí em diante você não precisará mais usar a parte <code>'-d :pserver:...'</code> .
Todo santo dia você vai querer fazer um 

<pre>
   cvs update -d
</pre>

<p>para receber qualquer arquivo do repositório que tenha mudado. A opção
<code>-d</code> do update vai adicionar quaisquer diretórios novos, 
automaticamente. Você pode querer criar um arquivo <code>~/.cvsrc</code>
pra que não tenha que digitar algumas opções todo tempo. Por exemplo, 
ele pode conter:

<pre>
cvs -z9
update -d -P
diff -u
</pre>

<p>O que vem a seguir é para aqueles que tem permissaõ de escrita no repositório.
Quando você terminou com uma página, pode submeter suas modificações ao repositório
usando 

<pre>
   cvs commit &lt;file&gt;.wml
</pre>

<p>ou

<pre>
   cvs commit &lt;dir&gt;    (para submeter mudanças no &lt;dir&gt;) 
</pre>

<p>ou

<pre>
   cvs commit          (para submeter todas as mudanças do diretório e seus sub-diretórios)
</pre>

<p>Se você é a primeira pessoa a traduzir uma página, você precisa
fazer

<pre>
   cvs add &lt;file&gt;.wml
</pre>

<p>Antes de submetê-la. Perceba que <code>cvs add</code> não é recursivo, então
você precisa adicionar um diretório antes que possa adicionar seu conteúdo.

<p>Para mais informações sobre o CVS, use <code>info cvs</code>.

<h3><a name="cvsfordevelopers">Acesso de escrita ao CVS para desenvolvedores Debian</a></h3>

<p>Já que os desenvolvedores Debian tem, de princípio, uma conta no cvs.debian.org
um mecanismo mais seguro pode ser usado para acessar o repositório. Este método
é preferido, ao invés do método "pserver" mostrado acima.

<p>Se você está planejando trabalhar em uma tradução, peça ao cordenador das
traduções para escrever ao webmaster@debian.org pedindo por acesso ao CVS; senão,
escreva você mesmo ao webmaster@debian.org pedindo por acesso ao CVS. Uma vez que 
tenha sido adicionado ao <tt>webml</tt> group, você precisa simplesmente setar
as váriáveis de ambiente CVS_RSH para o ssh 
('<code>export CVS_RSH=ssh</code>' no seu <code>~/.bashrc</code>) e
copie o repositório usando o seguinte:

<pre>
   cvs -d :ext:<var>account_name</var>@cvs.debian.org:/cvs/webwml checkout webwml
</pre>

<p>Uma vez que tenha obtido o repositório, tudo o mais funciona da mesma
forma como na secão anterior ( incluíndo a parte sobre cópias parciais).

