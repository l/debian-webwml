#use wml::debian::cdimage title="Baixando imagens do CD Debian com o jigdo" BARETITLE=true
#use wml::debian::translation-check translation="1.60"
#use wml::debian::toc
#use wml::debian::installer
#include "$(ENGLISHDIR)/releases/info"

<p>Jigsaw Download, ou resumido  <a href="http://atterer.net/jigdo/">jigdo</a>,
pretende ser a principal forma de distribuição das imagens de CD Debian
no futuro. Atualmente o sistema funciona, porém seu uso não é muito confortável
pelo fato do gerenciador de cópia não estar pronto ainda.</p>

<toc-display/>

<hr>

<toc-add-entry name="why">Por que o jigdo é melhor que um download direto</toc-add-entry>

<p>Porque é
mais rápido! Por várias razões, há um número menor de servidores espelho
("mirrors") para imagens de CD que servidores de arquivo "normais" do Debian.
Consequentemente se você baixar de um servidor de arquivos de imagens de CD,
este servidor não só estará longe, também estará sobrecarregado, especialmente
logo após o lançamento de novas versões.</p>

<p>Além disso, alguns tipos de imagens não estão disponíveis como downloads
<tt>.iso</tt> completos porque não há espaço suficiente em nossos servidores
para hospedá-las.</p>

<P>nATuralmente, um servidor espelho Debian ("mirror") "normal" não
tem nenhuma imagem de CD, então como é que o jigdo consegue baixá-las de lá?
Ele faz isso baixando individualmente todos os arquivos que estão no CD.
No próximo passo, todos estes arquivos são agregados num único grande arquivo
que é a cópia exata da imagem do CD. Entretanto, tudo isso acontece de forma
transparente - tudo que <em>você</em> deve fazer é informar à ferramenta de
cópia a localização de um arquivo "<tt>.jigdo</tt>" a ser processado.</p>

<p>Mais informações estão disponíveis na
<a href="http://atterer.net/jigdo/">página do jigdo</a>.
Voluntários querendo ajudar com o desenvolvimento do jigdo são sempre
bem vindos!</p>

<toc-add-entry name="how">Como baixar uma imagem com o jigdo</toc-add-entry>

<ul>

  <li>Baixe um pacote contendo o <tt>jigdo-lite</tt>, que está disponível
  para GNU/Linux, Windows e Solaris na
  <a href="http://atterer.net/jigdo/">página do jigdo</a>. Para o FreeBSD,
  instale a partir de /usr/ports/ftp/jigdo ou obtenha o pacote com <tt>pkg_add
  -r jigdo</tt>.
  </li>

  <li>Execute o script <tt>jigdo-lite</tt>. Ele vai pedir a URL
  de um arquivo "<tt>.jigdo</tt>" para processar. (Você também pode fornecer
  esta URL na linha de comando se quiser).</li>

  <li>A partir de um dos locais listadas <a href="#which">abaixo</a>,
  escolha os arquivos "<tt>.jigdo</tt>" que você desejar fazer o
  download e informe suas URLs no prompt do programa <tt>jigdo-lite</tt>.
  Cada arquivo "<tt>.jigdo</tt>" corresponde a uma imagem "<tt>.iso</tt>"
  de CD/DVD.</li>

  <li>Caso você seja um usuário iniciante, somente pressione Enter no
  prompt "Files to scan".</li>

  <li>No prompt "Debian mirror", informe
  <kbd>http://ftp.<strong><var>XY</var></strong>.debian.org/debian/</kbd>,
  onde <strong><var>XY</var></strong> é o código de duas letras para seu
  país (por exemplo, <tt>us</tt>, <tt>de</tt>, <tt>uk</tt>. Consulte a
  lista atual de <a href="$(HOME)/mirror/list">locais
  ftp.<var>XY</var>.debian.org disponíveis</a>.)

<if-stable-release release="woody">
  <li>No prompt "Debian non-US mirrror" (caso este seja exibido), informe 
  <kbd>http://ftp.<strong><var>XX</var></strong>.debian.org/debian-non-US/</kbd>,
  novamente substituindo o código correto para <strong><var>XX</var></strong>. 
</if-stable-release>

  <li>Siga as instruções dadas pelo programa. Se tudo correr bem, ele termina
  com o cálculo do checksum da imagem gerada e lhe informa que este checksum
  é o mesmo da imagem original.</li>
			  
</ul>

<p>Para uma descrição detalhada e passo-a-passo desse processo, dê uma olhada
no <a href="http://www.tldp.org/HOWTO/mini/Debian-Jigdo/">mini-HOWTO Debian jigdo</a>. 
O HOWTO também explica os recursos avançados do jigdo, como a atualização de
uma versão antiga da imagem de um CD para a versão atual (baixando somente o 
que foi alterado, não toda a imagem).</p>

<p>Uma vez que você tenha baixado as imagens e gravado em CD, dê uma olhada nas
<a
href="$(HOME)/releases/stable/installmanual">informações detalhadas
sobre o processo de instalação</a>.</p>

<toc-add-entry name="which">Imagens oficiais</toc-add-entry>

<ul>

  <li>Arquivos jigdo oficiais para a distribuição "estável" em CD:<br>
  <images-list url="http://cdimage.debian.org/debian-cd/current/@ARCH@/jigdo-cd/" />
  </li>

  <li>Arquivos jigdo oficiais para a distribuição "estável" em DVD:<br>
  <images-list url="http://cdimage.debian.org/debian-cd/current/@ARCH@/jigdo-dvd/" />
  </li>

</ul>

<ul>
  <li>Arquivos jigdo oficiais para a distribuição 
  <a href="http://cdimage.debian.org/pub/cdimage-testing/cd/jigdo-area/">\
  "testing"</a> em CD (<em>todas as arquiteturas, gerado semanalmente</em>)
  </li>
   
  <li>Arquivos jigdo oficiais para a distribuição
  <a href="http://cdimage.debian.org/pub/cdimage-testing/dvd/jigdo-area/">
  "testing"</a> em DVD
  (<em>todas as arquiteturas, gerado semanalmente</em>)
  </li>
</ul>

<toc-add-entry name="unofficial">Imagens não-oficiais</toc-add-entry>

<p>Essas imagens não são construídas e distribuídas pelo Debian, mas por <a
href="http://www.fsn.hu/">fsn://HU</a>:</p>]

<ul>

  <li>Arquivos jigdo fsn://HU para a <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/etch/jigdo/">\
  distribuição "testing"</a> em CD (<em>amd64 e i386, gerados
  semanalmente</em>), <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/MIRRORS">\
  mirrors</a></li>

  <li>Arquivos jigdo fsn://HU para a <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/etch-dvd/jigdo/">\
  distribuição "testing"</a> em DVD (<em>amd64 e i386, gerados
  semanalmente</em>), <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/MIRRORS">\
  mirrors</a></li>

  <li>Arquivos jigdo fsn://HU para a <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid/jigdo/">\
  distribuição "unstable"</a> em CD (<em>amd64 e i386, gerados
  semanalmente</em>), <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/MIRRORS">\
  mirrors</a></li>

  <li>Arquivos jigdo fsn://HU para a <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid-dvd/jigdo/">\
  distribuição "unstable"</a> em DVD (<em>amd64 e i386, gerados
  semanalmente</em>), <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/MIRRORS">\
  mirrors</a></li>

</ul>

<hr />

<toc-add-entry name="search">Examinar o conteúdo dos arquivos <tt>.jigdo</tt></toc-add-entry>

<p><strong>Qual imagem de CD/DVD contém um determinado arquivo?</strong> Abaixo,
é possível fazer uma busca nas listas de arquivos contidos em cada arquivo <tt>.jigdo</tt>.
Você pode entrar com várias palavras, cada uma delas deve coincidir com um trecho
do nome do arquivo. Adicione, por exemplo, "_i386" para restringir os resultados a uma determinada
arquitetura. Adicione "_all" para visualizar pacotes que são idênticos para todas
arquiteturas.</p>

<form method="get" action="http://atterer.net/jigdo/jigdo-search.php"><p>
<input type="text" name="q" size="20" value="">
<input type="submit" value="Pesquisar"></p></form>

<p><strong>Quais arquivos estão contidos em uma determinada imagem?</strong> Se
você precisa de uma lista com <em>todos</em> arquivos que um determinado CD/DVD do Debian
contém, basta localizar o arquivo <tt>.jigdo</tt> correspondente nessa lista,
e clicar em "list contents" após a respectiva URL: <a
href="http://atterer.net/jigdo/jigdo-search.php?list">Lista de arquivos <tt>.jigdo</tt>
Debian</a></p>

<toc-add-entry name="faq">Questões Frequentemente Perguntadas/Respondidas</toc-add-entry>

<p><strong>Como faço para o jigdo usar meu proxy?</strong></p>

<p>Carregue o arquivo <tt>~/.jigdo-lite</tt> (ou o
<tt>jigdo-lite-settings.txt</tt> para usuário da versão para Windows)
num editor de texto e procure a linha que começa com "wgetOpts". As
opções a seguir podem ser adicionadas à linha:</p>

<p><tt>-e ftp_proxy=http://<i>PROXY-LOCAL</i>:<i>PORTA</i>/</tt>
<br><tt>-e http_proxy=http://<i>PROXY-LOCAL</i>:<i>PORTA</i>/</tt>
<br><tt>--proxy-user=<i>USUÁRIO</i></tt>
<br><tt>--proxy-passwd=<i>SENHA</i></tt></p>

<p>É claro, substitua os valores corretos para o seu servidor proxy. As
duas últimas opções só são necessárias se o seu proxy utiliza
autenticação com senha. As opção devem ser adicionadas no final da linha
wgetOpts <em>antes</em> do caracter final <tt>'</tt>. Todas as opções
devem estar numa única linha.</p>

<p>Alternativamente, no Linux você pode também configurar as variáveis
de ambiente <tt>ftp_proxy</tt> e <tt>http_proxy</tt>, por exemplo no
arquivo <tt>/etc/environment</tt> ou no 
<tt>~/.bashrc</tt>.</p>


<p><strong>Aargh! O programa parou com um  erro - será que baixei todos
aqueles megabytes em vão?!</strong></p>

<p>É claro que Isso Não Deveria Ter Acontecido(tm), mas por várias razões
você pode ficar numa situação em que um grande arquivo "<tt>.iso.tmp</tt>" 
já foi gerado e parece que o <tt>jigdo-lite</tt> está com problemas,
dizendo repetitivamente para você baixar novamente os arquivos. Há várias
coisas que podem ser tentadas neste caso:</p>

<ul>

  <li>Simplesmente reiniciar a cópia pressionando Return. Talvez alguns dos
  arquivos não foram baixados por causa de "timeouts" ou outros erros 
  temporários  - fará outra tentativa de baixar quaisquer arquivos que
  esteja faltando.</li>

  <li>Tente um servidor espelho ("mirror") diferente. Alguns servidores
  de arquivo Debian estão ligeiramente fora de sincronia - talvez um
  servidor diferente ainda tenha os arquivos que foram apagados daquele
  que você especificou, ou já foi atualizado com arquivos que ainda não
  estão presentes no seu servidor de arquivos.</li>

  <li>Baixar as partes da imagem que estão faltando usando o <tt><a
  href="http://rsync.samba.org/">rsync</a></tt>. Primeiro, você precisa
  achar a URL do rsync correta para a imagem que está baixando:
  Escolha um servidor que ofereça acesso rsync para as imagens  <a
  href="../mirroring/rsync-mirrors">estável</a> ou <a
  href="../http-ftp/#testing">teste</a>, então determine o caminho correto
  e o nome do arquivo. Listagens de diretórios podem ser obtidas com  comandos
  do tipo <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>

  <br>A seguir, remova a extensão "<tt>.tmp</tt>" do arquivo
  <tt>jigdo-lite</tt> temporário renomeando-o, e passe ambos,
  a URL remota e o nome do arquivo local para o rsync:
  <tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso
  binary-i386-1.iso</tt>

  <br>Você pode querer usar os modificadores do rsync <tt>--verbose</tt> e
  <tt>--progress</tt> para obter mensagens de status, e
  <tt>--block-size=8192</tt> para aumentar a velocidade.</li>

  <li>Se tudo isso falhar, seus dados baixados ainda não estão perdidos:
  No Linux, você pode montar o arquivo <tt>.tmp</tt> como um disposito "loop"
  para acessar os pacotes que já foram baixados, e reutilizá-los para
  gerar uma imagem de um novo arquivo jigdo (tal como a imagem semanal de
  teste se sua cópia que falhou for também uma imagem teste). Para fazer
  isso, primeiro execute os seguintes comandos como "root" no diretório
  com o arquivo baixado incompleto: <tt>mkdir&nbsp;mnt;
  mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt>. 
  A seguir, inicie uma nova cópia num diretório diferente, e forneça o caminho
  do diretório <tt>mnt</tt> quando for solicitado no prompt "Files to scan".</li>

</ul>
