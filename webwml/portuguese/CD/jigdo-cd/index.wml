#use wml::debian::cdimage title="Baixando imagens do CD Debian com o jigdo" BARETITLE=true
#use wml::debian::translation-check translation="1.21"

<p>Jigsaw Download, ou resumido  <a href="http://atterer.net/jigdo/">jigdo</a>,
pretende ser a principal forma de distribuição das imagens de CD Debian
no futuro. Atualmente o sistema funciona, porém seu uso não é muito confortável
pelo fato do gerenciador de cópia não estar pronto ainda.</p>

<p><strong>Por que o jigdo é melhor que baixar direto?</strong> Porque é 
mais rápido! Por várias razões, há um número menor de servidores espelho
("mirrors") para imagens de CD que servidores de arquivo "normais" do Debian.
Consequentemente se você baixar de um servidor de arquivos de imagens de CD,
este servidor não só estará longe, também estará sobrecarregado, especialmente
logo após a liberação de novas versões.</p>

<p>Naturalmente, um servidor espelho Debian ("mirror") "normal" não
tem nenhuma imagem de CD, então como é que o jigdo consegue baixá-las de lá?
Ele faz isso baixando individualmente todos os arquivos que estão no CD.
No próximo passo, todos estes arquivos são agregados num único grande arquivo
que é a cópia exata da imagem do CD. Entretanto, tudo isso acontece de forma
transparente - tudo que <em>você</em> deve fazer é informar à ferramenta de
cópia a localização de um arquivo "<tt>.jigdo</tt>" a ser processado.</p>

<p><strong>Quais imagens estão disponíveis?</strong></p>

<ul>

  <li>Arquivos jigdo oficiais para a distribuição "estável" mais
recente em CD: <a
href="http://us.cdimage.debian.org/jigdo-area/current/jigdo/">EUA</a>,
  <a href="http://non-us.cdimage.debian.org/jigdo-area/current/jigdo/"
  >Europa</a></li>

  <li>Arquivos jigdo não oficiais para a <a
  href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid-dvd/jigdo/">\
  distribuição "instável" em DVD</a>, <em>gerados diariamente</em>
  <br>
  Atualmente <strong>não</strong> é possível baixar os DVDs pelo Windows!</li>

  <li>Arquivos jigdo não oficiais para as <a
  href="http://cdimage.debian.org/jigdo-area/">imagens beta</a>
  - antes de experimentar qualquer coisa, <a
  href="../faq/#mailing-list">leia a lista de discussão</a>!

</ul>

<p><strong>Quais os passos necessários para baixar uma imagem com o
jigdo?</strong>

<ul>

  <li>Copie um pacote contendo o <tt>jigdo-lite</tt>. Ele está
  disponível em várias formas na <a
  href="http://atterer.net/jigdo/">página do jigdo</a>.
  <br><strong>Usuários Debian, por favor atualizem, pelo menos, para a
  versão 0.6.8</strong> - a versão no Debian woody não é suficiente para
  baixar as imagens mais recentes!</li>
  
  <li>Execute o programa <tt>jigdo-lite</tt>. Ele vai pedir a URL
  de um arquivo "<tt>.jigdo</tt>" para processar. (Você também pode fornecer
  esta URL na linha de comando se quiser).</li>

  <li>Escolha o que você quer baixar de um dos locais listados acima,
  e digite a respectiva URL do arquivo "<tt>.jigdo</tt>" correspondente.</li>

  <li>Siga as instruções dadas pelo programa. Se tudo correr bem, ele termina
  com o cálculo do checksum da imagem gerada e lhe informa que este checksum
  é o mesmo da imagem original.</li>

</ul>

<p>Uma vez as imagens baixadas e escritas num CD, veja as
<a href="$(HOME)/releases/stable/installmanual">informações detalhadas 
sobre o processo de instalação</a>.</p>

<p>O jigdo é capaz de "atualizar" uma versão antiga de uma imagem de CD
para a versão mais recente - neste caso, só o que mudou será baixado.
Além disso, as pessoas que têm seu próprio servidor espelho ("mirror")
Debian local podem fornecer uma URI do tipo "file:" quando solicitado.</p>

<p>Se quiser dar uma olhada no protótipo da interface gráfica para o 
programa de cópia ou alguns binários experimentais para Windows, veja a página
do <a href="http://atterer.net/jigdo/">jigdo</a>. Voluntários que queiram
ajudar com o desenvolvimento do jigdo são sempre bem vindos!</p>

<hr>

<p><strong>Como faço para o jigdo usar meu proxy?</strong></p>

<p>Carregue o arquivo <tt>~/.jigdo-lite</tt> (ou o
<tt>jigdo-lite-settings.txt</tt> para usuário da versão para Windows)
num editor de texto e procure a linha que começa com "wgetOpts". As
opções a seguir podem ser adicionadas à linha:</p>

<p><tt>-e ftp_proxy=http://<i>PROXY-LOCAL</i>:<i>PORTA</i>/</tt>
<br><tt>-e http_proxy=http://<i>PROXY-LOCAL</i>:<i>PORTA</i>/</tt>
<br><tt>--proxy-user=<i>USUÁRIO</i></tt>
<br><tt>--proxy-passwd=<i>SENHA</i></tt></p>

<p>É claro, substitua os valores corretos para o seu servidor proxy. As
duas últimas opções só são necessárias se o seu proxy utiliza
autenticação com senha. As opção devem ser adicionadas no final da linha
wgetOpts <em>antes</em> do caracter final <tt>'</tt>. Todas as opções
devem estar numa única linha.</p>

<p>Alternativamente, no Linux você pode também configurar as variáveis
de ambiente <tt>ftp_proxy</tt> e <tt>http_proxy</tt>, por exemplo no
arquivo <tt>/etc/environment</tt> ou no 
<tt>~/.bashrc</tt>.</p>


<p><strong>Aargh! O programa parou com um  erro - será que baixei todos
aqueles megabytes em vão?!</strong></p>

<p>É claro que Isso Não Deveria Ter Acontecido(tm), mas por várias razões
você pode ficar numa situação em que um grande arquivo "<tt>.iso.tmp</tt>" 
já foi gerado e parece que o <tt>jigdo-lite</tt> está com problemas,
dizendo repetitivamente para você baixar novamente os arquivos. Há várias
coisas que podem ser tentadas neste caso:</p>

<ul>

  <li>Simplesmente reiniciar a cópia pressionando Return. Talvez alguns dos
  arquivos não foram baixados por causa de "timeouts" ou outros erros 
  temporários  - fará outra tentativa de baixar quaisquer arquivos que
  esteja faltando.</li>

  <li>Tente um servidor espelho ("mirror") diferente. Alguns servidores
  de arquivo Debian estão ligeiramente fora de sincronia - talvez um
  servidor diferente ainda tenha os arquivos que foram apagados daquele
  que você especificou, ou já foi atualizado com arquivos que ainda não
  estão presentes no seu servidor de arquivos.</li>

  <li>Baixar as partes da imagem que estão faltando usando o <tt><a
  href="http://rsync.samba.org/">rsync</a></tt>. Primeiro, você precisa
  achar a URL do rsync correta para a imagem que está baixando:
  Escolha um servidor que ofereça acesso rsync para as imagens  <a
  href="../mirroring/rsync-mirrors">estável</a> ou <a
  href="../http-ftp/#testing">teste</a>, então determine o caminho correto
  e o nome do arquivo. Listagens de diretórios podem ser obtidas com  comandos
  do tipo <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>

  <br>A seguir, remova a extensão "<tt>.tmp</tt>" do arquivo
  <tt>jigdo-lite</tt> temporário renomeando-o, e passe ambos,
  a URL remota e o nome do arquivo local para o rsync:
  <tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso
  binary-i386-1.iso</tt>

  <br>Você pode querer usar os modificadores do rsync <tt>--verbose</tt> e
  <tt>--progress</tt> para obter mensagens de status, e
  <tt>--block-size=8192</tt> para aumentar a velocidade.</li>

  <li>Se tudo isso falhar, seus dados baixados ainda não estão perdidos:
  No Linux, você pode montar o arquivo <tt>.tmp</tt> como um disposito "loop"
  para acessar os pacotes que já foram baixados, e reutilizá-los para
  gerar uma imagem de um novo arquivo jigdo (tal como a imagem diária de
  teste se sua cópia que falhou for também uma imagem teste). Para fazer
  isso, primeiro execute os seguintes comandos como "root" no diretório
  com o arquivo baixado incompleto: <tt>mkdir&nbsp;mnt;
  mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt>. 
  A seguir, inicie uma nova cópia num diretório diferente, e forneça o caminho
  do diretório <tt>mnt</tt> quando for solicitado no prompt "Files to scan".</li>

</ul>

