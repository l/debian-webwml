#use wml::debian::template title="Debian GNU/Hurd --- Hurd-CDs" NOHEADER="yes"
#include "$(ENGLISHDIR)/ports/hurd/menu.inc"
#use wml::debian::translation-check translation="1.54"

<define-tag cdserie>K10</define-tag>
<define-tag cdbasename>debian-<cdserie>-hurd-i386</define-tag>


<h1>GNU/Hurd Debian</h1>

<h2>Usando os CD-ROMs não-oficiais de instalação do GNU/Hurd Debian</h2>

<p>Apesar de muitas pessoas darem o nome de GNU/Hurd ao sistema GNU, isto não é
totalmente certo. O kernel é GNU Mach, não o Hurd. O Hurd é uma série de
servidores rodando sobre o microkernel, GNU Mach. Ambos, o Hurd e o GNU Mach
são parte do projeto GNU, enquanto que o kernel Linux é um projeto
independente.</p>  

<p>Série atual, Debian GNU/Hurd <cdserie>.</p>

<p>Apenas as quatro primeiras de seis imagens foram lançadas para esta
série.</p>
<p>Uma pequena mini imagem (<cdbasename>-mini.iso) foi construída e 
deve ser útil para quem quiser instalar via rede.</p>

<p>baseGNU.tgz (um tarball da base do sistema GNU) foi especialmente
construído para este grupo de CDs.</p>

<h3>Download</h3>

<p>As imagens iso atuais são <cdbasename>-CDx.iso. Todos os binários específicos a
um sistema GNU podem ser encontrados nestes primeiros dois CDs, e todos os
pacotes necessários, importantes e padrões são encontrados no primeiro CD.
Deste modo, um sistema GNU básico pode ser instalado usando o primeiro CD.</p>

<p>Estes sites normalmente espelham imagens, mas cheque primeiro.</p>

<p>O site principal é <url "http://ftp.gnuab.org/pub/debian-cd/"> na Espanha,
e espelhos para estas imagens estão 
<url "http://www.superunprivileged.org/debian-cd/">no Canadá,
<url "ftp://ftp.duckcorp.org/hurdfr/hurd/"> na França e
<url "ftp://ftp.eila.jussieu.fr/pub/Debian-CD/"> na França.
</p>
<p>
<url "http://eu.hurd.gnuab.org/pub/debian-cd/"> para a Europa
<url "http://na.hurd.gnuab.org/pub/debian-cd/"> para a América do Norte.</p>

<p>Uma busca por hurd-K em <url "http://www.filesearching.com/"> 
pode encontrar um site mais próximo.</p>

<p>Instruções para queimar CDs a partir das imagens podem ser encontradas em
<url "http://cdimage.debian.org/faq.html">.</p>

<H3>CD-ROMs</H3>

<p>Veja <a href="../../CD/vendors/">esta página para vendedores de CDs
GNU/Hurd</a>. Procure por "hurd" usando a ferramenta de busca do seu navegador.
<url "http://www.copyleft.co.nz/"> terá, definitivamente, os últimos CDs.</p>

<h3>Como funciona o disco de instalação</h3>

<p>Os CDs de instalação do Debian GNU/Linux potato usam o método instalação
cruzada para instalar o sistema base. Um ramdisk é criado na memória e um mini
sistema GNU/Linux instalado neste disco. Este mini sistema é usado para
particionar e formatar unidades, e para preparar a máquina alvo para a
instalação principal. A fase crítica é desempacotar um tarball com os pacotes
base essenciais dentro das unidades do sistema alvo. O novo sistema é então
reiniciado usando os pacotes desempacotados dentro do HD. Outros pacotes são
então instalados e configurados para criar o sistema desejado.</p>

<p>Como o GNU também usa o método de instalação cruzada, isto significa que os
scripts usados para construir os CDs de instalação do GNU podem ser adaptados
dos scripts do CD e de inicialização do Debian GNU/Linux de modo que o tarball
descompactado seja o GNU ao invés do GNU/Linux.</p>

<p>Instalar um sistema GNU usando um jogo de cd-roms tem muitas vantagens.
<ul>
<li>
Como o sistema GNU/Linux roda em um ramdisk e o tarball está no cdrom, um
sistema GNU pode ser instalado em uma máquina descoberta, ou em um máquina
onde as pessoas não querem usar o sistema operacional instalado.

<li>
O sistema de arquivos guardando os pacotes nos CDs pode ser reorganizado para
incorporar soluções de problemas.

Apesar de uma versão do "parted" para GNU/Hurd estar disponível, algumas
pessoas podem preferir usar o "cfdisk" GNU/Linux contida nos discos de inicialização.

<li>É mais rápido, menos enlouquecedor e muitas pessoas já estão
familiarizadas com o processo.
</ul>


<h3>Partições Hurd</h3>

<p>O Hurd usa extensões do sistema de arquivos ext2, a chamada é
<code>mke2fs -o hurd /dev/[partição Hurd]</code>. Os CDs de
instalação usam esta chamada ao criar partições Hurd.</p>

<h3>Usando o CD de instalação</h3>

<h4>Preparação.</h4>

<p>
Documentação específica ao Hurd é encontrada em ./doc/hurd. O guia de instalação
hurd e o livro de receitas são leitura obrigatória antes de você começar.
</p>

<ol>
<li><p><em>Faça um disco de inicialização do GRUB</em>
<p>
O arquivo de imagem é /install/grub_0.92 no CDROM. Instale o pacote
grub-disk, ele contém uma imagem do GRUB para disquete. Você pode 
usar "dd" se estiver trabalhando no GNU/Linux ou rawrite se estiver no MS.</p>

<li><p>Esteja certo de que você entende os metódos pelos quais o Linux, GRUB e
Hurd nomeiam unidades e partições. Você estará usando todos os três e a relação
entre eles pode causar confusão.
</ol>

<p>Hurd usa nomes de partições diferentes do Linux, por isso seja cuidadoso.
Discos IDE estão numerados em ordem, começando por hd0 para o mestre 
primário e seu escravo hd1, seguidos pelo mestre secundário hd2 e seu 
escravo hd3. Unidades SCSI também são numerados em ordem absoluta. Eles serão 
sempre sd0, sd1 e adiante não importando se as duas unidades tem id SCSI 
4 ou 5 ou qualquer outra. A experiência tem mostrado que unidades de CD-ROM 
podem ser trabalhosas. Falaremos mais sobre isso adiante.

<p>Partições Linux são sempre chamadas sn quando usando o Hurd, onde n é o
número da partição, deste modo, a primeira partição da primeira unidade IDE será
hda0s1, a terceira partição na segunda unidade SCSI será sd1s3 e por aí vai.</p>

<p>O GRUB, por sua vez, tem outro sistema de nomeação de partições. Ele chama partições
(hdN,n), mas desta vez, o número do disco e da partição são baseados em zero,
e os discos estão em ordem, todos os IDE primeiro, e depois todos os SCSI.
Desta vez, a primeira partição no primeiro IDE será (hd0,0). Para realmente
causar confusão, (hd1,2) poderia se referir à primeira unidade SCSI se você
tiver apenas uma unidade IDE, ou poderia se referir ao segundo IDE. Então é
importante que você já tenha calculado os vários nomes de suas partições antes
de começar.</p>

<H4>Instalação</H4>

<ol>
<li><em>Inicialize pelo CD</em>
<p>Qualquer dos métodos para inicializar um CD do Debian 3.0 beta (woody)
funcionará, isto é, direto do CD, do MS e de qualquer uma das imagens de 
boot/root para disquete. 


<li><em>Depois das telas de abertura, abra "Particionar um Disco
Rígido".(Partition a Hard Disk, se o instalador não estiver em
português).</em>
<p>
Se você for copiar os pacotes .deb para o HD vai precisar criar outras
partições, uma para cada CD. Já que o parted está disponível para o GNU/Hurd,
você pode usar esta facilidade. Aproximadamente 500 MB serão suficientes para
o sistema principal. Se você precisar criar outras partições, então pode achar
mais fácil inicializar novamente pelo CD1 e usar as ferramentas no ramdisk
Linux para fazer isso.

<li><em>Calcule os nomes no estilo GRUB e Hurd para as partições que você
usará.</em>

<li><em>Prepare suas partições usando "Particionando um Disco Rígido"</em>(
"Partition a Hard Disk", se o instalador estiver em inglês) e tenha certeza que
criou uma partição swap. GNU/Hurd é meio confuso sobre swap.

<li><em>Formate sua partição Hurd</em> usando "Inicializar uma partição Hurd"
("Initialize a Hurd Partition", no inglês) e monte-a em "/".
Não monte nenhuma outra partição. 

<li><em>Instale o sistema base usando "Instalar o Sistema Base" ("Install 
the Base System").</em>

<li><em>Insira um disquete do GRUB na unidade e dê o boot por ele com "Reiniciar
o sistema"</em> ("Reboot the System") (e não esqueça de resetar o bios). Aí
está! [Primeira reinicialização]
</ol>

<p>Se a sua partição GNU/Hurd é "(hd0,0)" [Nomeclatura GRUB] e "sd0s1"
[GNU/Hurd], o que, sendo interpretado, significa a primeira partição no
primeiro HD, que é SCSI, e não há unidades IDE, o sistema inicializará sem
intervenção.<br>

A imagem GRUB foi preparada e agora um pouco de edição é necessário para
iniciar o sistema GNU.</p>

<p>"/boot/grub/menu.lst" no disquete GRUB pode ser editado para seu sistema
inicializar do jeito que você quiser.</p>

<h3>Os próximos passos.</h3>

<ol>
<li><em>Depois que o sistema foi inicializado, execute ./native-install</em>.
Reinicie o sistema usando "reboot". É IMPORTANTE observar as mensagens de inicialização
e notar onde o cdrom está. [Segunda reinicialização]

<li><em>Depos de reiniciar, execute ./native-install uma segunda vez.</em>
Desta vez um monte de pacotes será configurado. Reinicie mais uma vez.
[Terceira reinicialização]. Você terá agora um sistema para configurar.<br>
Entre como root, "login root".

<li><em>Dê um cd /dev . Crie os dispositivos necessários.</em> Isto é, para o
cdrom, a partição swap e outras partições do HD.

<p> Ex.:
"MAKEDEV hd2 hd0s2 hd0s3"</p>

<li><em>Edite /etc/fstab : "nano /etc/fstab"</em>.
nano não é um mau editor.<p>
Adicione as partições, por exemplo,<br>
/dev/[Nome de partição Hurd ]   none    swap    sw    0       0<BR>
/dev/[Nome de partição Hurd ]   /CD1     ext2    rw    1       1<BR>
/dev/[  Nome de unidade GNU   ]   /cdrom iso9660fs   ro,noauto  1    1</p>  

<p>Hurd usa o sistema de arquivos ext2. "/CD1" é uma sugestão de ponto de 
montagem para a partição que contém os pacotes do <cdbasename>-CD1.
A partição swap pode ser compartilhada com Linux.</p>

<li><em>Ative a swap "swapon -a".</em>
Verifique se está funcionando. Usar swap é extremamente recomendado com o
Hurd.

<li><em>Configure o tradutor que acessará o cdrom,</em> por exemplo:
<p>
"settrans -a /cdrom /hurd/iso9660fs /dev/[Nome de unidade no Hurd]"<br>

<li><em>Execute "/cdrom/upagrade/install.sh"</em>
<p>Isto instalará os pacotes marcados como requerido, importante e padrão.</p>

<li><em>Você pode querer executar "cdrom/upgrade/gui.sh"</em>.
<p>Isto instalará o X Window System.</p>

<li><em>Outros pacotes podem ser instalados usanto "apt" ou "dselect".</em>
<p>Se não for familiar com essas ferramentas Debian, veja "info apt" e "info
dselect".</p>

<li><em>Desmontando o cdrom</em>
<p>A unidade de cdrom é desmontada com "settrans -agf /cdrom"<br>
A gaveta da unidade deve então ser destravada.</p> 

</ol>

<p>Aqui é onde este guia acaba e onde você começa a explorar. Aprecie o
Hurd.</p>
<p>Comentários sobre os CDs são bem-vindos.<br>
Philip Charles, philipc@debian.org (Autor da versão original deste guia, em
inglês.)
