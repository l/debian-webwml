#use wml::debian::ddp title="O CVS do Projeto de Documentação do Debian"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.22"

<p>O Projeto de Documentação do Debian armazena suas páginas e muito de
seus manuais no servidor CVS do Debian em <b>cvs.debian.org</b>

<p>Todos podem baixar os fontes do servidor CVS. Somente membros do Projeto
de Documentação do Debian podem atualiza-los.</p>

<toc-display/>

<toc-add-entry name="access">Acessando os fontes no servidor CVS</toc-add-entry>
  
<p>Você pode utilizar a interface viewCVS para acessar individualmente cada um dos arquivos pela rede e conferir as mudanças em cada um dos arquivos em  <url "http://cvs.debian.org/?cvsroot=debian-doc">


<p>Para baixar o manual inteiro, a melhor opção é o acesso direto ao servidor CVS. Para isso você precisa ter o pacote <tt><a href="http://packages.debian.org/cvs">cvs</a></tt> instalado no seu próprio computador.

<h3>Conectando como usuário anônimo (modo somente leitura) com o servidor CVS</h3>

<p>Para conectar, digite este comando:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>e quando solicitada a senha apenas pressione ENTER.

<p>Dessa forma você poderá utilizar os comandos habituais do CVS (consulte as páginas de informação do CVS, info) para copiar os arquivos, mas você não poderá enviar as modificações que você realizar nos arquivos.

<p>Para baixar os arquivos pela primeira vez, deve-se criar e entrar em um diretório aonde os arquivos deverão ser armazenados. Dois diretórios, <strong>CVS</strong> e <strong>ddp</strong>, serão criados dentro deste diretório.

<p>Utilize este comando para baixar todos os arquivos

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Isto irá criar os diretórios recursivamente e baixar os arquivos para os devidos lugares.

<p> Para atualizar sua copia local a partir das mudanças efetuadas por outras pessoas, entrar no diretório <strong>ddp/manuals.sgml</strong> e então digite o seguinte comando:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p> Quando você tiver terminado a sessão CVS remota utilize este comando para desconectar do servidor:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Conectando no servidor CVS, com privilégios de escrita </h3>

<p>Antes de acessar o o servidor CVS utilizando este método você deve primeiramente obter permissão de escrita no servidor. Por favor leia como <a href="#obtaining">solicitar</a> a permissão primeiramente.

<p> Para conectar, entre este comando:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>userid</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>e entre a senha (password) que você negociou com o coordenador da documentação. No comando acima, substitua <var>userid</var> pelo seu próprio nome de usuário no servidor de senhas CVS. Este não é necessariamente o mesmo nome de usuário seu no <b>cvs.debian.org</b>, caso você já possua um.

<p>Você pode então, utilizar os comandos habituais do CVS (consulte as páginas de informação do CVS, info) para copiar e enviar arquivos.

<p>Para baixar os arquivos pela primeira vez, criar e entrar em um diretório aonde os arquivos deverão ser armazenados. Dois diretórios, <strong>CVS</strong> e <strong>ddp</strong>, serão criados dentro deste diretório.

<p>Utilize este comando para baixar todos os arquivos

<p style="margin-left: 2em">
  <code>cvs -d :pserver:userid@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Isto irá criar os diretórios recursivamente e baixar os arquivos para os devidos lugares.

<p> Para atualizar sua copia local a partir das mudanças efetuadas por outras pessoas, entrar no diretório <strong>ddp/manuals.sgml</strong> e então rodar o seguinte comando:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p> Quando você tiver terminado a sessão CVS remota utilize este comando para desconectar do servidor:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>


<h3>Conectando no servidor CVS, com privilégios de escrita, utilizando SSH</h3>

<p>Este método só está disponível para desenvolvedores registrados do Debian e é aconselhado ao invés de se utilizar o método acima utilizando o pserver. Se você recentemente tornou-se um desenvolverdor registrado do Debian, por favor avise o  coordenador da documentação para eliminar sua conta no pserver.

<p>Para conectar utilizando ssh, primeiro deve-se avisar o CVS para utilizar o ssh:

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>


<p>Então crie e mova-se para um diretório aonde os arquivos deverão ser armazenados, e então entre com este comando:

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>userid</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>module</var></code>
</p>


<p> No comando acima, substitua <var>userid</var> pelo seu nome de usuário no servidor CVS. Este é o mesmo nome de usuário que você utiliza em todas as outras maquinas do Debian. Substitua <var>module</var> pelo nome do módulo que você deseja verificar, provavelmente será <tt>ddp/manuals.sgml</tt>. Você será então solicitado pela senha no servidor CVS. Não confunda esta senha com a da sua própria máquina.

<p> Dois diretórios, <strong>CVS</strong> e <strong>ddp</strong>, serão criados no diretório que você está. O CVS irá recursivamente criar quaisquer módulos (i.e. diretórios) que você pedir e então baixar os arquivos correspondentes.

<p> Você pode então utilizar os comandos usuais do CVS (consulte as páginas de informação do CVS, info) para verificar e enviar arquivos.

<p>Para atualizar sua cópia local com quaisquer mudanças que foram feitas por outras pessoas, entre no diretório <strong>ddp/manuals.sgml</strong> e execute o comando:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Obtendo privilégios de atualização</toc-add-entry>

<p>Qualquer pessoa que deseje participar no processo de escrever os manuais pode conseguir privilégios de atualização. Nos normalmente pedimos que a pessoa envie alguns patches úteis primeiro.

<p>Para obter privilégios de atualização, faça um requerimento para a 
<a href="mailto:debian-doc@lists.debian.org">lista de discussão de 
documentação Debian</a>. Explique por que você precisa de acesso.
Ou o Coordenador da Documentação ou um membro relevante da equipe
precisa aprovar seu pedido antes que o acesso lhe seja concedido.
Assim que seu pedido for aceito, peça-lhes para enviarem um pedido (assinado)
para <a href="mailto:debian-admin@lists.debian.org">debian-admin</a>.

<p>Caso seja um desenvolvedor Debian, assim que o pedido for aprovado,
você sera adicionado ao grupo <tt>cvs_doc</tt> em <tt>cvs.debian.org</tt>
e poderá atualizar o CVS a partir de então.

<p>Se você não é um desenvolvedor Debian, assim que seu pedido for
aprovado você precisará fornecer um nome de login e uma senha.
O nome de login tem que ser diferente das contas Debian existentes
(Verifique com <a href="http://db.debian.org">db.debian.org</a>).
A senha não deve ser enviada por e-mail não-criptografada,
apesar do cvs enviá-la pela rede não-criptografada.

<p>Você pode usar o <tt>makepasswd</tt> para gerar sua senha,
simplesmente instale o pacote e rode:

<pre>
$ echo "SECRET" |makepasswd --clearfrom=- --crypt
</pre>

<P>Outro modo simples de criptografar uma senha é usando uma linha de Perl,
sabendo-se que o Perl já está instalado no seu computador Debian GNU/Linux:

<pre>
$ perl -e "printf \"%s\n\", crypt ("SECRET", join ('', ('.', '/', 0..9, 'A'.. 'Z', 'a'..'z')[rand (64), rand (64)]))"
</pre>


<p>Envie o resultado, junto com o nome de conta preferido, para 
<a href="joey@debian.org">Martin Schulze</a>. Criptografe toda a mensagem
com <a 
href="http://db.debian.org/fetchkey.cgi?fingerprint=B53FE57BD0C1F689FCE25">\
a chave GnuPG dele</a>.

<p>Para mais informações, leia as 
<a href="http://people.debian.org/~joey/misc/webwml.html">notas</a>
sobre o procedimento.


<hr>

<toc-add-entry name="organization">Organização dos Arquivos</toc-add-entry>

<p> Esta figura demonstra a estrutura da árvore de diretórios do CVS:

<p><img src="dirtree.jpg" align="middle" alt="Árvore de diretórios do DDP CVS">

<p>Por favor note que a página do DDP esta localizado no módulo webwml do repositório de CVS do Debian, para ser integrado com o resto das páginas web do Debian.

<hr>

<toc-add-entry name="updates">Mecanismo de Atualização Automático</toc-add-entry>

<p>As páginas publicadas do manual são geradas por um trabalho do cron no www-master.debian.org todos os dias em alguma hora depois das  15:39 horário do pacífico.

<p>O script realiza um <kbd>cvs update -d -P</kbd>, e então <kbd> make -C manuals.sgml clean publish</kbd>, ambos no diretório <code>ddp</code>.

<p>O makefile é configurado de forma a reconstruir cada diretório (que contenha documentação mantida), e para instalar os arquivos de cada subdiretório no subdiretório <code>doc/manuals/</code> da página de web. Os arquivos makefiles de cada subdiretório são derivados de <code>ddp/manuals.sgml/standard.makefile</code>.

<p>Os arquivos de documentação gerados pelo script de atualização podem ser encontrados em <a href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p> Os arquivos de registro gerados pelo script de atualização podem ser encontrados em <url "http://www-master.debian.org/build-logs/ddp/">
