#use wml::debian::ddp title="O CVS do Projeto de Documentação do Debian"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.27" translation_maintainer="Felipe Augusto van de Wiel (faw)"

<p>O Projeto de Documentação do Debian armazena suas páginas e muitos de
seus manuais no servidor CVS do Debian em <strong>cvs.debian.org</strong>.</p>

<p>Todos podem baixar os fontes do servidor CVS. Somente membros do Projeto
de Documentação do Debian podem atualizá-los.</p>

<toc-display />

<toc-add-entry name="access">Acessando os fontes no servidor CVS</toc-add-entry>
  
<p>Você pode utilizar a interface viewCVS para acessar individualmente cada
um dos arquivos pela web e conferir as mudanças neles em
<url "http://cvs.debian.org/?cvsroot=debian-doc" /></p>


<p>Para baixar o manual inteiro, a melhor opção é o acesso direto ao servidor
CVS. Para isso você precisa ter o pacote
<tt><a href="http://packages.debian.org/cvs">cvs</a></tt> instalado no seu
próprio computador.</p>

<h3>Conectando-se como usuário anônimo (somente leitura) ao servidor CVS</h3>

<p>Para conectar-se, digite este comando:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>e apenas pressione ENTER quando a senha for solicitada.</p>

<p>A partir daí, você poderá utilizar os comandos normais do CVS (consulte
as páginas <q>info</q> do CVS) para copiar os arquivos (<q>check out</q>),
mas você não poderá enviar as modificações que fizer.</p>

<p>Para baixar os arquivos pela primeira vez, deve-se criar e entrar em um 
diretório no qual todos os arquivos serão armazenados. Dois diretórios,
<strong>CVS</strong> e <strong>ddp</strong>, serão criados dentro deste
diretório.</p>

<p>Utilize este comando para baixar todos os arquivos:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Isto criará os diretórios recursivamente e os populará.</p>

<p>Para atualizar sua cópia local a partir das mudanças efetuadas por outras
pessoas, entre no diretório <strong>ddp/manuals.sgml</strong> e então digite
o seguinte comando:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Quando você tiver terminado a sessão CVS remota, utilize este comando
para desconectar-se do servidor:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Conectando-se ao servidor CVS, com privilégios de escrita</h3>

<p>Antes de acessar o servidor CVS utilizando este método você deve
primeiramente obter permissão de escrita no servidor. Por favor, primeiramente
leia como <a href="#obtaining">solicitar</a> a permissão de escrita.</p>

<p>Para conectar-se, digite este comando:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>userid</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>e informe a senha que você negociou com o coordenador da documentação.
No comando acima, substitua <var>userid</var> pelo seu próprio nome de
usuário no servidor de senhas do CVS. Este não é necessariamente o mesmo
que seu nome de usuário no <strong>cvs.debian.org</strong>, caso você já
possua um.</p>

<p>A partir daí, você poderá utilizar os comandos normais do CVS (consulte
as páginas <q>info</q> do CVS) para copiar os arquivos (<q>check out</q> e
enviá-los (<q>commit</q>),

<p>Para baixar os arquivos pela primeira vez, deve-se criar e entrar em um 
diretório no qual todos os arquivos serão armazenados. Dois diretórios,
<strong>CVS</strong> e <strong>ddp</strong>, serão criados dentro deste
diretório.</p>

<p>Utilize este comando para baixar todos os arquivos:</p>

<p style="margin-left: 2em">
  <code>cvs -d :pserver:userid@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Isto criará os diretórios recursivamente e os populará.</p>

<p>Para atualizar sua cópia local a partir das mudanças efetuadas por outras
pessoas, entre no diretório <strong>ddp/manuals.sgml</strong> e então digite 
o seguinte comando:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Quando você tiver terminado a sessão CVS remota, utilize este comando
para desconectar-se do servidor:</p>

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Conectando-se ao servidor CVS, com privilégios de escrita, utilizando SSH</h3>

<p>Este método só está disponível para desenvolvedores Debian registrados e é
preferido sobre o pserver da explicação acima. Se você recentemente tornou-se
um desenvolvedor Debian registrado, por favor avise o coordenador da
documentação para eliminar sua conta no pserver.</p>

<p>Para conectar-se utilizando ssh, primeiro diga ao CVS para utilizá-lo
com:</p>

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Então crie e mova-se para um diretório no qual todos os arquivos serão
armazenados, e então digite este comando:</p>

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>userid</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>module</var></code>
</p>

<p>No comando acima, substitua <var>userid</var> pelo seu nome de usuário no
servidor CVS. Este é o mesmo nome de usuário que você utiliza em todas as
outras máquinas do Debian. Substitua <var>module</var> pelo nome do módulo
que você deseja copiar (<q>check out</q>), normalmente isso é
<tt>ddp/manuals.sgml</tt>. Você será então solicitado pela senha no servidor
CVS. Não confunda esta senha com a da sua própria máquina.</p>

<p>Dois diretórios, <strong>CVS</strong> e <strong>ddp</strong>, serão
criados no diretório que você está. O CVS irá recursivamente criar quaisquer
módulos (i.e. diretórios) que você requisitar e os populará com arquivos.</p>

<p>A partir daí, você poderá utilizar os comandos normais do CVS (consulte
as páginas <q>info</q> do CVS) para copiar os arquivos (<q>check out</q> e
enviá-los (<q>commit</q>),

<p>Para atualizar sua cópia local a partir das mudanças efetuadas por outras
pessoas, entre no diretório <strong>ddp/manuals.sgml</strong> e então digite
o seguinte comando:</p>

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Obtendo privilégios de atualização</toc-add-entry>

<p>Privilégios de atualização estão disponíveis para qualquer pessoa que
deseje participar no processo de escrever os manuais. Nós geralmente
requeremos a pessoa tenha enviado alguns patches úteis primeiro.</p>

<p>Para obter privilégios de atualização, você precisa enviar uma
requisição para a <a href="mailto:debian-doc@lists.debian.org">lista
de discussão de documentação Debian</a>. Por favor, explique por que
você precisa de acesso. Ou o Coordenador da Documentação ou um membro
relevante do Time de Documentação Debian precisa aprovar seu pedido
antes que o acesso lhe seja concedido. Assim que eles aprovarem seu
pedido, peça-lhes para enviarem um pedido (assinado) para
<a href="mailto:debian-admin@lists.debian.org">debian-admin</a>.</p>

<p>Se você é um desenvolvedor Debian, assim que o pedido for aprovado,
você será adicionado ao grupo <tt>cvs_doc</tt> em <tt>cvs.debian.org</tt>
e poderá atualizar o CVS a partir de então.</p>

<p>Se você não é um desenvolvedor Debian, assim que seu pedido for
aprovado você precisará fornecer um nome de login e uma senha.
O nome de login tem que ser diferente das contas Debian existentes
(Verifique com <a href="http://db.debian.org">db.debian.org</a>).
A senha não deve ser enviada não-criptografada via e-mail, apesar do
cvs enviá-la pela rede não-criptografada.</p>

<p>Você pode usar o <tt>makepasswd</tt> para gerar sua senha,
simplesmente instale o pacote e execute:</p>

<pre>
$ echo "SECRET" |makepasswd --clearfrom=- --crypt
</pre>

<p>Outro modo simples de criptografar uma senha é usando uma linha de Perl,
sabendo-se que o Perl já está instalado em sua máquina Debian GNU/Linux:</p>

<pre>
$ perl -e "printf \"%s\n\", crypt ("SECRET", join ('', ('.', '/', 0..9, 'A'.. 'Z', 'a'..'z')[rand (64), rand (64)]))"
</pre>


<p>Por favor, envie o resultado, junto com o nome de conta preferido, para 
<a href="mailto:joey@debian.org">Martin Schulze</a>.
Criptografe toda a mensagem com <a
href="http://db.debian.org/fetchkey.cgi?fingerprint=B53FE57BD0C1F689FCE25">\
a chave GnuPG dele</a>.</p>

<p>Para mais informações, leia as 
<a href="http://people.debian.org/~joey/misc/webwml.html">notas</a>
sobre o procedimento.</p>

<hr />

<toc-add-entry name="organization">Organização dos arquivos</toc-add-entry>

<p>Esta figura demonstra a estrutura da árvore de diretórios do CVS:
</p>
<div class="center">
<img src="dirtree.jpg" alt="Árvore de diretórios do DDP CVS" />
</div>

<p>Por favor, note que o site web do DDP está localizado no módulo webwml
do repositório CVS do Debian, para ser integrado com o resto das páginas web
do Debian.</p>

<hr />

<toc-add-entry name="updates">Mecanismo de atualização automática</toc-add-entry>

<p>As páginas publicadas do manual são geradas por uma tarefa do cron em
www-master.debian.org todos os dias em alguma hora depois das 15:39 horário
do pacífico (<q>Pacific time</q>).</p>

<p>O script realiza um <kbd>cvs update -d -P</kbd>, e então
<kbd>make -C manuals.sgml clean publish</kbd>, ambos no diretório
<code>ddp</code>.</p>

<p>O makefile é configurado de forma a reconstruir cada subdiretório (que
contenha documentação mantida), e instalar os arquivos de cada subdiretório
no subdiretório <code>doc/manuals/</code> do site web. Os arquivos makefiles
do subdiretório são derivados de
<code>ddp/manuals.sgml/standard.makefile</code>.</p>

<p>Os arquivos de documentação gerados pelo script de atualização podem ser
encontrados em <a href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p>Os arquivos de registro (<q>logs</q>) gerados pelo script de atualização
podem ser encontrados em
<url "http://www-master.debian.org/build-logs/ddp/" /></p>
