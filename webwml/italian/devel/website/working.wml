#use wml::debian::template title="Come lavorare sulle pagine web Debian"
#use wml::debian::translation-check translation="1.12"

<h2>informazioni generali</h2>

<h3>Risorse richieste</h3>

<p>Se vuoi lavorare al nostro sito web, sii preparato a memorizzare almeno 60
MB di dati sul tuo disco. Questa è difatti la attuale dimensione dell'archivio
dei sorgenti. Se tu (per errore) ricostruisci tutte le pagine, avrai bisogno
alemo del doppio di questo spazio. Se hai fatto un checout parziale allora
basterà molto meno spazio, come i 18 Mb per la directory english/.

<h3>Checkout parziali</h3>

<p>Molte persone non vogliono avere tutto l'albero <code>webwml</code>
estratto dal CVS, che a volte porta anche file mancanti e compilazioni errate,
soprattutto se qualcuno ha aggiunto dei file e non si è fatto un <kbd>cvs
update</kbd> completo per quella directory. Ricorda di verificare che si abbiano
tutti i file richiesti (come .wmlrc) prima di propotestare da noi.

<h3>"Posso modificare questa pagina?"</h3>

<p>Dipende. Se vedi una svista, come un errore di battitura, correggilo pure.
Se pensi che una parte sia brutta e andrebbe riscritta, dillo in
debian-www in modo che se ne possa parlare. Probabilmente saremo
tutti d'accordo con te.

<p>Se noti un problema in un template (ad esempio un file nella directory
webwml/english/template/debian), pensaci su prima di fare il commit
della modifica, poichè le modifiche ai template fanno spesso in modo che
grandi porzioni del sito vengano ricostruite.

<H3>Quando aggiungi nuove directory, aggiungile anche nel Makefile</H3>

<p>Una attenzione particolare va fatta all'aggiunta di directory al CVS. Se la
directory attuale è inserita nel ../Makefile allora <b>devi</b> creare un
Makefile nella nuova directory -- altrimenti <tt>make</tt> darà un messaggio
di errore.

<h3>Questo link non mi pare corretto. Posso cambiarlo?</h3>

<p>La configurazione del werver web comprende l'uso
della <a href="content_negotiation">negoziazione dei contenuti</a>,
quindi non dovresti cambiare alcun link interno.
In effetti noi suggeriamo di non cambiare alcun link. Se credi
che ce ne siano di non corretti scrivi a debian-www prima di
cambiarlo.

<h3>Cerca i file README nelle directory inglesi</h3>

<p>Alcune directory contengono un file README per aiutare a capire
qual è l'organizzazione della directory. Dovrebbero esserci
tutte le informazioni particolari richieste per tradurre la
directory.

<h3>Cosa sono queste linee che cominciano per '#'?</h3>

<p>In wml, una linea che comincia per '#' è un commento.
Sono preferite rispetto ai normali commenti HTML perché non
vengono messi nella pagina finale.

<h3>Cosa sono i file pippo.def e pippo.data?</h3>

<p>Per permettere una più semplice traduzione, abbiamo separato le
parti generiche (data) dalle parti testuali (text) di alcune pagine. I
traduttori devono solo copiare e tradurre le parti testuali di esse,
le parti generiche saranno aggiunte automaticamente.

<p>Le frasi nei file data non sono aggiornate molto di frequente e quando ciò
accade viene spedita una nota a debian-www.

<p>Un esempio può capire ad aiutarne la comprensione. Vengono utilizzati
tre file per generare la pagina dei listini dei venditori in <code>distrib/vendors</code>:
<p><dl compact>
  <dt><code>vendors.wml</code>:
      <dd>Il testo in cima alla pagina dei venditori si trova in questa pagina.
      Una copia tradotta di questa pagina dovrebbe trovarsi in ogni directory propria della lingua.
  <dt><code>vendors.CD.def</code>:
      <dd>Questo contiene tutte le parti del testo di cui si ha bisogno per ogni
      voce dei venditori. Le traduzioni dovrebbero essere aggiunte direttamente all'originale,
      che è english/distrib/vendors.CD.def.
  <dt><code>vendors.CD</code>:
      <dd>Questo file contiene le voci dei venditori che sono indipendenti
      dalla lingua, di conseguenza un traduttore non ha bisogno di toccare questo file.
</dl>

<p>Nuovi venditori sono aggiunti da uno dei webmaster modificando vendors.CD.
La prossima volta che le pagine web saranno aggiornate, tutte le traduzioni saranno
automaticamente ricostruite. (Una traduzione aggiornata in cambio di niente! :-)

<h2>Aggiungere nuove pagine</h2>

<p>Aggiungere nuove pagine a Debian è molto semplice. Tutto il lavoro di
creazione dell'intestazione e del pie' di pagina è fatto da wml. Tutto quello
che devi fare è includere una linea come la seguente all'inizio del tuo file:

<pre><protect>
#use wml::debian::template title="Titolo della pagina" 
</protect></pre>

<p>seguita dal corpo del tuo testo. Tutte le pagine dovrebbero usare il modello
<code>wml::debian::template</code> a meno che non ne usino uno particolare creato per
quella particolare sezione (come le news e le pagine sulla sicurezza.)

<p>Il modello che abbiamo ti permette di definire alcune variabili che
influenzano la pagina creata. Questo dovrebbe evitare di rendere
necessario creare altri modelli: molti cambiamenti dovrebbero essere fatti
semplicemente. Le variabili attualmente disponibili sono:
<dl>
<dt>BARETITLE="true"
	<dd>Elimina la parte "Debian GNU/Linux --" che &egrave; in genere
	   inserita prima del tag &lt;title&gt;.
<dt>NOHEADER="true"
	<dd>Rimuove l'intestazione iniziale dalla pagina. Una intestazione
	   personalizzata può essere inclusa nel corpo.
<dt>NOMIRRORS="true"
        <dd>Rimuove la lista dei mirror dalla pagina. Di norma non è
           consigliato usarlo, fatta eccezione per poche pagine.
<dt>NOHOMELINK="true"
	<dd>Rimuove il link che fa tornare alla pagina principale di Debian,
	   che e` normalmente aggiunto nella parte bassa della pagina.
<dt>NOLANGUAGES="true"
	<dd>Rimuove i collegamenti alle altre lingue, cio&egrave; alle
	   versioni tradotte di questa pagina.
<dt>GEN_TIME="true"
	<dd>Mostra come data di ultima modifica quella del file html generato
	   anzich&eacute; quella del file sorgente wml.
<dt>NOCOPYRIGHT="true"
	<dd>Rimuove il copyright dal pie' di pagina.
</dl>

<p>Nota che puoi usare qualsiasi stringa per assegnare un valore a queste
variabili: "true", "yes", "foo", non ha importanza.

<p>Un esempio si ha nelle pagine dei port che hanno la loro intestazione.
<code>ports/arm/index.wml</code> usa:

<pre><protect>
#use wml::debian::template title="ARM Port" NOHEADER="yes"
</protect></pre>

<p>Se vuoi fare qualcosa che non è prevista dal modello attuale, prova a
considerare l'ipotesi di estendere il modello. Se non è possibile estenderlo
mantenendo la compatibilità con l'attuale allora prova a farne uno nuovo che
sia un superset di uno esistente. Questo permetterà di convertire la pagine al
tuo modello al prossimo grosso aggiornamento (In genere ogni 6 mesi massimo.)

<p>Se stai creando una pagina che è generata da uno script prova a vedere se è
possibile gestiarla tramite il meccanismo delle ``slice'' di wml per
permetterne una facile traduzione. Un buon esempio è in
<kbd>distrib/vendors.wml</kbd>. Nuovi venditori possono essere aggiunti e la
nuova pagina verrà automaticamente creata in tutte le lingue.
<kbd>vendors.wml</kbd> include <kbd>vendors.CD</kbd> che contiene la vera
lista di venditori. Questo file include a sua volta
<kbd>distrib/vendors.CD.def</kbd> che contiene la definizione di tutte le
frasi usate in <kbd>vendors.CD</kbd>.

<p>I traduttori dovranno quindi aggiungere la traduzione delle ``slice'':
<pre><protect>
	[EN:Country:]
	[ES:Pa-is:]
	[DE:Land:]
</protect></pre>

<h2>Aggiungere nuove directory</h2>

<p>Nota: <strong>Non</strong> create alcuna directory che si chiami <code>install</code>.
Questo confonderebbe il programma make e le pagine in quella directory non
sarebbero aggiornate automaticamente.

<p>Segue un esempio di come si aggiunge una directory al sito web.
<pre>
   mkdir foo
   cvs add foo
   cd foo
   cp ../intro/Makefile .
   cvs add Makefile
</pre>

<p>Edita il Makefile nella directory padre e aggiungi la directory attuale
nella variabile <code>SUBS</code>. Questo far&agrave; s&igrave; che la
directory sia considerata durante la creazione del sito.

<p>Alla fine fai il commit al repository di tutti i cambiamenti
<pre>
   cvs commit Makefile foo
</pre>
