#use wml::debian::template title="HOWTO по работе над страницами web Debian"

#<!-- translation 1.3 -->

<p>Web cтраницы Debian получаются одним из трех способов: документация 
копируется со страниц
<a href="http://www.debian.org/~elphick/ddp/">Проект Документации Debian (DDP)</a>,
некоторые части сайта генерируется скриптами (два хороших примера -- 
Страницы ошибок (Bugs) и архивы списков рассылки (Lists-Archives)),
а остальное генерируется с помощью wml.

<h3>Что такое wml?</h3>
WML по большей части очень похож на html, но перед получением окончательного
html он проходит ряд фильтров. Это позволяет иметь статические 
страницы (что необходимо для возможности создания зеркал сервера) имея в то же
время большинство преимуществ динамически создаваемых страниц.

<p>Одна из возможностей wml, из-за которых мы активно его используем,
это применение perl. Помните, это не динамические страницы. Perl
используется во время генерации страниц html, чтобы сделать все, что угодно.
Два хороших примера того, как мы используем perl на наших страницах, 
это создание списка последних новостей на главной странице и генерация 
ссылок на доступные переводы в конце страницы.

<p>Документация по wml не легка для изучения. Она уже достаточно полна,
но пока Вы не начнете понимать как это работает (и что это достаточно
мощный инструмент), проще всего использовать существующие страницы как пример.

FIX <h3>Доступ к wml исходникам: использование CVS</h3>
Wml исходники страниц хранятся в CVS. При использовании CVS существует 
центральный сайт, хранящий оригинал исходников (repository)
и работающие над сайтом 'выписывают' (checkout) из CVS себе локальные копии
для работы. Даже копия на 'master', из которой генерируются сами html
страницы, ежедневно обновляется из CVS выполнением
'<kbd>cvs update</kbd>'.

<p>Каждый может 'выписать' копию только для чтения с носителя (repository), используя имя
<kbd>anonymous</kbd>. Чтобы получить права записи, Вам следует написать 
<a href="mailto:webmaster@debian.org">webmaster@debian.org</a>. Если Вы 
не знакомы с CVS, Вы можете прочитать обсуждение с некоторыми примерами использования
в документе <a href="HOWTO_translate">Как переводить страницы</a>.

<h3>Добавление новых страниц</h3>
<p>Добавление новых страниц в Debian довольно легко. Вся работа по
простановке нужных заголовков (header) и окончаний (footer) ведется с 
помощью wml. Все, что Вам нужно сделать, это вставить строку, 
подобную следующей, в начале нового файла:
<pre><protect>
#use wml::debian::template title="ЗАГОЛОВОК СТРАНИЦЫ" 
</protect></pre>
перед основным текстом. Все страницы должны использовать шаблон wml::debian::template,
если только они не используют специальный, созданный только для 
этой секции, например, Новости или страницы по безопасности.

<p>Шаблон wml::debian::template позволяет Вам определить некоторые 
переменные, действующие на созданные страницы. Это должно помочь избежать
создания отдельных шаблонов для каждой ситуации и облегчить 
внесение улучшений. Вот ныне доступные переменные и их 
назначение:
<dl>
<dt>NOHEADER="yes"
	<dd>Удаляет пользовательские заголовки со страницы. Пользовательские заголовки,
	разумеется, могут быть включены в тело.
<dt>NOHOMELINK="yes"
	<dd>Удаляют ссылки внизу этой страницы обратно на главную страницу Debian.
<dt>NOLANGUAGES="yes"
	<dd>Удаляют ссылки внизу страницы на версии 
	на других языках.
<dt>NOCOPYRIGHT="yes"
	<dd>Удаляют отметки об авторских правах внизу страницы.
</dl>

<p>Примером использования этого служат страницы платформ (ports pages), у которых
свои заголовки. ports/arm/index.wml используют:
<pre><protect>
#use wml::debian::template title="ARM Port" NOHEADER="yes"
</protect></pre>

<p>Если Вы хотите сделать то, что нельзя выполнить используя существующие 
шаблоны, сначала подумайте о расширении одного из них. Если 
его нельзя расширить с сохранением обратной совместимости, попробуйте сделать
новый шаблон надмножеством существующего, чтобы страницы могли
конвертироваться в них при следующем большом обновлении (надеемся, не чаще
чем раз в 6 месяцев).

<p>Если Вы создаете страницу, генерируемую скриптом, или 
малы по объему, подумайте об использовании фильтра срезов (slices) внутри 
wml, чтобы облегчить задачу сохранения современности перевода. Хороший пример этого
в <kbd>distrib/vendors.wml</kbd>. На эту страницу могут добавляться новые
поставщики и дополнения будут генерироваться на каждом языке автоматически.
<kbd>vendors.wml</kbd> включает <kbd>vendors.CD</kbd>, который содержит реальный
список продавцов. Этот файл в свою очередь включает <kbd>distrib/vendors.CD.def</kbd>,
который содержит определения каждой фразы в <kbd>vendors.CD</kbd>.
Переводчикам нужно только добавить перевод там, где есть срезы (slices),
то есть:
<pre><protect>
	[EN:Country:]\
	[ES:Pa-is:]\
	[DE:Land:]\
</protect></pre>


