#use wml::debian::template title="Использование CVS"
#use wml::debian::translation-check translation="1.12"

<p>CVS&nbsp;&mdash; это программа, облегчающая нескольким людям работу над одним и
тем же материалом одновременно. Каждый пользователь создаёт локальную 
копию основного репозитория. Локальные копии могут располагаться на той 
же самой машине, или в любой другой точке мира. Пользователи могут изменять
локальные копии по собственному усмотрению, и когда изменяемый материал
готов, зафиксировать изменения в основном репозитории.

<p>CVS не позволит зафиксировать изменения в файле, если его копия в
основном репозитории изменилась после вашего последнего обновления.
Это обычно не является проблемой, поскольку вы по-прежнему можете отредактировать
вашу локальную копию. Если изменения были в тех областях, которые вы не
трогали, изменения автоматически будут объединены. Если изменения
затрагивают ту же часть файла, над которой работали вы, то программа
предупредит вас о конфликте. Вы должны отредактировать файл,
чтобы устранить проблему перед фиксированием изменений в репозитории.

<P>В дальнейшем в качестве примера будет использоваться анонимный доступ.
Если у вас есть учётная запись с правом на
запись в репозиторий, пользуйтесь ей вместо анонимной. Если вы
планируете делать изменения, вы должны получить учётную запись перед
началом работы, поскольку анонимные пользователи не могут вносить изменения.
См. более подробную информацию в <a href="#write-access">разделе о доступе
с правом на запись</a>.

<p>Чтобы начать использовать CVS, вы должны сначала
зарегистрироваться на сервере CVS:

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre> 

<p>(для ввода пароля достаточно просто нажать enter)

<P>Чтобы извлечь копию wml файлов на вашу локальную машину,
следует использовать команду:

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml
</pre> 

<p>Вы можете извлечь не все страницы, а любое их подмножество:

<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout -l \\
          webwml webwml/&lt;<var>язык</var>&gt;
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          webwml/Perl webwml/english/template webwml/&lt;<var>язык</var>&gt;/Pics
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout \\
          &lt;<var>путь к необходимым файлам</var>&gt;
</pre> 

<p>Повторите эти действия для всех подкаталогов или файлов, которые вам нужны.
Вторая строка включает все файлы, которые вам будут необходимы,
если вы захотите создать HTML из WML файлов. Частичные извлечения, подобные
этим, не поддерживаются, так что эти команды могут работать не всегда.

<p>Если вы получили учётную запись (имя пользователя и пароль), используйте
ваше имя пользователя вместо anonymous:

<pre>
   cvs -d :pserver:username@cvs.debian.org:/cvs/webwml checkout webwml/english/doc
</pre>
 
(не забудьте перед этим выполнить <pre>cvs login</pre>)

<P>После этого вам уже не нужно будет использовать 
часть <code>'-d:pserver: ... '</code>. 
Каждые несколько дней вам нужно будет делать

<pre>
   cvs update -d
</pre>

<p>для внесения изменений из репозитория в вашу локальную копию.
Параметр команды update <code>-d</code> добавит все новые каталоги автоматически.
Вы также можете создать файл <code>~/.cvsrc</code>, для того чтобы
не обязательно было каждый раз набирать одни и те же параметры. Например
он может содержать:

<pre>
cvs -z9
update -d -P
diff -u
</pre> 

<P>
Когда вы закончите работу над страницей, вы можете зафиксировать ваши изменения
в репозиторий (если имеете доступ на запись):

<pre>
   cvs commit &lt;file&gt;.wml
</pre> 

<p> или

<pre>
   cvs commit &lt;dir&gt; (чтобы внести все изменения в &lt;каталоге&gt;)
</pre>

<p> или

<pre>
   cvs commit  (внести все изменения от текущего каталога и ниже)
</pre>

<P>Если вы первый, кто переводит страницу, перед её фиксированием
нужно выполнить

<pre>
   cvs add &lt;file&gt;.wml
</pre> 

<p>Обратите внимание, что команда <code>cvs add</code>
не рекурсивна, поэтому вы должны добавить каталог прежде, чем вы сможете
добавить его содержимое.

<P>Чтобы ознакомится с более подробной информацией о CVS, воспользуйтесь
командой <code>info cvs</code>.

<h3><a name="write-access">Доступ к CVS с правом на запись</a></h3>

<p>См. информацию о том, как получить доступ к CVS с правом на запись
на странице <url "http://people.debian.org/~joey/misc/webwml.html">.
