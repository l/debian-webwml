#use wml::debian::template title="Как сделан www.debian.org"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.28"

<p>Набор файлов и каталогов Debian (<em>&ldquo;web-дерево&rdquo;</em>), содержащий
наш web-сайт, расположен в каталоге <tt>/org/www.debian.org/www</tt> сайта
www-master.debian.org. В связи с тем что web-сайт зеркалируется, страницы
написаны на обычном статическом HTML (т.е., не содержат ничего динамического
вроде CGI или скриптов на PHP).

<p>Сайт генерируется одним из трёх способов:
<ul>
  <li>основная часть&nbsp;&mdash; с помощью WML, из дерева CVS модуля webwml
  <li>документация генерируется с помощью DebianDoc-SGML из дерева CVS
      модуля debian-doc
  <li>некоторые части сайта генерируются скриптами из других ресурсов,
      например страницы подписки на списки рассылки и отписки от них.
</ul>

<p>Автоматическое обновление (из репозитория CVS и других источников)
выполняется шесть раз в день.

<p>Если вы хотите помочь в создании сайта, <strong>недостаточно</strong>
просто добавлять или редактировать элементы в каталоге <code>www/</code>.
Свяжитесь сначала с <a href="mailto:webmaster@debian.org">web-мастерами</a>.

<p>Все файлы и каталоги принадлежат группе debwww и перезаписываются этой
группой. Таким образом, команда разработки web-сайта может изменять файлы
в каталоге web. Режим доступа к каталогам 2775 означает, что любые файлы,
созданные в них наследуют идентификатор группы debwww. Любой член группы
debwww может установить <code>umask 002</code>, чтобы файлы создавались
с правами на запись для группы.

<toc-display />

<hrline/>


<toc-add-entry name="look">Дизайн</toc-add-entry>

<p>Мы стараемся сделать так, чтобы наши страницы выглядели одинаково.
Всю работу по добавлению заголовков и нижних колонтитулов к страницам
выполняет <a href="http://packages.debian.org/unstable/web/wml">WML</a>. Хотя
страница .wml и напоминает HTML на первый взгляд, это лишь один из языков
представления информации, который может использоваться в .wml. После того,
как WML пропустил страницу через все фильтры, получается конечный
файл&nbsp;&mdash; собственно HTML. WML&nbsp;&mdash; мощный язык, вы можете
даже включить в страницу код Perl, который позволяет делать почти всё, что
угодно.

<p>Обратите, однако, внимание на то, что WML проверяет (и иногда автоматически
исправляет) только основные правила кода HTML. Для полной проверки корректности
кода HTML следует установить <a
href="http://packages.debian.org/unstable/web/weblint">weblint</a> и/или
<a href="http://packages.debian.org/unstable/web/tidy">tidy</a> 

<p>Наши web-страницы в настоящее время используют стандарт
<a href="http://www.w3.org/TR/html4/">HTML 4.01 Strict</a>. Однако мы
планируем переход на <a href="http://www.w3.org/TR/xhtml1/">XHTML</a>, поэтому
всем редакторам страниц рекомендуется записывать теги html в нижнем регистре,
всегда ставить закрывающие теги и т.д., чтобы сделать переход как можно более
лёгким.

<p>Все, кто работает над большим количеством страниц, должны установить WML,
чтобы можно было проверять полученный результат. Если вы используете
Debian, вы можете просто установить пакет <code>wml</code>. См. дополнительную
информацию на странице <a href="using_wml">Использование WML</a>.


<toc-add-entry name="sources">Исходный текст</toc-add-entry>

<p>Исходный текст web-страниц хранится в CVS. CVS&nbsp;&mdash; это система
управления версиями, которая позволяет хранить информацию о том, кто, когда
и почему произвёл изменения, какие именно и т.д. Эта программа является
безопасным способом управления параллельным редактированием исходных файлов
множеством авторов, это критично для нас, потому что команда разработки сайта
Debian довольно велика.

<p>Если вы незнакомы с этой программой, вам, быть может, следует прочитать
страницу <a href="using_cvs">Использование CVS</a>.

<p>Каталог верхнего уровня webwml в архиве CVS содержит каталоги, названные
по именам языков web-сайта, два файла Makefile и несколько скриптов. Названия
каталогов перевода должны быть на английском языке и в нижнем регистре
(например "german", а не "Deutsch").

<p>Более важный из этих двух файлов Makefile&nbsp;&mdash; Makefile.common,
который, как говорит его название, содержит некоторые общие правила. Другие
такие файлы включают этот файл, чтобы применить эти правила.

<p>Каждый из языковых каталогов содержит файлы Makefile, исходные файлы WML и
подкаталоги. Файлы и имена каталогов не отличаются, чтобы для всех языков
ссылки выглядели одинаково. Каталоги могут также содержать файлы .wmlrc,
которые содержат информацию, используемую WML.

<p>Каталог webwml/english/template содержит специальные файлы WML, называемые
шаблонами. На них можно сослаться из других файлов с помощью команды
<code>#use</code>.

<p>Изменения в шаблонах приводят к изменению файлов, использующих эти шаблоны.
Подавляющие большинство файлов использует шаблон "template", с помощью
строки "<code>#use wml::debian::template</code>" в начале файла&nbsp;&mdash;
универсальной (общей для всех файлов) зависимости. Из этого правила,
разумеется, есть исключения.


<toc-add-entry name="scripts">Скрипты</toc-add-entry>

<p>Скрипты, главным образом, написаны на языке оболочки или на Perl. Некоторые
из них автономны, другие интегрированы в исходные файлы WML.</p>

<p>Скрипты сборки страниц из исходников на основном сервере www-master находятся
в <a href="http://cvs.debian.org/cron/?cvsroot=webwml">модуле cron в CVS</a>.</p>

<p>Скрипты сборки страниц из исходников на packages.debian.org находятся
в <a href="http://cvs.debian.org/packages/?cvsroot=webwml">модуле packages в
CVS</a>.</p>


<toc-add-entry name="help">Как помочь</toc-add-entry>

<p>Мы приглашаем всех заинтересованных людей помочь нам сделать сайт Debian как
можно лучше. Если у вас есть ценная информация, связанная с Debian, и если
вы думаете что на наших страницах её нет, вы можете <a
href="mailto:debian-www@lists.debian.org">поделиться ей с нами</a>. Мы решим,
как её можно опубликовать.

<p>Нам также нужна помощь в проектировании страниц (в части графики и
разметки), а также в поддержании корректности HTML. Мы регулярно запускаем
следующие программы, проверяющие весь web-сайт:</p>

<ul>
  <li><a href="http://www-master.debian.org/build-logs/urlcheck/">URL check</a>
  <li><a href="http://www-master.debian.org/build-logs/validate/">wdg-html-validator</a>
  <li><a href="http://www-master.debian.org/build-logs/tidy/">tidy</a>
</ul>

<p>Приветствуется помощь в чтении файлов журналов вышеупомянутых программы и
устранении проблем.</p>

<p>Текущие журналы сборки web-сайта можно найти на <url
"http://www-master.debian.org/build-logs/">.</p>

<p>Если вы хорошо знаете английский, мы будем рады вашей помощи в вычитке
и корректуре наших страниц. Сообщайте обо всех ошибках <a
href="mailto:debian-www@lists.debian.org">нам</a>.

<p>Если вы говорите на другом языке, вы можете помочь нам переводить страницы
на ваш язык. Если перевод уже сделан, но в нём есть ошибки, найдите лидера
команды перевода в списке <a href="translation_coordinators">координаторов
переводов</a> и пообщайтесь с ним по поводу их исправления. Если вы сами
хотите переводить страницы, см. информацию на специальной странице <a
href="translating">по этой теме</a>.

<p>Прочтите также файл <a href="todo">основных задач</a>.</p>


<toc-add-entry name="nohelp">Как <strong>не надо</strong> помогать</toc-add-entry>

<p><em>[Q] Я хочу добавить на www.debian.org новую <var>классную
возможность</var>, можно ли это сделать?</em>

<p>[A] Нет. Мы хотим, чтобы www.debian.org был настолько доступным, насколько
это возможно, поэтому:
<ul>
    <li>никаких зависимых от браузера расширений.
    <li>не должно быть информации только в виде изображений. Они могут
	использоваться для разъяснения, но информация www.debian.org должна
	оставаться доступной через текстовый web-браузер, например lynx.
</ul>

<p><em>[Q] У меня есть хорошая идея. Можете ли вы включить такую-то функцию
в демоне HTTP www.debian.org, ну пожалуйста?</em>

<p>[A] Нет. Мы хотим сделать жизнь администраторов зеркал www.debian.org
простой, так что не используйте, пожалуйста, специальных возможностей демона
HTTP. Да-да, даже SSI. Исключение сделано лишь для согласования содержания.
Так как это единственный надёжный способ использовать множество языков
одновременно.
