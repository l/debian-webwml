#use wml::debian::template title="Как настроить ssh, чтобы не вводить пароль" BARETITLE=true
#use wml::debian::translation-check translation="1.10" maintainer="Lev Lamberov"

<p>Вы можете создать идентификационный ключ RSA, чтобы иметь возможность заходить на удалённый
сайт с вашей учётной записи без ввода пароля.</p>

<p>Заметьте, что после такой настройки, если взломщик проникнет в вашу
учётную запись или сайт, он получит доступ к сайту с вашими правами, также не вводя
пароль! Поэтому это <strong>никогда</strong> не следует
делать от лица пользователя root.</p>

<ul>
      <li>Запустите <code>ssh-keygen(1)</code> на вашей машине и просто
	нажмите Enter во время запроса пароля.
	<br>
	Будут созданы частный и публичный ключи. В более старых
	версиях SSH, они будут сохранены в файлы
	<code>~/.ssh/identity</code> и
	<code>~/.ssh/identity.pub</code>; в более новых версиях они
	будут сохранены в файлы <code>~/.ssh/id_rsa</code> и
	<code>~/.ssh/id_rsa.pub</code>.</li>
      <li>Далее, добавьте содержимое файла с публичным ключом в
	<code>~/.ssh/authorized_keys</code> на удалённом сайте (права
	доступа к файлу должны иметь значение 600).
	<br>
	Если вы являетесь разработчиком и хотите получить доступ к системам debian.org с
	использованием такого ключа, через базу данных разработчиков ваш ключ
	можно распространить на все машины debian.org. См.
	<a href="https://db.debian.org/doc-mail.html">документацию по
	  шлюзу LDAP</a>.</li>
</ul>

<p>Теперь у вас должна появиться возможность использовать ssh для входа на удалённый сервер
без запроса пароля.</p>

<p><strong>Важно!</strong> Заметьте, что любой, имеющий доступ для чтения
к такому частному ключу, может использовать его для доступа
к удалённому сайту без пароля. Это включает любого, кто имеет доступ
к вашей локальной машине с правами root. Следовательно, если вы не являетесь
единственным, кто имеет доступ к вашей машине с правами root, настоятельно рекомендуется использовать пароль
для вашего частного ключа. Вы можете использовать <code>ssh-agent(1)</code> и
<code>ssh-add(1)</code>, чтобы вводить ваш пароль только один раз
для всех использований конкретного ключ во время одной сессии. Вы можете автоматически загрузить все
ваши ключи в базу агента, добавив следующие строки в
файл <code>~/.xsession</code> file:</p>
<pre>
      \# if use-ssh-agent is specified in /etc/X11/Xsession.options
      \# (this is the default) then you need only the second line
      \# eval ssh-agent
      ssh-add &lt;имя-файла-с-ключом-ssh&gt;
</pre>
<p>Для запуска <code>ssh-add</code> без терминала, следует
установить пакет <code>ssh-askpass</code>.</p>
