#use wml::fmt::verbatim
#use wml::debian::translation-check translation="1.2"
<define-tag description>переполнения буфера, отказ в обслуживании</define-tag>
<define-tag moreinfo>
<p>Обнаружены четыре уязвимости в XFree86.</p>

<ul>
<li><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0063">CAN-2003-0063</a>
- ESC-последовательность, сообщающая заголовок окна xterm, может ввести
в заблуждение пользователя

<p>Пакет xterm создаёт ESC-последовательность терминала с информацией
  о заголовке окна, вставляя её во входной буфер окна терминала, как
  если бы она была введена пользователем. Нападающий может создать
  ESC-последовательность, устанавливающую заголовок атакуемого окна
  xterm равным произвольной строке (например, команде оболочки), и
  затем вывести этот заголовок. Если жертва в этот момент находится
  в оболочке, вставленная команда появится в командной строке, готовая
  к запуску. Поскольку вставить символ возврата каретки в заголовок
  окна невозможно, нападающий будет вынужден уговорить жертву нажать
  клавишу ввода (или положиться на беспечность или растерянность жертвы),
  чтобы оболочка или другой интерактивный процесс интерпретировали
  "заголовок окна" как команду пользователя. Тем не менее, предполагается
  возможным, что нападающий может создать другие ESC-последовательности,
  которые могут убедить жертву одобрить вставленный входной текст. Проект
  Common Vulnerabilities and Exposures на cve.mitre.org присвоил этой
  ошибке идентификатор <a
  href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0063">CAN-2003-0063</a>.</p>

<p>Чтобы определить, уязвима ли ваша версия xterm к использованию
  функции сообщения заголовка окна, выполните следующую команду в
  приглашении оболочки в окне xterm:</p>

<verbatim>
   echo -e "\e[21t"
</verbatim>

<p>(Может прозвенеть звонок терминала и перед заголовком окна появится
  "l".)</p>

<p>Эта ошибка может быть использована любым человеком, который может
  отправлять выходной текст, например, текстовый документ, в окно терминала.
  Пользователь xterm, тем не менее, должен предпринять для отправки
  ESC-последовательности некоторые действия (например, просмотреть
  злонамеренный документ с помощью команды "cat"). То, подвержены ли вы
  этой опасности, зависить от способа использования вами xterm.
  Выполните следующие команды:</p>

<verbatim>
   echo -e '\e]2;s && echo rm -rf *\a' > /tmp/sploit
   echo -e '\e[21t' >> /tmp/sploit
   cat /tmp/sploit
</verbatim>

<p>Debian решил эту проблему отключением ESC-последовательностей,
  выводящих заголовок окна, в xterm&nbsp;&mdash; они распознаются,
  но игнорируются. ESC-последовательности, устанавливающие заголовок
  окна, не отключены.</p>

<p>Следующий выпуск пакета xterm будет содержать параметр конфигурации,
  позволяющий пользователю вновь включить эту возможность. Однако по
  умолчанию она будет выключена.</p>
</li>

<li><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0071">CAN-2003-0071</a>
- xterm уязвим к атаке на отказ в обслуживании с помощью ESC-последовательности
DEC UDK

<p>Пакет xterm, поскольку он эмулирует текстовые терминалы DEC серии VT,
  эмулирует и возможность этих терминалов, известную как "определяемые
  пользователем клавиши" ("User-Defined Keys", UDK). Однако в обработке
  xterm ESC-последовательностей DEC UDK присутствует ошибка, и
  некорректная последовательность может вызвать зацикливание процесса
  xterm. Это приведёт к бесполезному расходованию процессорного времени
  и прекращению обработки сигналов (таких как попытки убить процесс или
  закрыть окно).</p>

<p>Чтобы определить, уязвима ли ваша версия xterm к этой атаке,
  выполните следующую команду в приглашении оболочки "жертвуемого"
  окна xterm (т.е. окна, в буфере прокрутки которого нет никаких
  данных, которые могут понадобится вам в дальнейшем):</p>

<verbatim>
   echo -e "\eP0;0|0A/17\x9c"
</verbatim>

<p>Эта ошибка может быть использована любым человеком, который может
  отправлять выходной текст, например, текстовый документ, в окно терминала.
  Пользователь xterm, тем не менее, должен предпринять для отправки
  ESC-последовательности некоторые действия (например, просмотреть
  злонамеренный документ с помощью команды "cat"). То, подвержены ли вы
  этой опасности, зависить от способа использования вами xterm.

<p>Debian решил эту проблему путём обратного переноса исправлений
  от авторов исходного кода на XFree86 4.1.0.</p>
</li>

<li><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2002-0164">CAN-2002-0164</a>
- ошибка в расширении MIT-SHM X-сервера позволяет пользователю, которому
принадлежит сеанс работы X, читать произвольные сегменты разделяемой памяти
и писать в них

<p>Большая часть X-серверов, происходящих от примерной реализации
  MIT/X Consortium/X.Org, включая X-серверы XFree86, поддерживают расширение
  протокола X, называемое MIT-SHM, которое позволяет X-клиентам, работающим
  на той же машине, что и X-сервер, функционировать более быстро и эффективно,
  задействовав, при возможности, такую возможность операционной системы,
  как разделяемая память. Например, ядро Linux поддерживает разделяемую
  память.</p>

<p>Поскольку X-сервер выполняется с достаточно обширными привилегиями,
  встроенные механизмы контроля доступа операционной системы не
  слишком эффективны для ограничения использования X-сервером сегментов
  разделяемой памяти. X-сервер должен реализовывать свой собственный
  контроль доступа. В предыдущих выпусках XFree86 (а перед этим, в
  примерной реализации MIT/X Consortium/X.Org) этот контроль был
  реализован не очень хорошо, оставляя злонамеренными X-клиентам
  возможности читать и изменять сегменты разделяемой памяти, к которым
  они не должны иметь доступа. Проект Common Vulnerabilities and Exposures
  на cve.mitre.org присвоил этой ошибке идентификатор <a
  href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2002-0164">CAN-2002-0164</a>.</p>

<p>Пакеты Debian XFree86 4.1.0-16 содержат неполное исправление
  этой ошибки. Они обеспечивают правильный контроль доступа только
  со стороны X-серверов, запущенных не менеджерами экранов (например,
  xdm). Это обновление решает эту проблему.</p>

<p>Проект Debian не знает способов использования этой уязвимости.
  Тем не менее, злонамеренный X-клиент, использующий расширение MIT-SHM,
  вполне может быть написан и запущен (умышленно или непреднамеренно)
  пользователем, могущим запустить X-сервер на машине. Последствия этой
  ошибки зависят от того, как в системе используется разделяемая память.
  См. более подробную информацию на странице руководства ipcs(8).</p>

<p>Debian решил эту проблему путём обратного переноса исправлений
  от авторов исходного кода на XFree86 4.1.0.</p>
</li>

<li><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0730">CAN-2003-0730</a>
- многочисленные возможности выхода за границы допустимых целочисленных
значений в библиотеках поддержки шрифтов XFree86 позволяют локальному или
удалённому нападающему вызвать отказ в обслуживании или выполнить
произвольный код с помощью атаки на переполнение буфера кучи или стека

<p>Исследователь безопасности "blexim" пишет [перефразировано]:</p>

<blockquote>
<p>Я идентифицировал несколько ошибок в библиотеках поддержки шрифтов
  текущей версии исходного кода XFree86. Эти ошибки потенциально
  могут позволить удалённому пользователю выполнить произвольный код
  в любом процессе, вызывающем обсуждаемые функции. Это лишь функции,
  связанные с передачей шрифтов от серверов шрифтов к клиентам и их
  перечислением, что ограничивает опасность этих ошибок.</p>

<p>Если быть точным, несколько переменных, содержащих значения
  размеров, передаваемых сервером шрифтов клиенту, не проверяются
  должным образом, в результате чего вычисления с их участием могут
  дать неверный результат. Эти ошибочные вычисления могут привести
  к переполнению буферов кучи или стека, потенциально позволяя
  выполнить произвольный код. Как указано выше, опасность ограничена
  тем фактом, что этими ошибками могут быть затронуты лишь клиенты,
  но в некоторых конфигурациях (не в конфигурации по умолчанию) xfs
  и X-сервер сами могут действовать в роли клиентов удалённых
  серверов шрифтов. В этих конфигурациях и xfs, и X-сервер могут
  подвергаться опасности.</p>
</blockquote>

<p>Проект Common Vulnerabilities and Exposures на cve.mitre.org присвоил
  этой ошибке идентификатор <a
  href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0730">CAN-2003-0730</a>.</p>

<p>Проект Debian не знает способов использования этой уязвимости.
  По умолчанию в Debian X-серверы сконфигурированы так, чтобы слушать
  лишь локальные серверы шрифтов, удалённые не используются даже если
  пакет xfs не установлен. Конфигурация xfs в Debian по умолчанию
  использует каталоги шрифтов только на локальной машине и не пытается
  соединиться с какими-либо внешними серверами шрифтов.</p>

<p>Debian решил эту проблему путём обратного переноса исправлений
  от авторов исходного кода на XFree86 4.1.0.</p>
</li>
</ul>

<p>Все вышеперечисленные проблемы также затрагивают пакеты xfree86v3
(в случае первых двух ошибок исходный код xterm их содержит, но
в пакете xterm они отсутствуют). Из-за ограниченности ресурсов и
недостаточной поддержке авторами исходного кода этих старых версий
Debian не в состоянии продолжать поддержку XFree86 версии 3.3.6.
Чтобы избежать атаки с использованием двух последних ошибок, мы рекомендуем
вам удалить следующие пакеты, если они установлены:</p>

<ul>
<li>xserver-3dlabs</li>
<li>xserver-8514</li>
<li>xserver-agx</li>
<li>xserver-common-v3</li>
<li>xserver-fbdev</li>
<li>xserver-i128</li>
<li>xserver-mach32</li>
<li>xserver-mach64</li>
<li>xserver-mach8</li>
<li>xserver-mono</li>
<li>xserver-p9000</li>
<li>xserver-s3</li>
<li>xserver-s3v</li>
<li>xserver-svga</li>
<li>xserver-tga</li>
<li>xserver-vga16</li>
<li>xserver-w32</li>
</ul>

<p>(Возможно, вы захотите удалить также пакеты xext, xlib6 и xlib6-altdev,
поскольку их поддержка прекращается вместе с остальными пакетами
XFree86 3.3.6, хотя они и не затронуты проблемами, описанными в этом
предложении.)</p>

<p>В стабильном дистрибутиве (woody) эти проблемы исправлены
в версии 4.1.0-16woody1.</p>

<p>В нестабильном дистрибутиве (sid) все проблемы, кроме <a
href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0730">CAN-2003-0730</a>
исправлены в версии 4.2.1-11. Ошибка <a
href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0730">CAN-2003-0730</a>
будет исправлена в подготавливаемой в данный момент версии 4.2.1-12.</p>

<p>Мы рекомендуем вам обновить пакет xfree86.</p>
</define-tag>

# do not modify the following line
#include "$(ENGLISHDIR)/security/2003/dsa-380.data"
