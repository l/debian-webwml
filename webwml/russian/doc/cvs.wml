#use wml::debian::ddp title="Доступ к CVS-репозитарию DDP"
#use wml::debian::translation-check translation="1.6"

<p>Web-страницы и многие руководства Проекта Документирования Debian 
(Debian Documentation Project) располагаются на CVS-сервере Debian 
<b>cvs.debian.org</b>.

<p>Обновлять файлы на CVS-сервере могут только члены Проекта Документирования 
Debian. Другие могут только скачивать файлы для себя.
  
<p>Вы можете использовать 
<a href="http://cvs.debian.org/ddp/manuals.sgml/?cvsroot=debian-doc">CVSWeb</a>
для индивидуального доступа к файлам и просмотра изменений в них.

<p>Для скачивания целого документа лучше использовать прямой доступ к 
CVS-серверу. Вам нужно установить у себя пакет <tt>cvs</tt>.

<h2>Анонимное соединение (только-чтение) к CVS-серверу</h2>

<p>Чтобы подсоединиться, введите команду:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>и в ответ на приглашение ввести пароль просто нажмите Enter.

<p>После соединения вы можете использовать обычные команды CVS (см. 
info-страницы CVS), чтобы извлечь файлы, но не можете изменять и 
регистрировать изменения в них.

<p>Чтобы скачать файлы впервые, создайте и перейдите в каталог, куда все будет
сложено. В этом каталоге будут созданы два каталога - <strong>CVS</strong> и
<strong>ddp</strong>.

<p>Для скачивания всех файлов используйте эту команду:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Команда создаст каталоги и заполнит их.

<p>Чтобы обновить вашу локальную копию, войдите в каталог
<strong>ddp/manuals.sgml</strong> и запустите команду:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Когда вы закончили удаленную сессию CVS, то используйте для отсоединения 
от сервера команду:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h2>Подключение к CVS-серверу с правами на изменение</h2>

Чтобы подсоединиться по ssh, сперва сообщите об этом CVS:

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Затем создайте и перейдите в каталог, где все будет размещено, и введите
команду: 

<p style="margin-left: 2em">
  <code>cvs -d :ext:<i>имя</i>@cvs.debian.org:/cvs/debian-doc -z3 checkout <i>модуль</i></code>
</p>

<p>В приведенной выше команде замените <i>имя</i> вашим именем пользователя
на сервере паролей CVS. Это необязательно то же самое регистрационное имя как на
<b>cvs.debian.org</b>, если у вас есть такое. Замените <i>модуль</i> названием
модуля, который вы хотите взять, обычно это <tt>ddp/manuals.sgml</tt>.

<p>Далее у вас запросят пароль для CVS-сервера. Не путайте его с обычным 
паролем на <b>cvs.debian.org</b> или вашей собственной машине.

<p>В этом каталоге будут созданы два каталога, <strong>CVS</strong> и 
<strong>ddp</strong>. CVS рекурсивно создаст любые запрошенные вами модули 
(т.е. каталоги) и заполнит их файлами.

<p>После этого вы можете использовать CVS-команды (см. CVS info-страницы),
чтобы извлекать и регистрировать файлы.

<p>Чтобы обновить вашу локальную копию, перейдите в каталог
<strong>ddp/manuals.sgml</strong> и запустите команду:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<h2>Получение привилегий на обновление</h2>

<p>Привилегии на обновления доступны любому, кто хочет помогать в написании
руководств.

<p>Чтобы получить привилегии на обновления, отправьте запрос
<a href="mailto:aph@debian.org">Координатору документации</a>, содержащий
желаемое имя пользователя для pserver и утвержденный шифрованный пароль,
сгенерированный с

<p style="margin-left: 2em">
  <code>makepasswd --crypt --clear=<i>ваш_пароль</i></code>
</p>

<p>(<tt>makepasswd</tt> is a Debian package.)

<p>Если вы не создали пароль, то он будет для вас сгенерирован, но его
будет трудно запомнить. Чтобы изменить ваш пароль, снова отошлите e-mail 
координатору с новым, зашифрованным паролем.

<hr>

<h1>Организация файлов</h1>

<p>Этот рисунок показывает структуру дерева каталогов CVS:

<p><img src="dirtree.jpg" align="middle" alt="Дерево каталогов CVS-репозитория DDP">

<p>Пожалуйста, обратит внимание, что web-сайт DDP размещен в модуле webwml
CVS-репозитория Debian, чтобы быть совмещенным с остальными web-страницами
Debian.

<hr>

<h1>Механизм автоматического обновления</h1>

<p>Web-страницы текстов руководств генерируются на www.debian.org через cron 
каждый день в 7:00, 15:00 и 23:00 (Тихоокеанское время).

<p>Сценарий запускает <kbd>cvs update -d -P</kbd>, а затем
<kbd>make -C manuals.sgml clean publish</kbd>, оба в каталоге
<code>ddp</code>.

<p>makefile настроен на перестройку каждого подкаталога (которые содержат
проектируемую документацию), и установку файлов из каждого подкаталога
в подкаталоге <code>doc/manuals/</code> web-сайта. makefile`ы в подкаталогах
взяты из <code>ddp/manuals.sgml/standard.makefile</code>.

# <!-- Created: Mon Jul  6 19:58:09 BST 1998 -->
