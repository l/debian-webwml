#use wml::debian::template title="Debian BTS - как сообщать об ошибках" NOHEADER=yes NOCOPYRIGHT=true
#use wml::debian::translation-check translation="1.44"

<h1>Как сообщить об ошибке в Debian</h1>

<h2>Что важно знать <strong>перед</strong> отправкой</h2>

<p>Пожалуйста, не описывайте в одном отчёте сразу несколько не связанных
между собой ошибок, особенно в разных пакетах. Нам будет значительно
проще жить, если вы отправите несколько отчётов.

<p>Перед отправкой вам следует проверить, не был ли отчёт об этой ошибке
послан кем-либо ранее. Списки актуальных в данный момент ошибок доступны
<a href="./">на www-сайте</a> и <a href="Access">в других местах</a>,
подробности ищите в соответствующих документах. Вы можете отправить ваши
комментарии к существующему сообщению об ошибке с номером #<var>&lt;номер&gt;</var>,
отправив письмо по адресу <var>&lt;номер&gt;</var>@bugs.debian.org.</p>

<p>Если вы не можете определить, к какому пакету относится проблема,
отправьте, пожалуйста, письмо в <a href="mailto:debian-user@lists.debian.org">\
список рассылки пользователей Debian</a>. На случай, если проблема относится
не к какому-либо пакету, а к общим услугам Debian, существует несколько
<a href="pseudo-packages">псевдопакетов</a>, или даже
<a href="../MailingLists/">списки рассылки</a>, которые можно использовать,
чтобы довести до нас вашу информацию.

<p>Если вы хотели бы отправить копию вашего отчёта об ошибке другим
получателям (например, в списки рассылки), вам следует использовать не
обычные заголовки сообщений, а <a href="#xcc">другой метод, описанный
ниже</a>.</p>


<h2>Отправка сообщений об ошибке с помощью автоматического инструмента</h2>

<p>Программа <code><a href="http://packages.debian.org/stable/utils/reportbug">reportbug</a></code>
может облегчить создание отчётов об ошибках, по шагам проведя вас через
этот процесс. Программа <kbd>querybts</kbd> из того же пакета <a
href="http://packages.debian.org/stable/utils/reportbug">reportbug</a>
предоставляет удобный текстовый интерфейс для работы с системой отслеживания
ошибок.</p>

<p>Пользователи Emacs могут также использовать команду debian-bug,
предоставляемую пакетом
<code><a href="http://packages.debian.org/stable/utils/debbugs-el">\
debbugs-el</a></code>. Она вызывается как <kbd>M-x debian-bug</kbd>
и запрашивает всю необходимую информацию аналогично <code>reportbug</code>.</p>


<h2>Отправка сообщений об ошибках по электронной почте</h2>

<P>Отправьте письмо по адресу
<A href="mailto:submit@bugs.debian.org"><code>submit@bugs.debian.org</code></A>,
как описано ниже.</P>

<P>Конечно, как и в любом другом письме, вы должны дать сообщению
ясную, содержательную тему (<code>Subject</code>). Указанная тема
будет использоваться в BTS как первоначальное название ошибки,
так что, пожалуйста, попытайтесь сделать её информативной!</P>

<P>В начале тела письма вам нужно поместить <a
name="pseudoheader">псевдозаголовок</a>.
Это означает, что первой строкой тела письма следует поставить:

<pre>
Package: &lt;что-нибудь&gt;
</pre>

<p>Замените <code>&lt;что-нибудь&gt;</code> именем пакета, в котором
содержится ошибка.

<p>Второй строкой письма должно быть:

<pre>
Version: &lt;что-нибудь&gt;
</pre>

<p>Замените <code>&lt;что-нибудь&gt;</code> версией пакета.

<p>Вы должны задать правильную строку <code>Package</code> псевдозаголовка
для того, чтобы система отслеживания ошибок отправила сообщение сопровождающему
пакета. См. информацию о том, как находить эту информацию, в
<a href="#findpkgver">примере</a>.

<p>Поля псевдозаголовка должны начинаться в самом начале соответствующих
строк.</p>

<p>Пожалуйста, включите в ваш отчёт:

<ul>
<li><em>Точный</em> и <em>полный</em> текст любых сообщений об
ошибках, выводимых на экран или в журнал. Это очень важно!
<li>В точности, что вы вводите или делаете для воспроизведения проблемы.
<li>Описание неправильного поведение: в точности, какого поведения вы
ожидаете, и что вы наблюдаете. Хороший способ привести такую информацию&nbsp;&mdash;
транскрипт демонстрационного сеанса работа.
<li>Предлагаемое решение, или даже заплата, если оно у вас есть.
<li>Подробности конфигурации программы, содержащей проблему. Включите
полный текст её конфигурационных файлов.
<li>Версии всех пакетов, от которых зависит ошибочный пакет.
<li>Какую версию ядра вы используете (введите <code>uname -a</code>),
версию разделяемой библиотеки C (введите <code>ls -l /lib/libc.so.6</code>
или <code>dpkg -s libc6 | grep ^Version</code>), а также любые другие
подробности относительно вашей системы Debian, если вы считаете их полезными.
Например, если у вас проблемы со скриптом Perl, вы можете пожелать указать
версию двоичного файла `perl' (введите <code>perl -v</code> или
<code>dpkg -s perl | grep ^Version:</code>).
<li>Могущие быть полезными подробности относительно аппаратного
обеспечения вашей системы. Если вы сообщаете о проблеме с драйвером
устройства, пожалуйста, приведите список <em>всего</em> аппаратного
обеспечения вашей системы, поскольку проблемы часто бывают вызваны
конфликтами номеров IRQ или адресов ввода/вывода.
</ul>

<P>Включите все подробности, которые кажутся вам относящимися к делу&nbsp;&mdash;
вряд ли ваш отчёт окажется слишком большим из-за чрезмерного количества
информации. Если много подробностей вы привести не можете, пожалуйста,
включите в отчёт все файлы, которые вы используете при воспроизведении
проблемы (если они могут содержать недопустимые в тексте символы,
закодируйте их с помощью uuencode).</P>

<p>Более подробно о том, как вы можете помочь разработчикам решить вашу
проблему, вы можете прочитать в статье <a
href="http://www.chiark.greenend.org.uk/~sgtatham/bugs.html">How to Report
Bugs Effectively</a>.</p>


<h2><A name="example">Пример</A></h2>

<P>Сообщение об ошибке, включая почтовый заголовок, выглядит примерно так:

<PRE>
  To: submit@bugs.debian.org
  From: diligent@testing.linux.org
  Subject: Hello says `goodbye'

  Package: hello
  Version: 1.3-16

  When I invoke `hello' without arguments from an ordinary shell
  prompt it prints `goodbye', rather than the expected `hello, world'.
  Here is a transcript:

  $ hello
  goodbye
  $ /usr/bin/hello
  goodbye
  $

  I suggest that the output string, in hello.c, be corrected.

  I am using Debian GNU/Linux 2.2, kernel 2.2.17-pre-patch-13
  and libc6 2.1.3-10.
</PRE>


<h2><A name="xcc">Отправка копий отчётов об ошибках по другим адресам</A></h2>

<P>Иногда необходимо отправить копию сообщения об ошибке кому-то ещё,
кроме <code>debian-bugs-dist</code> и сопровождающего пакета (по этим
адресам письмо посылается обычно).</P>

<P>Вы могли бы сделать, включив другие адреса в поле <code>CC</code>
(копия), но в этом случае копии не будут содержать номера сообщения
об ошибке в полях <code>Reply-To</code> и <code>Subject</code>.
Если получатели станут отвечать на это письмо, они, вероятно, оставят
в заголовке адрес <code>submit@bugs.debian.org</code> и создадут
своими письмами новые сообщения об ошибках. Это приведёт к появлению
большого количества дублирующихся сообщений.</P>

<P><em>Правильный</em> способ добиться желаемого&nbsp;&mdash;
использовать заголовок <code>X-Debbugs-CC</code>. Добавьте строку
наподобие следующей в заголовок вашего сообщения (в <strong>реальный</strong>
заголовок, а не псевдозаголовок, содержащий поле <code>Package</code>):</P>
<pre>
 X-Debbugs-CC: other-list@cosmic.edu
</pre>
<P>Это заставит систему отслеживания ошибок отправить копию вашего
отчёта не только в список <code>debian-bugs-dist</code>, но и по адресу(ам)
в строке <code>X-Debbugs-CC</code>.</P>

<P>Не посылайте такие копии по адресам других отчётов об ошибках,
поскольку они будут заблокированы механизмом предотвращения циклической
доставки сообщения. На самом деле, в этом случае смысла в использовании
<code>X-Debbugs-CC</code> практически нет, поскольку добавленный номер
ошибки всё равно будет заменён другим. Используйте вместо этого обычный
заголовок <code>CC</code>.</P>

<P>Эту возможность часто бывает полезно совместить с отправкой
на <code>quiet</code>&nbsp;&mdash; см. ниже.</P>


<h2><A name="severities">Уровни важности</A></h2>

<P>Если ошибка является очень серьёзной или, наоборот, лишь желаемой
возможностью, вы можете установить при отправке отчёта уровень важности
ошибки. Тем не менее, это не обязательно, и если вы не присвоите ошибке
уровень важности, разработчики сделают это сами.</P>

<p>Чтобы задать уровень важности, поместите в <a
href="#pseudoheader">псевдозаголовок</a> строку
наподобие следующей:

<pre>
Severity: &lt;<var>важность</var>&gt;
</pre>

<p>Замените &lt;<var>важность</var>&gt; одним из возможных значений,
как описано в
<A href="Developer#severities">документации для разработчиков</A>.</P>


<h2><a name="tags">Присвоение значений тегам</a></h2>

<p>Вы можете устанавливать теги ошибок, о которых вы сообщаете. Например,
если вы включаете в отчёт заплату, вы, возможно, захотите установить тег
<code>patch</code>. Тем не менее, это не обязательно, и разработчики
установят все необходимые теги.</p>

<p>Чтобы установить тег, поместите в <a
href="#pseudoheader">псевдозаголовок</a> строку
наподобие следующей:</p>

<pre>
Tags: &lt;<var>теги</var>&gt;
</pre>

<p>Замените &lt;<var>теги</var>&gt; одним из возможных значений,
как описано в
<a href="Developer#severities">документации для разработчиков</a>.
Теги могут разделяться запятыми, пробелами или и тем, и другим.</p>


<h2>Другие адреса отправки сообщений (маловажные или многочисленные ошибки)</h2>

<p>Если ошибка маловажная, например, опечатка в документации или тривиальная
проблема сборки, пожалуйста, задайте уровень важности <code>minor</code>
и отправьте сообщение по адресу <code>maintonly@bugs</code>, а не
<code>submit@bugs</code>. <code>maintonly</code> перешлёт отчёт только
сопровождающему пакета, не отправляя его в списки рассылки BTS.

<p>Если вы отправляете много отчётов одновременно, вам определённо стоит
использовать <code>maintonly@bugs</code>, чтобы не создавать чрезмерного
трафика в списках рассылки BTS. Перед отсылкой большого количества
сообщений о похожих ошибках, вы можете также отправить краткое изложение
в список <code>debian-bugs-dist</code>.

<p>Если вы хотите отправить в систему отслеживания ошибок сообщение об
ошибке, которое уже отправлено сопровождающему, вы можете использовать
адрес <code>quiet@bugs</code>. Отчёты, отправленные по этому адресу,
никуда не пересылаются, а только сохраняются.

<p>Если вы используете эти адреса отправки сообщений, система отслеживания
ошибок установит поле <code>Reply-To</code> всех пересылаемых сообщений так,
чтобы ответы по умолчанию обрабатывались так же, как исходный отчёт.
Это означает, например, что ответы на сообщение, отправленное по адресу
<code>maintonly</code>, будут посланы по адресу
<var>nnn</var><code>-maintonly@bugs</code>, а не
<var>nnn</var><code>@bugs</code>, если, конечно, отвечающий не поменяет
адрес вручную.


<h2>Подтверждения</h2>

<p>В норме система отслеживания ошибок возвращает отправителю отчёта
подтверждение того, что его отчёт о новой ошибке или дополнительная
информация к старой получены. Если вы не хотите получать такие сообщения,
включите в письмо заголовок <code>X-Debbugs-No-Ack</code> (содержание
заголовка значения не имеет, тем не менее он должен находится в заголовке
письма, а <em>не в псевдозаголовке</em> с полем <code>Package</code>).
Если вы отправили отчёт о новой ошибке с таким заголовком, вам придётся
самостоятельно узнать номер ошибки через web-интерфейс.</p>

<p>Имейте в виду, что этот заголовок не подавляет отправку подтверждений
сервером <code>control@bugs</code>, поскольку эти подтверждения могут
содержать сообщений об ошибках, которые следует прочесть и действовать
в соответствии с ними.</p>


<h2>Сообщения об ошибках в неизвестных пакетах</h2>

<P>Если система отслеживания ошибок не знает, кто сопровождает данный
пакет, она отправит отчёт в список <code>debian-bugs-dist</code> даже
если используется адрес <code>maintonly</code>.</P>

<P>При отправке сообщений по адресам <code>maintonly@bugs</code> или
<var>nnn</var><code>-maintonly@bugs</code> вам следует убедиться,
что сообщение об ошибке сопоставлено правильному пакету, поместив
в первую строку сообщения правильную строку <code>Package</code> или
используя <A href="server-control">сервер <code>control@bugs</code></A>
для сопоставления правильного пакета, если в данный момент он неверен.</P>


<h2><a name="findpkgver">Использование <code>dpkg</code> для нахождения
пакета и версии для составления отчёта</a></h2>

<P>Если вы сообщаете об ошибке в команде, вы можете найти пакет,
который её установил, используя <code>dpkg --search</code>. Вы
можете найти версию установленного пакета, используя
<code>dpkg --list</code> или <code>dpkg --status</code>.
</P>

<P>Например:
<pre>
$ which apt-get
/usr/bin/apt-get
$ type apt-get
apt-get is /usr/bin/apt-get
$ dpkg --search /usr/bin/apt-get
apt: /usr/bin/apt-get
$ dpkg --list apt
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Installed/Config-files/Unpacked/Failed-config/Half-installed
|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)
||/ Name           Version        Description
+++-==============-==============-============================================
ii  apt            0.3.19         Advanced front-end for dpkg
$ dpkg --status apt
Package: apt
Status: install ok installed
Priority: standard
Section: base
Installed-Size: 1391
Maintainer: APT Development Team &lt;deity@lists.debian.org&gt;
Version: 0.3.19
Replaces: deity, libapt-pkg-doc (&lt;&lt; 0.3.7), libapt-pkg-dev (&lt;&lt; 0.3.7)
Provides: libapt-pkg2.7
Depends: libapt-pkg2.7, libc6 (&gt;= 2.1.2), libstdc++2.10
Suggests: dpkg-dev
Conflicts: deity
Description: Advanced front-end for dpkg
 This is Debian's next generation front-end for the dpkg package manager.
 It provides the apt-get utility and APT dselect method that provides a
 simpler, safer way to install and upgrade packages.
 .
 APT features complete installation ordering, multiple source capability
 and several other unique features, see the Users Guide in
 /usr/doc/apt/guide.text.gz

</pre>

<hr>

#use "otherpages.inc"

#use "$(ENGLISHDIR)/Bugs/footer.inc"
