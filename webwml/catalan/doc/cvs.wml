#use wml::debian::ddp title="CVS del projecte de documentació de Debian"
#use wml::debian::toc
#use wml::debian::translation-check translation="1.20" maintainer="Jordi Mallach"

<p>El projecte de documentació de Debian (DDP) emmagatzema les seves
pàgines web i la majoria dels seus manuals de text en el servidor CVS
de Debian en <b>cvs.debian.org</b>.

<p>Tothom pot descarregar les fonts del servidor de CVS. Només els membres
del projecte de documentació de Debian poden actualitzar els fitxers.</p>

<toc-display/>

<toc-add-entry name="access">Accés a les fonts en CVS</toc-add-entry>

<p>Podeu usar una interfície viewCVS per a accedir als fitxers
individualment a traves de la web i veure els seus canvis a
<url "http://cvs.debian.org/?cvsroot=debian-doc">

<p>Per a descarregar un manual sencer, normalment una millor opció és
l'accés directe al servidor de CVS. Necessitareu el paquet <tt>
<a href="http://packages.debian.org/cvs">cvs</a></tt> en la vostra màquina.

<h3>Connectar anònimament (només lectura) al servidor de CVS</h3>

<p>Per a connectar-hi entreu aquesta ordre:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>i premeu intro quan se us demani la contrasenya.

<p>Llavors podreu usar les ordres habituals del CVS (veure les
pàgines info per a CVS) per a obtenir els fitxers, però no podreu
canviar-los ni tampoc apujar-los.

<p>Per a descarregar els fitxers per primera vegada, creeu un directori
i entreu-hi. A dins d'aquest directori se'n crearan dos, el
<strong>CVS</strong> i el <strong>ddp</strong>.

<p>Useu aquesta ordre per a descarregar-vos tots els fitxers:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Això crearà un arbre de directoris recursivament i l'omplirà.

<p>Per a actualitzar la vostra còpia local amb qualsevol canvi fet
pels demés, entreu al directori <strong>ddp/manuals.sgml</strong>
i executeu el comandament:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Una vegada que hageu finalitzat una sessió de CVS remota, useu
aquest comandament per a desconnectar-vos del servidor:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Connectar al servidor de CVS, amb privilegis d'actualització</h3>

<p>Abans d'accedir al servidor de CVS usant aquest mètode primer hi
haureu de tindre accés d'escriptura. Si us plau, primer llegiu com
<a href="#obtaining">demanar</a> permisos d'actualització.

<p>Per a connectar entreu aquest comandament:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>usuari</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>i entreu la contrasenya que heu negociat amb el coordinador de la
documentació. En l'anterior ordre, reemplaceu <var>usuari</var>
amb el nom d'usuari en el servidor de contrasenyes del CVS. Aquest no
té perquè ser el mateix nom d'accés que en <b>cvs.debian.org</b>, si es
que ja en teniu un.

<p>Ara podreu usar les ordres habituals del CVS (veure les pàgines info
per a CVS) per a obtenir els fitxers i apujar-los.

<p>Per a descarregar els fitxers per primera vegada, creeu un directori
i entreu-hi. A dins d'aquest directori se'n crearan dos, el
<strong>CVS</strong> i el <strong>ddp</strong>.

<p>Useu aquest comandament per a descarregar-vos tots els fitxers:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:usuari@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Això crearà un arbre de directoris recursivament i l'omplirà.

<p>Per a actualitzar la vostra còpia local amb qualsevol canvi fet
pels demés, entreu al directori <strong>ddp/manuals.sgml</strong>
i executeu l'ordre:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>Una vegada que hageu finalitzat una sessió de CVS remota, useu
aquest comandament per a desconnectar-vos del servidor:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Connectant al servidor de CVS usant SSH amb privilegis d'actualització</h3>

<p>Aquest mètode només està disponible per als desenvolupadors de Debian
i és preferible a l'us del pserver descrit anteriorment. Si heu estat
recentment registrat com a desenvolupador de Debian, si us plau
notifiqueu-ho al coordinador de la documentació per a esborrar el seu
compte al pserver.

<p>Per a connectar-vos usant ssh, primer li ho heu de dir al CVS, amb:

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Llavors creeu un directori i entreu-hi, després introduïu aquest
comandament:

<p style="margin-left: 2em">
  <code>cvs -d :ext:<var>usuari</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>mòdul</var></code>
</p>

<p>En l'anterior ordre, reemplaceu <var>usuari</var> amb el nom
d'usuari en el servidor de CVS. Aquest és el mateix nom d'usuari que en
totes les màquines de Debian. Reemplaceu <var>mòdul</var>
amb el nom del mòdul que desitgeu descarregar, que normalment serà
<tt>ddp/manuals.sgml</tt>. Llavors se us preguntarà per la contrasenya
en el servidor de CVS. No confongueu aquesta amb la de la vostra
màquina.

<p>A dins d'aquest directori se'n crearan dos, el <strong>CVS</strong> i
el <strong>ddp</strong>. El CVS crearà recursivament qualsevol mòdul
(p.e. directoris) que hageu demanat i els omplirà amb els fitxers.

<p>Llavors podreu usar les ordres habituals del CVS (veure les
pàgines info per a CVS) per a obtenir els fitxers i pujar-los.

<p>Per a actualitzar la vostra còpia local amb qualsevol canvi fet
pels demés, entreu al directori <strong>ddp/manuals.sgml</strong>
i executeu el comandament:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Obtenir privilegis d'actualització</toc-add-entry>

<p>Els privilegis d'actualització estan disponibles per a qualsevol que
desitgi participar en l'escriptura dels manuals. Nosaltres normalment
requerim que primer hageu enviat un parell de pedaços útils.

<p>Per a obtenir els privilegis d'actualització, envieu una petició al
<a href="mailto:aph@debian.org">coordinador de la documentació</a>, xifrada
amb la clau publica GPG per a <code>aph@debian.org</code>. En aquest correu,
heu d'incloure el nom d'usuari que desitgeu, una alternativa en cas que la
vostra primera preferència no estigui disponible i aportant una contrasenya
(ja sigui en text pla o xifrada).

<hr>

<toc-add-entry name="organization">Organització dels fitxers</toc-add-entry>

<p>Aquesta figura mostra l'estructura del l'arbre de directoris del CVS:
</p>
<div class="center">
<img src="dirtree.jpg" alt="DDP - Arbre de directoris del CVS">
</div>

<p>Si us plau noteu que el lloc web del DDP es troba en un mòdul del
repositori CVS de Debian, per a integrar-lo amb la resta de pàgines
web de Debian.

<hr>

<toc-add-entry name="updates">Sistema automàtic d'actualització</toc-add-entry>

<p>Les pàgines web publicades del text del manual són generades per
una tasca del cron que s'executa a www-master.debian.org cada dia després
de les 15:39 hora del Pacífic.

<p>L'script fa un <kbd>cvs update -d -P</kbd> i després
<kbd>make -C manuals.sgml clean publish</kbd>, ambdós en el
directori <code>ddp</code>.

<p>El makefile està configurat per a reconstruir cada subdirectori (que
contingui documentació mantinguda) i per a instal·lar els fitxers en
cada subdirectori de <code>doc/manuals/</code> del lloc web.  Els
makefiles de cada subdirectori deriven del
<code>ddp/manuals.sgml/standard.makefile</code>.

<p>Els fitxers de la documentació generats pel script d'actualització es poden
trobar en <a href="manuals/">http://www.debian.org/doc/manuals/</a>.</p>

<p>Els fitxers de registres generats pel script d'actualització es poden trobar
en <url "http://www-master.debian.org/build-logs/ddp/">.</p>

# <!-- Created: Mon Jul  6 19:58:09 BST 1998 -->
