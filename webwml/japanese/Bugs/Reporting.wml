#use wml::debian::template title="Debian BTS - バグを報告する" NOHEADER=yes NOCOPYRIGHT=true
#use wml::debian::translation-check translation="1.44"

<h1>Debian にバグを報告する方法</h1>

<h2>報告する <strong>前</strong> に注意する重要事項</h2>

<p>関係のない複数のバグ、特に異なるパッケージのものをひとつのバグ報告と
しないでください。それらを別々に送ってくれれば、大変助かります。

<p>バグ報告をする前に、すでに誰かにそのバグが報告されていないか確認すべきです。
現在の未解決バグの一覧は、<a href="./">WWW</a> や
<a href="Access">他のところ</a>にあります。
詳細は他のドキュメントを参照してください。
すでに報告されている #<var>&lt;number&gt;</var>
というバグに対してコメントを加えるには、
<var>&lt;number&gt;</var>@bugs.debian.org にメールを送ってください。
</p>

<p>どのパッケージに問題があるのか判らないときは、
<a href="mailto:debian-user@lists.debian.org">Debian
ユーザ・メーリングリスト</a>で助言を求めてください。
問題がひとつのパッケージではなくて一般的な
Debian のサービスに関わる場合は、いくつかの<a
href="pseudo-packages">擬似パッケージ</a>や<a
href="../MailingLists/">メーリングリスト</a>に対して報告するのが良いでしょう。
</p>

<p>バグ報告のコピーを、(メーリングリストなどの) 他の人にも送りたい場合は、
通常の電子メールのヘッダではなく<a
href="#xcc">下記の別の方法</a>を使うようにしてください。

<h2>自動バグ報告ツールを使ってバグ報告を送る</h2>

<p><code><a href="http://packages.debian.org/stable/utils/reportbug">reportbug</a></code>
プログラムは、バグ報告のやりかたを順を追って示しますので、
簡単にバグを報告することができます。<a
href="http://packages.debian.org/stable/utils/reportbug">reportbug</a>
と同じパッケージに入っている <kbd>querybts</kbd> ツールは、
バグ追跡システムへの便利なテキストベースのインタフェースを提供します。</p>

<p>emacs ユーザは、
<code><a href="http://packages.debian.org/stable/utils/debbugs-el">\
debbugs-el</a></code> パッケージに含まれる debian-bug
コマンドを使うこともできます。<kbd>M-x debian-bug</kbd>
と入力すると、<code>reportbug</code> とよく似たやり方で、
全ての必要事項を尋ねられます。</p>

<h2>電子メールを使ってバグ報告を送る</h2>

<P>以下に説明する手順に従って、
<A href="mailto:submit@bugs.debian.org"><code>submit@bugs.debian.org</code></A>
に電子メールを送ってください。</P>

<P>もちろんどのような電子メールでも同じですが、メールヘッダの <code>Subject</code>
行には明解でわかりやすい説明を含めなくてはいけません。
あなたがつけたサブジェクトは、
バグ追跡システムにおいてバグの最初のタイトルとして使用されます。
バグの内容がわかるようなサブジェクトをつけるよう心掛けてください！</P>

<P>メール本文の先頭に<a
name="pseudoheader">擬似ヘッダ</a>を記述しなければいけません。
つまり、メール本文の 1 行目は以下のようになります:

<pre>
Package: &lt;something&gt;
</pre>

<p><code>&lt;something&gt;</code>
の部分を、バグのあるパッケージ名に置き換えてください。

<p>2 行目は以下のようになります:

<pre>
Version: &lt;something&gt;
</pre>

<p><code>&lt;something&gt;</code>
は、パッケージのバージョンに置き換えてください。

<p>擬似ヘッダの <code>Package</code> 行は正しく記述してください。
バグ追跡システムは、パッケージのメンテナにメッセージを送るために、
この行を使っています。この情報を調べる方法の<a
href="#findpkgver">例</a>を参照してください。

<p>擬似ヘッダのフィールドは、
それぞれ行の先頭からはじまらなければいけません。</p>

<p>バグ報告には以下の情報を記述してください:</p>

<ul>
<li>画面に出力されたか、ログファイルに残されたエラーメッセージの<em>正確</em>
で<em>完全</em> な写し。これは非常に重要です！
<li>問題を再現するための正確なキー操作や手順。
<li>不正な動作についての説明。正常時に期待される動作と、
実際に起きた振舞いを正確に。これらを示すには、
実際の実行例の写しを添付すると良いでしょう。
<li>もしあれば、修正案またはパッチ。
<li>問題がおきたプログラムの詳細な設定。
設定ファイルのすべての内容を含めて下さい。
<li>バグのあるパッケージが依存しているすべてのパッケージのバージョン。
<li>現在使用しているカーネルのバージョン
(<code>uname -a</code> で調べられます)。
現在使用している共有 C ライブラリのバージョン
(<code>ls -l /lib/libc.so.6</code> や
<code>dpkg -s libc6 | grep ^Version</code> で調べられます)。
その他、必要と思われるあなたの Debian システムの詳細はなんでも。
例えば、Perl スクリプトに問題がある場合は、おそらく「perl」
バイナリのバージョンも報告すべきでしょう
(<code>perl -v</code> や <code>dpkg -s perl | grep ^Version:</code>
で調べられます)。
<li>あなたのシステムにおける必要と思われるハードウェアの詳細。
デバイスドライバの問題を報告する場合は、
システム上のすべてのハードウェアを列挙して下さい。
IRQ や I/O アドレスの衝突が原因であることがよくありますから。
</ul>

<P>その他関係ありそうな詳しい情報はなんでも書いて下さい。
情報をつめ込みすぎても長大なバグ報告になってしまう恐れはほとんどありません。
問題を再現するために使用するファイルも、
小さいものでしたら一緒にバグ報告に含めて下さい
(テキスト以外のファイルは uuencode して下さい)。</P>

<p>開発者があなたの問題を解決する手助けとなる、さらなるアドバイスもあります。
<a href="http://www.chiark.greenend.org.uk/~sgtatham/bugs.html">\
効果的なバグ報告方法</a>を読んでください。</p>


<h2><A name="example">報告例</A></h2>

<P>バグ報告はメールヘッダも含めて以下のようなものになります。

<PRE>
  To: submit@bugs.debian.org
  From: diligent@testing.linux.org
  Subject: Hello says `goodbye'

  Package: hello
  Version: 1.3-16

  When I invoke `hello' without arguments from an ordinary shell
  prompt it prints `goodbye', rather than the expected `hello, world'.
  Here is a transcript:

  $ hello
  goodbye
  $ /usr/bin/hello
  goodbye
  $

  I suggest that the output string, in hello.c, be corrected.

  I am using Debian GNU/Linux 2.2, kernel 2.2.17-pre-patch-13
  and libc6 2.1.3-10.
</PRE>



<h2><A name="xcc">バグ報告の写しを他のアドレスへ送る</A></h2>

<P>バグ報告の写しを、通常の送付先である <code>debian-bugs-dist</code> 
やパッケージメンテナ以外に送らなければならないこともあります。</P>

<P>アドレスを CC 行に記述することで、
バグ報告を別のアドレスにも送付することができますが、その写しの方には
<code>Reply-To</code> 行や
<code>Subject</code> 行にバグ報告番号が付加されません。
このようなメールに返事をする場合、おそらくヘッダに
<code>submit@bugs.debian.org</code> エントリが残されたままになりますので、
そのメッセージは新しいバグ報告として記録されてしまいます。
そのため、重複したバグ報告が多数発生してしまいます。</P>

<P><em>正しい</em> 方法は <code>X-Debbugs-CC</code> ヘッダを使用することです。
以下のような行を (<code>Package</code> フィールドがある擬似ヘッダ
<strong>ではなく</strong>) メッセージのメールヘッダに追加して下さい。</P>
<pre>
 X-Debbugs-CC: other-list@cosmic.edu
</pre>
<P>このように記述すると、バグ追跡システムは <code>debian-bugs-dist</code>
と同様に <code>X-Debbugs-CC</code> 
行に書いてあるアドレスにもバグ報告を送付します。</P>

<p>メールのループを回避するチェックに引っかかってしまうので、
このような写しを他のバグ報告のアドレスに送るのは避けてください。
この仕組みにより付けられたバグ番号は、新しいものに置き換えられてしまうので、
このような用途に <code>X-Debbugs-CC</code>
を使うのはあまり意味がありません。代わりに通常の <code>CC</code>
ヘッダを使ってください。</p>

<P>この機能は、<code>quiet</code>
へ送付する時に組みあわせると有効であることが多いです。
以下を参照して下さい。</P>


<h2><A name="severities">重要度 (severity レベル)</A></h2>

<P>報告するバグが特に深刻である場合や、単に将来的な要望である場合、
バグ報告を行う際にそのバグの重要度 (severity レベル)
を設定することができます。しかし、これは必須ではありません。
あなたが指定していない場合は、開発者があなたの報告に対して適切な
severity レベルを指定することもあります。</P>

<p>重要度を設定するには、以下のように<a
href="#pseudoheader">擬似ヘッダ</a>を記述してください:

<pre>
Severity: &lt;<var>severity</var>&gt;
</pre>

<p>&lt;<var>severity</var>&gt; は有効な重要度に置き換えてください。
重要度については、<A
href="Developer#severities">開発者用文書</A>に記載されています。</P>

<h2><a name="tags">タグを設定する</a></h2>

<p>報告するバグにタグを設定することができます。例えば、
もしあなたがパッチをバグ報告に含めた場合、<code>patch</code>
タグを設定したいかもしれません。これは必須ではありませんが、
あなたの報告が適切なら開発者がタグを設定するでしょう。</p>

<p>タグを設定するには、<a
href="#pseudoheader">擬似ヘッダ</a>にこのような行を付け加えてください:</p>

<pre>
Tags: &lt;<var>tags</var>&gt;
</pre>

<p>&lt;<var>tags</var>&gt; を
<a href="Developer#tags">開発者文書</a> に記載されているような、
1つ以上の利用可能なタグで置きかえてください。
複数のタグは、コンマ、スペース、またはその両方で区切ってください。</p>

<h2>別の報告用アドレス (ちょっとした、あるいは大量のバグ報告)</h2>

<p>バグ報告がささいなこと、
たとえばドキュメントの誤字やちょっとしたパッケージ構築の問題などの場合は、
適切な重要度を設定したうえで
<code>submit@bugs</code> のかわりに <code>maintonly@bugs</code>
に報告してください。
<code>maintonly</code> は、バグ報告をパッケージメンテナだけに転送して
BTS メーリングリストには転送しません。

<p>一度にたくさんのバグ報告をする場合は、絶対に
<code>maintonly@bugs</code> を使うべきです。これにより、BTS
メーリングリストに冗長なトラフィックをおこすことを避けられます。
たくさんの同じようなバグ報告をする前に、要約を <code>debian-bugs-dist</code>
にポストする方が良いでしょう。

<p>すでにメンテナに知らせてあるバグ報告をバグ追跡システムに送りたい場合には、
<code>quiet@bugs</code> が使えます。<code>quiet@bugs</code>
に送ったバグ報告はどこにも転送されずに、ただ記録だけされます。

<p>別の報告用アドレスを使った場合は、
バグ報告システムは転送するメッセージに対して、
その返信がデフォルトで元の報告と同様に処理されるように
<code>Reply-To</code> を設定します。つまり、<code>maintonly</code>
への返信は <var>nnn</var><code>@bugs</code> ではなく
<var>nnn</var><code>-maintonly@bugs</code> になるということです。
もちろん、返信者がわざと書き換えていなければ、ですが。


<h2>受信通知</h2>

<p>通常バグ追跡システムは、
新しいバグを報告したり既存のバグに追加の情報を提出したときに、
報告者にメールで受信通知を返します。もしこの受信通知を受け取りたくなければ、
<code>X-Debbugs-No-Ack</code> ヘッダをメールに入れてください
(このヘッダの中身は重要ではありません。しかし、
場所はメールヘッダ内であることに注意してください。
<code>Package</code> フィールドがある疑似ヘッダ内では <em>ありません</em>)。
このヘッダを使って新しいバグを報告した場合、
バグ番号を得るのに自らウェブインタフェースを確認する必要があります。</p>

<p>このヘッダは、<code>control@bugs</code>
メールサーバからの通知を妨げませんので、注意が必要です。これらの通知には、
読んで対処すべきエラーメッセージが含まれているかもしれないからです。</p>


<h3>不明なパッケージに対するバグ報告</h3>

<P>関連するパッケージのメンテナが不明の場合、
宛て先が <code>maintonly</code> であっても、
バグ追跡システムはそのバグ報告を <code>debian-bugs-dist</code> 
に転送します。</P>

<P><code>maintonly@bugs</code> または
<var>nnn</var><code>-maintonly@bugs</code>
に送付する際は、
送付するバグ報告がパッケージを正しく指定していることを確認して下さい。
新たにバグ報告を発行する場合は、その本文先頭に <code>Package</code>
行を正しく記載してください。
既に報告されているバグ報告のパッケージ名等が誤っている場合は、先に
<A href="server-control"><code>control@bugs</code>
サービス</A>を利用して適切なものへ (再) 指定してください。</P>

<h2><a name="findpkgver"><code>dpkg</code>
を使ってバグ報告に必要なパッケージ名とバージョンを調べる</a></h2>

<P>あるコマンドについてバグ報告をする場合は、<code>dpkg --search</code>
を使うと、どのパッケージからインストールされたか調べられます。
<code>dpkg --list</code> や <code>dpkg --status</code>
を使うとインストール済パッケージのバージョンがわかります。
</P>

<P>例:
<pre>
$ which apt-get
/usr/bin/apt-get
$ type apt-get
apt-get is /usr/bin/apt-get
$ dpkg --search /usr/bin/apt-get
apt: /usr/bin/apt-get
$ dpkg --list apt
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Installed/Config-files/Unpacked/Failed-config/Half-installed
|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)
||/ Name           Version        Description
+++-==============-==============-============================================
ii  apt            0.3.19         Advanced front-end for dpkg
$ dpkg --status apt
Package: apt
Status: install ok installed
Priority: standard
Section: base
Installed-Size: 1391
Maintainer: APT Development Team &lt;deity@lists.debian.org&gt;
Version: 0.3.19
Replaces: deity, libapt-pkg-doc (&lt;&lt; 0.3.7), libapt-pkg-dev (&lt;&lt; 0.3.7)
Provides: libapt-pkg2.7
Depends: libapt-pkg2.7, libc6 (&gt;= 2.1.2), libstdc++2.10
Suggests: dpkg-dev
Conflicts: deity
Description: Advanced front-end for dpkg
 This is Debian's next generation front-end for the dpkg package manager.
 It provides the apt-get utility and APT dselect method that provides a
 simpler, safer way to install and upgrade packages.
 .
 APT features complete installation ordering, multiple source capability
 and several other unique features, see the Users Guide in
 /usr/doc/apt/guide.text.gz

</pre>

<hr>

#use "otherpages.inc"

#use "$(ENGLISHDIR)/Bugs/footer.inc"
