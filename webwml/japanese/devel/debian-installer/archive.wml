#use wml::debian::template title="apt 可能な d-i アーカイブの設定" NOHEADER="true"
#use wml::debian::recent_list
#use wml::debian::translation-check translation="1.4"

    <h1>apt-ftparchive が udeb を扱えるように設定</h1>

    <p>apt-ftparchive は、udeb を正しく扱うのにいくらか調整が必要です。
    次のようにしてください。</p>

<pre>
Dir {
    ArchiveDir "/home/tfheen/public_html/d-i";
    OverrideDir "indices";
    CacheDir "indices";
};

TreeDefault {
        Directory "pool/";
};

BinDirectory "pool/main" {
     Packages "dists/sid/main/debian-installer/binary-i386/Packages";
     BinOverride "override";
     ExtraOverride "override.extra";
};

Default {
        Packages {
                 Extensions ".udeb";
                 };
};
</pre>

    <p>当然、パスなどは自分の環境に合わせて調整が必要です。実際に Packages
    ファイルを生成するには、次のようにしてください。</p>
    <ol> 
      <li>パスの構成要素が全て存在することを確認してください (<code>mkdir
    -p dists/sid/main/debian-installer/binary-i386</code>)。</li>
      <li>次のようなコマンドを実行します。
        <code>apt-ftparchive generate config</code> (<kbd>config</kbd>
        というファイルに上の設定を書いている場合)</li>
    </ol>

    <hrline>
    <address><a href="mailto:tfheen@debian.org">Tollef Fog Heen</a></address>
