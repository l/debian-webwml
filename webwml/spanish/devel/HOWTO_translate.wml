#!wml -o ../../../debian.org/devel/%BASE.html.es
#use wml::debian::template title="Debian GNU/Linux - HOWTO translate Debian pages"

<H1>COMO traducir páginas Debian</H1>

<P>Gracias por ayudarnos a traducir las páginas web de Debian.
En lugar de tener un número de diferentes sitios que hospeden versiones
específicas de cada idioma de las páginas web, se espera que la gente
se concentre en mantener un sitio primario que hospede las
traducciones de un conjunto común de páginas web.

<H3>Antecedentes</H3>
<P>Todos los archivos manuscritos (no de documentación) del sitio web se
generan usando wml. Se almacenan en www.debian.org usando CVS.
Usted puede querer sacar una copia local de los archivos wml para editarlos
en su máquina personal. Cuando haya hecho los cambios, puede
publicarlos de nuevo en www.debian.org. Una vez al día, se actualizará
la copia del repositorio en cvs.debian.org. Entonces se ejecuta
sobre ellos un Makefile para crear las páginas web públicas actualizadas.

<H3>Uso de CVS</H3>
<P>En lo que sigue se usará el acceso anónimo como ejemplo. Si
tiene acceso a otra cuenta que le de permiso de escritura en el
repositorio entonces debería usar esa cuenta en su lugar.
Para comenzar a usar CVS, primero debe inscribirse ('login') en el servidor CVS
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml login
</pre>
(únicamente presione intro como contraseña para acceso anónimo)

<P>Para sacar una copia de los archivos wml en su máquina local,
necesita usar
<pre>
   cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/&lt;lang&gt;
</pre>
donde &lt;lang&gt; es el idioma que usted quiere. Probablemente querrá
la versión en ingles además del idioma en que esté trabajando.
Si únicamente necesita un subconjunto de las páginas, puede sacar sólo las que necesita,
p.e. cvs -d :pserver:anonymous@cvs.debian.org:/cvs/webwml checkout webwml/english/SPI .

<P>A partir de ahora, no necesitará usar la parte '-d :pserver:...' 
ya que los directorios CVS/ contienen la información necesaria.
Cada pocos dias querrá hacer un
<pre>
   cvs update
</pre>
para recuperar cualquier archivo del repositorio que haya cambiado.

<P>Lo que sigue es para aquellos que tienen permiso de escritura en el repositorio.The following is for those who have write permission on the repository.
Cuando esté contento con la página, puede remitir sus cambios al repositorio usando
<pre>
   cvs commit &lt;file&gt;.wml
</pre>
o
<pre>
   cvs commit &lt;dir&gt;   (para remitir los cambios en <dir>)
</pre>
o
<pre>
   cvs commit          (para remitir todos los cambios desde el directorio actual hacia abajo)
</pre>

<P>Si es la primera persona que traduce una página, neceita hacer
<pre>
   cvs add &lt;file&gt;.wml
</pre>
antes de publicarla.

<P>Para más información sobre CVS, use 'info cvs'.

<H3>Traducción de páginas</H3>
<P>Para hacer el trabajo de los traductores tan fácil como sea posible las
páginas se generan de forma un poco diferente a la que muchos de
ustedes estará acostumbrado. Las páginas web en realidad se generan
usando un fuente que está marcado con wml. Hay
directorios separados para cada idioma. Para traducir a un
nuevo idioma, primero alguien debe traducir los archivos de plantilla wml
(no es mucho trabajo).

<P>Debido a la forma en que se ajustan los servidores web, no debería
tener que cambiar ningún enlace interno. Hay veces en que
puede querer hacer un cambio en el contenido cuando está
traduciendo. Un ejemplo es la página de soporte, probablemente usted
querrá incluir un ejemplo de como subscribirse a la
lista de correo de su idioma específico, p.e. debian-french en las
páginas de la versión francesa. Si hace cualquier otro cambio, 
por favor notifíquelo
<a href="mailto:debian-www@lists.debian.org">debian-www@lists.debian.org</a>
ya que se desea mantener el contenido tan similar como sea posible
entre las diferentes versiones.

<P>La primera vez que se traduzca una página, mande una nota a
<a href="mailto:debian-www@lists.debian.org">debian-www@lists.debian.org</a>
Debe ejecutarse un script sobre las páginas para re-hacer las versiones de
otros idiomas de forma que sepan acerca de la nueva traducción.

<P>Espero que encuentre que el trabajo que hemos hecho hará la traducción
de las páginas tan fácil como sea posible.

<H3>¿Como sabe el servidor que archivos servir?</H3>
<P>Se dará cuenta que los enlaces internos no terminan en .html. Esto
es porque el servidor usa la negociacion de contenido para decidir
que versión del documento repartir. Cuando hay más
de una elección, el servidor hará una lista de todos los posibles
archivos a servir, p.e. si la petición es para 'acerca de', entonces la lista
de terminaciones podria ser about.html.en y about.html.de.
Por defecto, los servidores Debian servirán el documento
inglés, pero esto es configurable.

<P>Si un cliente tiene establecida la variable adecuada para, por ejemplo,servir en Alemán,
entonces en el ejemplo anterior se serviría about.html.de . Lo
bonito de este ajuste es que si el idioma deseado no
está disponible, un idioma diferente se entregará en su lugar
(que optimistamente es mejor que nada). La decisión de que
documento se sirve es un poco confusa por tanto en lugar de describirla
aquí, debe obtener la respuesta definitiva de
<a href="http://www.apache.org/docs/content-negotiation.html">http://www.apache.org/docs/content-negotiation.html</a>
si está interesado.

<P>Dado que muchos usuarios no sabrán de la existencia de la negociación de contenido,
en el final de cada página hay enlaces que apuntan directamente
a la versión de esa página en cada uno de los idiomas disponibles.
Esto se hace usando un script en perl que es llamado por wml cuando
se genera la página. 

<H3>Ejemplo de como empezar una traducción</H3>
Se usará el Francés como ejemplo
<pre>
   cvs checkout webwml/english
   cd webwml
   mkdir french
   cvs add french
   cd french
   cp ../english/.wmlrc .
editar y cambiar '-D CUR_LANG=English' to '-D CUR_LANG=French'
   cp -r ../english/template .
editar template/debian/* y traducir cualquier texto. Esto debería ser bastante sencillo
   cp ../english/Makefile .
editar y cambiar 'LANG=en' to 'LANG=fr'
Además descomente todos los objetivos después de 'all:' excepto para los archivos que se han traducido
En cada directorio el makefile compilará todos los archivos .wml que encuentre. Si
no quiere o no tiene creado un subdirectorio y su correspondiente Makefile
necesitará eliminar la linea apropiada del Makefile. Probablemente
encontrará más fácil crear todos los directorios y makefiles desde el principio.

</pre>
Finalmente, puede comenzar a traducir las páginas.

<H3>Ejemplo de como traducir una página</H3>
Se usará como ejemplo una traducción al Francés del contrato social
<pre>
   cvs checkout webwml/english webwml/french
   cd webwml/french
   cp ../english/social_contract.wml .
   cvs add social_contract.wml
editar social_contract.wml y traducir el texto. No trate de traducir ningún
enlace o lo cambie de alguna manera.
Cuando esté hecho
   cvs commit -m "breve descripción de los cambios realizados" social_contract.wml
</pre>

<H3>Compilar wml</H3>
Se asume que tiene instalado wml en su máquina.
Simplemente escriba
<pre>
   make
</pre>
en webwml/&lt;lang&gt;. La página se hará en ../../debian.org desde el
directorio idioma. Esto es porque ahí es donde los archivos .html son relativos
a los fuentes wml en el sitio maestro. Tendrá que crear este dir y cualquier otro
subdir que necesite o el Makefile fallará.

<P>La única dependencia de la que tiene que tener cuidado es que la página principal
(index.html) depende de news.wml por lo que necesita traducir esta primero. Si el equipo de
traducción no quiere traducir news.wml entonces cambie las dependencias en el Makefile
para que sea ../english/news.wml y cambie
<pre>
  open(FILEH, "&lt;news.wml");
</pre>
en template/debian/recent_news.wml a
<pre>
  open(FILEH, "&lt;../english/news.wml");
</pre>

<:= languages ("$(HOME)", "devel", "$(WML_SRC_BASENAME)", "$(CUR_LANG)") :>
