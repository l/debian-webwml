#use wml::debian::template title="Replicación" 
<!--translation 1.7-->
#use wml::debian::translation-check translation="1.7"

<P>El mundo es un servidor muy grande y sin el gran n&uacute;mero de
servidores espejo (r&eacute;plicas) alrededor del mundo mucha gente tendr&iacute;a
dificultades para adquirir Debian.

<P>Por supuesto, esto significa que necesitamos gente para crear y mantener
estas estas r&eacute;plicas. Con esto queremos decirle que si est&aacute; en posici&oacute;n de donar
espacio en disco o conectividad para hacer Debian mas accesible, entonces esta
p&aacute;gina es para usted.

<P>Debian tiene tanto archivos ftp como servidores web. El archivo ftp contiene
todos los paquetes, los fuentes y el material de intalaci&oacute;n. El servidor web
contiene informaci&oacute;n b&aacute;sica sobre Debian, documentaci&oacute;n, material para
desarrolladores y enlaces a servidores relacionados. Puede elegir entre replicar 
el servidor web, el ftp o ambos. Incluso puede guardar una r&eacute;plica privada, aunque la
mayor&iacute;a de la gente elige a&ntilde;adir los servidores de ftp a la <A HREF="../misc/README.mirrors">lista de r&eacute;plicas</A>.

<H2>Replicas oficiales</H2>
<P>Adicionalmente, puede elegir convertirse en un servidor oficial Debian.
Los servidores oficiales tienen una direcci&oacute;n de la forma ftp.&lt;pa&iacute;s&gt;.debian.org
o www.&lt;pa&iacute;s&gt;.debian.org. Estos son los servidores m&aacute;s anunciados y 
m&aacute;s usados; son la cara de Debian para la mayor&iacute;a de la gente. Por eso
hay ciertos requerimientos m&iacute;nimos para los servidores oficiales:

<UL>
<LI>El servidor debe ser seguro y funcionar 24 horas al d&iacute;a. La m&aacute;quina no
    debe esta muy cargada.
<LI>Debe tener una conectividad decente (relativa al respectivo pa&iacute;s).
   Se prefieren anchos de banda equivalentes a una conexi&oacute;n T1.
<LI>Para ftp: la jerarqu&iacute;a ftp de debian debe estar disponible bajo /debian
   Esto se hace para mantener la consistencia entre servidores.
<LI>Para ftp: estamos pidiendo que todos los nuevos servidores de ftp oficiales tambi&eacute;n hagan
   asequibles los archivos ftp usando http (el servidor ftp://ftp.servidor.debian debería ser accesible como http://ftp.servidor.debian). Con transferencias http/1.1 potencialmente podemos ser
   m&aacute;s eficientes que con ftp por tanto estamos intentando movernos en esa direcci&oacute;n.
   Por supuesto, agradecer&iacute;amos que todas las r&eacute;plicas permitieran acceso http.
<LI>Para www: un servidor virtual real con su propia direcci&oacute;n IP. Si es posible
            deber&iacute;a rplicarse tambi&eacute;n los archivos de listas y errores (v&eacute;a las notas
            sobre replicaci&oacute;n m&aacute;s abajo).
<LI>Para www: los scripts cgi se ejecutan centralmente en cgi.debian.org por tanto
   no necesita preocuparse de ellos.
<LI>Para www: debe permitirse la negociaci&oacute;n de contenido. Esto es para permitirnos servir
   las p&aacute;ginas web en lenguajes m&uacute;ltiples de forma transparente (para los que tengan
   su navegador ajustado adecuadamente). Apache soporta esto muy bien. Si tiene
   preguntas sobre esto, por favor envie un mensaje a 
   <A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>
<LI>Compromisos de espacio en disco (con servidor para ampliaci&oacute;n):
            1+GB para www (incluye archivos de listas y errores),
            6+GB para ftp
<LI>La r&eacute;plica debe actualizarse al menos una vez al d&iacute;a. Si es posible, replicar los
    archivos de erro m&aacute;s frecuentemente.
</UL>
Por favor, dese cuenta que esto son s&oacute;lo directrices. Si no esta seguro de algo,
envie una nota a <A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>
con sus preguntas.

<P>Si quisiera convertirse en un servidor espejo oficial, mande el nombre y
direcci&oacute;n de la m&aacute;quina junto con el nombre y direcci&oacute;n de correo de la persona
que vaya a mantener la r&eacute;plica a
<A HREF="mailto:webmaster@debian.org">webmaster@debian.org</A>. El webmaster
establecer&aacute; la DNS, y si es un servidor ftp lo agregar&aacute; a la lista de r&eacute;plicas.
Cuando todo funcione, su servidor ser&aacute; agregado a las p&aacute;ginas web.

<P>Actualmente se ha establecido s&oacute;lo un servidor oficial por pa&iacute;s. Si su
pa&iacute;s ya tiene uno, a&uacute;n puede establecer un servidor espejo no oficial. 
Debian a&uacute;n est&aacute; buscando r&eacute;plicas oficiales en Am&eacute;rica del sur y Africa
(objetivos a largo plazo incluyen la Ant&aacute;rtica y una r&eacute;plica en el espacio. No se ria,
ya hemos realizado experimentos en la lanzadera espacial).

<H2>Replicaci&oacute;n</H2>
La replicaci&oacute;n es igual tanto para los servidores oficiales como para los no oficiales.
Para los servidores de ftp simplemente replique
<A HREF="ftp://debian.crosslink.net/pub/debian">ftp://debian.crosslink.net/pub/debian</A>.
Para los servidores web replique
<A HREF="ftp://debian.crosslink.net/www/debian.org">ftp://debian.crosslink.net/www/debian.org</A>
y
<A HREF="ftp://debian.crosslink.net/www/debian.org-local">ftp://debian.crosslink.net/www/debian.org-local</A>.
Por supuesto puede elegir replicar un servidor mas cercano a usted.

<P>Las r&eacute;plicas FTP deber&iacute;an registrarse en Debian para que fueran incluidas en la
lista de r&eacute;plicas. Env&iacute;e un mensaje a<A HREF="mailto:mirrors@debian.org">mirrors@debian.org</A>
con el nombre del responsable de la r&eacute;plica, el servidor espejo, y el camino hasta el
archivo debian.

<P> S&oacute;lo unas notas para las r&eacute;plicas web: debian.org tiene enlaces a debian.org-local
por tanto su servidor web debe permitir enlaces simb&oacute;licos. Adem&aacute;s, si su m&aacute;quina ejecuta
Debian, se ha decidido romper la pol&iacute;tica Debian y usar /doc en las p&aacute;ginas web.
Quiere decirse que en srm.conf deber&iacute;a comentar 'Alias /doc/ /usr/doc/' .
Usted puede y debe remplazar sponsor.html y sponsor_img.jpg. Son para que
usted ponga un anuncio en su servidor de forma  que la gente sepa quien es el patrocinador.
Los originales est&aacute;n en sponsor.deb.html y sponsor.deb.jpg ya que el servidor que est&aacute;
replicando puede haber remplazado los suministrados por Debian como ejemplos.
El tama&ntilde;o m&aacute;ximo sugerido para su logotipo es 120x60.

<H2>Programas para replicar</H2>
La mayor&iacute;a de la gente replica usando ftp an&oacute;nimo. Para esto, el programa 'mirror' funciona
bien sobre el archivo ftp. well on the ftp archive. A menos que tenga un mont&oacute;n de RAM (con 75MB se ha informado
que funciana), 'mirror' tiene problemas replicando debian.org-local porque las listas de error
tienen un gran n&uacute;mero de archivos. El creador de mirror es consciente del problema y
se supone que lo solucionar&aacute; en una futura versi&oacute;n.
Como probablemente ha supuesto,  'mirror' est&aacute; disponible como paquete Debian.
Si ha instalado el paquete Debian, tendr&aacute; un script de ejemplo para replicar
el archivo ftp en /etc/mirror/packages/ftp.debian.org .

<P>Si tiene una cuenta en la m&aacute;quiena que est&aacute; replicando, mucha
gente prefiere rsync. Adem&aacute;s de funcionar mejor con archivos grandes,
le permite usar ssh para una conexi&oacute;n segura.
Puede encontrar util mirar un <A HREF="rsync_examples">ejemplo</A>
sobre el uso de rsync par replicar Debian. Use la versi&oacute;n 1.7.4 de rsync o posterior
ya que las versiones anteriores usaban mucha m&aacute;s memoria.

<P>Mientras que wget funciona bien para replicar servidores peque&ntilde;os, no es tan eficiente
como mirror o rsync por lo que no es recomendable para esta tarea.

<H2>Negociaci&oacute;n de contenido</H2>
La negociaci&oacute;n de contenido es un m&eacute;todo que permite a un navegador negociar con
un servidor el tipo de documento que debe servirse. Aunque hay un n&uacute;mero de
usos para esto, el m&aacute;s com&uacute;n es negociar en que lenguaje debe servirse
un documento. Usar esto permitir&aacute; a Debian servir sus p&aacute;ginas en
multiples lenguajes de una forma (t&eacute;cnicamente) muy elegante.

<P>Para los que est&aacute;n usando Apache, el cambio es casi trivial. Simplemente
a&ntilde;ada a /etc/apache/access.conf una secci&oacute;n similar a la siquiente (substituya
el directorio que contiene las p&aacute;ginas web por /debian/web) y reinicie
el servidor (este ejemplo funciona con las versiones de apache 1.3 beta y posteriores):
<blockquote><pre>
&lt;Directory /debian/web&gt;
Options +Multiviews   
&lt;/Directory&gt;
</pre></blockquote>

<H2>Otros cambios en el servidor web</H2>
Para servir correctamente archivos &iacute;ndice de directorios, probablemente necesitar&aacute;
modificar la entrada DirectoryIndex en /etc/apache/srm.conf. Lo siguiente deber&iacute;a
ser suficiente:
<pre>
   DirectoryIndex index index.html index.shtml index.htm
</pre>
Adicionalmente, necesita asegurarse de que el servidor puede manejar todos los idiomas
en que estar&aacute; el servidor web. Esto se hace usando la etiqueta AddLanguage. Lo
siguiente es s&oacute;lo un ejemplo - se espera a&ntilde;adir m&aacute;s posteriormente:
<pre>
   AddLanguage en .en
   AddLanguage fr .fr                                                       
   AddLanguage de .de                         
   AddLanguage it .it
   AddLanguage es .es
   AddLanguage ja .ja
   AddLanguage da .da
</pre>

