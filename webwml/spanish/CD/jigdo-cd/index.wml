#use wml::debian::cdimage title="Descargar imágenes de CDs de Debian con jigdo" BARETITLE=true
#use wml::debian::toc
#use wml::debian::translation-check translation="1.28"
# $Id$

<p>Jigsaw Download, o en corto <a href="http://atterer.net/jigdo/">jigdo</a>,
se propone como la forma principal de distribuir imágenes de CDs de Debian
en el futuro. Actualmente, el sistema funciona, pero no es aún muy cómodo de
usar porque la aplicación gestora de descargas no está terminada.</p>

<toc-display/>

<hr>

<toc-add-entry name="why">¿Por qué es jigdo mejor que una descarga
directa?</toc-add-entry>

<p>Porque es más rápido. Por varias razones, hay muchos menos réplicas para
imágenes de CDs que para el archivo «normal» de Debian. Consecuentemente,
si descarga desde una réplica de imágenes de CDs, esa réplica
estará más lejos de su ubicación, además de sobrecargado,
especialmente justo después de una liberación.</p>

<p>Por supuesto, una réplica de Debian «normal» no lleva ninguna
imagen de CD, entonces ¿cómo las descarga jigdo de allí? jigdo lo logra
descargando individualmente todos los archivos que están en el CD. En el
siguiente paso, todos estos archivos se ensamblan en un archivo más grande
que es una copia exacta de la imagen del CD. Sin embargo, todo esto
ocurre entre bambalinas - todo lo que <em>usted</em> tiene que hacer es
decirle a la herramienta de descarga la localización de un archivo
"<tt>.jigdo</tt>" para procesarlo.</p>

<p>Dispone de más información en la
<a href="http://atterer.net/jigdo/">página de jigdo</a>.
¡Siempre serán bienvenidos los voluntarios que quieran ayudar a
desarrollar jigdo!</p>

<toc-add-entry name="how">Cómo descargar una imagen con jigdo</toc-add-entry>

<ul>

  <li>Descargue un paquete que contenga <tt>jigdo-lite</tt>, que está
  disponible para GNU/Linux, Windows y Solaris en la
  <a href="http://atterer.net/jigdo/#download">página de jigdo</a>.
  <br><strong>Usuarios de Debian, actualícense al menos a la versión
  0.6.8</strong> (¡la versión que hay en Debian 3.0 no es suficiente para
  descargar las últimas imágenes!)</li>

  <li>Ejecute el script <tt>jigdo-lite</tt>. Le pedirá la URL de un
  fichero «<tt>.jigdo</tt>» para procesar (puede proporcionar una URL en
  la línea de órdenes si así lo desea).</li>

  <li>Indique lo que quiere descargar de <a href="#which">uno de estos
  sitios</a>, e introduzca la URL de ese fichero «<tt>.jigdo</tt>».</li>

  <li>Siga las instrucciones que imprima el script. Si todo va bien, el
  script terminará calculando una suma de comprobación de la imagen
  generada, y diciéndole que la suma coincide con la imagen original.</li>

</ul>

<p>Si desea una descripción detallada y paso por paso de este proceso,
eche un vistazo al <a href="http://www.tldp.org/HOWTO/mini/Debian-Jigdo/">
Debian jigdo mini-COMO</a>. Este COMO explica también las características 
avanzadas de jigdo, como actualización de versiones antiguas de imágenes de 
CD a la versión actual (descargando sólo lo que cambió, no la imagen entera).</p>

<p>Una vez que haya descargado las imágenes y las haya escrito en CD,
asegúrese de leer la <a
href="$(HOME)/releases/stable/installmanual">información detallada sobre
el proceso de instalación</a>.</p>

<toc-add-entry name="which">Imágenes disponibles</toc-add-entry>

<ul>

  <li>Ficheros jigdo oficiales para la versión "estable" publicada en CD:
  <a href="http://us.cdimage.debian.org/jigdo-area/current/jigdo/">réplica
  en USA</a>,
  <a href="http://non-us.cdimage.debian.org/jigdo-area/current/jigdo/">
  réplica en Europa</a></li>

</ul>

<ul>

  <li>Ficheros jigdo oficiales para la <a
  href="http://gluck.debian.org/debian-cd/testing/jigdo-area/">\
  distribución «testing»</a> en CD (<em>todas las arquitecturas, se
  regenera semanalmente</em>)</li>
  <br>
  Actualmente no se puede arrancar ni instalar usando los CD de
  «testing» o «unstable» (úselos sólo para actualizar desde estable).</li>
 
</ul>

<ul>

  <li>Ficheros jigdo no oficiales para la
  <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sarge/jigdo/">\
  distribución «testing»</a> en CD, (<em>i386, regenerados a diario</em>)</li>

  <li>Ficheros jigdo no oficiales para la
  <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sarge-dvd/jigdo/">\
  distribución «testing»</a> en DVD, (<em>i386, regenerados a diario</em>)</li>

  <li>Ficheros jigdo no oficiales para la
  <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid/jigdo/">\
  distribución «unstable»</a> en CD, (<em>i386, regenerados a diario</em>)</li>

  <li>Ficheros jigdo no oficiales para la
  <a href="ftp://ftp.fsn.hu/pub/CDROM-Images/debian-unofficial/sid-dvd/jigdo/">\
  distribución «unstable»</a> en DVD, (<em>i386, regenerados a diario</em>)
  <br>
  Actualmente <strong>no</strong> se puede descargar los DVD con Windows.</li>

</ul>

<hr>

<toc-add-entry name="faq">Preguntas Hechas/Respondidas con
Frecuencia</toc-add-entry>

<p><strong>¿Cómo hago que jigdo use mi proxy?</strong></p>

<p>Cargue el fichero <tt>~/.jigdo-lite</tt> (o
<tt>jigdo-lite-settings.txt</tt> para la versión de Windows) en un editor
de texto y encuentre la línea que comienza por 'wgetOpts'. Ahí puede
añadir las siguientes opciones:</p>

<p><tt>-e ftp_proxy=http://<i>LOCAL-PROXY</i>:<i>PUERTO</i>/</tt>
<br><tt>-e http_proxy=http://<i>LOCAL-PROXY</i>:<i>PUERTO</i>/</tt>
<br><tt>--proxy-user=<i>USUARIO</i></tt>
<br><tt>--proxy-passwd=<i>CLAVE</i></tt></p>

<p>Poniendo los valores correctos para su servidor proxy, claro. Las
últimas dos opciones sólo son necesarias si su proxy usa autenticación
mediante clave. Debe añadir las opciones al final de la línea de wgetOpts
<em>antes</em> del último caracter <tt>'</tt>. Todas las opciones deben
estar en la misma línea.</p>

<p>En Linux también puede configurar, de forma alternativa, las variables
de entorno <tt>ftp_proxy</tt> y <tt>http_proxy</tt>, por ejemplo en el
fichero <tt>/etc/environment</tt> o en <tt>~/.bashrc</tt>.</p>

<p><strong>¡Aargh! El script falló por un error - ¿he bajado en vano
todos esos MBs?</strong></p>

<p>Por supuesto que esto No Debería Ocurrir(tm), pero por varios motivos
puede acabar en un estado donde ya se haya generado un archivo grande
"<tt>.iso.tmp</tt>" y <tt>jigdo-lite</tt> parece tener problemas,
diciéndole repetidamente que intente reiniciar la descarga. Hay algunas
cosas posibles que intentar en este caso:</p>

<ul>

  <li>Simplemente reinicie la descarga pulsando Intro. Puede que
  algunos de los archivos no pudieran ser descargados debido a excesos
  de tiempo u otros errores pasajeros - se intentará otra vez
  descargar todos los archivos perdidos.</li>

  <li>Pruebe una réplica diferente. Algunas réplicas de Debian están faltas de
  sincronía - puede que una réplica diferente tenga los archivos que fueron
  borrados de la que especificó, o ya ha actualizado los archivos que aún no
  están presentes en su réplica.</li>

  <li>Recupere las partes perdidas de la imagen usando <tt><a
  href="http://rsync.samba.org/">rsync</a></tt>. Primero, necesita
  encontrar la URL correcta de rsync de la imagen que está descargando:
  Seleccione un servidor que ofrezca acceso rsync a las imágenes <a
  href="../mirroring/rsync-mirrors">estable</a> o <a
  href="../http-ftp/#testing">testing</a>, luego determine la ruta
  correcta y el nombre del archivo. Se puede obtener el listado del
  directorio con comandos como
  <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>

  <br>Luego, borre la extensión "<tt>.tmp</tt>" del archivo temporal
  de <tt>jigdo-lite</tt> renombrándolo, y pase ambos (la URL remota y
  el nombre del archivo local) a rsync:
  <tt>rsync&nbsp;rsync://server.org/path/binary-i386-1.iso
  binary-i386-1.iso</tt>

  <br>Puede querer usar las opciones <tt>--verbose</tt> y
  <tt>--progress</tt> para obtener mensajes de estado, y
  <tt>--block-size=8192</tt> para incrementar su velocidad.</li>
  <li>Si todo lo demás falla, no habrá perdido los datos de su descarga:
  Si usa Linux, puede montar el fichero <tt>.tmp</tt> para acceder a los
  paquetes que se logró descargar, y reutilizarlos para generar una imagen
  partiendo de un fichero jigdo más nuevo (por ejemplo, la "captura"
  diaria de «testing» si la descarga que falló también era de testing).
  Para hacerlo, ejecute estas órdenes siendo root, en el directorio de la
  descarga fallida: <tt>mkdir&nbsp;mnt;
  mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt>
  Luego, inicie una nueva descarga en un directorio diferente, e
  introduzca el camino completo del directorio <tt>mnt</tt> cuando se le
  pregunte por «Files to scan» (<i>ficheros a examinar</i>).</li>

</ul>
