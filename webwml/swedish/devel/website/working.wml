#use wml::debian::template title="Hur man arbetar på Debians webbsidor" BARETITLE=true
#use wml::debian::translation-check translation="1.13"

<h2>Allmän information</h2>

<h3>Resurskrav</h3>

<p>
Om du vill arbeta på vår webbplats bör du vara beredd på att lagra
åtminstone 60 Mbyte data på din disk.
Detta tal gäller den aktuella storleken för källkodsarkivet, om du (av
misstag) bygger samtliga sidor behöver du det dubbla.
Om du gör en delvis uthämtning kan du behöva betydligt mindre utrymme,
t.ex 18 Mbyte för english/.

<h3>Delvisa uthämtningar</h3>

<p>Många hämtar inte ut hela <code>webwml</code>-CVS-trädet, vilket ibland
leder till saknade filer och trasiga byggningar om en viktig ny fil läggs
till och man inte gör en komplett <kbd>cvs update</kbd> i katalogen.
Kom ihåg att kontrollera om att du har samtliga krävda filer (som
.wmlrc-filer) innan du klagar till oss.

<h3>"Kan jag modifiera den här sidan?"</h3>

<p>Det beror på.
Om du ser ett litet fel, exempelvis en felstavning, så rätta till det.

<p>
Om du tycker att någonting är fult och måste skrivas om, skriv om det på
debian-www så att det kan diskuteras.
Vi håller antagligen med dig.

<p>
Om du upptäcker ett problem i en mall (dvs. en fil i katalogen
webwml/english/template/debian), tänk igenom ändringen innan du lägger in
den, eftersom ändringar i mallar ofta gör att stora delar av webbplatsen
måste byggas om.

<H3>När du lägger till nya kataloger, lägg även til Makefile</H3>

<P>Man bör ha viss omsorg vad det gäller att lägga till nya kataloger till
CVS-trädet.
Om den nya katalogen listas i ../Makefile <b>måste</b> du lägga in en
Makefile i den - i annat fall kommer <tt>make</tt> att ge ett felmeddelande.

<h3>"Det här länken ser fel ut. Ska jag ändra den?"</h3>

<P>På grund av det sätt som webbservrarna är konfigurerade (med
<a href="content_negotiation">"content negotiation"</a>)
ska du inte behöva ändra någon av de interna länkarna,
faktum är att vi föreslår att du inte gör det.
Skriv till debian-www om du anser att en länk är felaktig innan du ändrar
den.

<h3>Rätta länkar</h3>

<p>Om du upptäcker att en länk till en extern webbisda ger en omdirigering
(301, 302, en &lt;meta&gt;-omdirigering eller en sida som säger "Denna sida
har flyttat"), berätta det för debian-www.

<p>Om du hittar en trasig länk (404, 403, eller en sida som inte är vad
länken säger att det skall vara), rätta den och berätta för debian-www så
att översättarna är medvetna om det.
Eller ännu bättre, rätta länken i alla andra översättningar, och uppdatera
translation-check-huvudet om möjligt. :-)

<h3>Se README-filerna</h3>

<p>Några av katalogerna innehåller README-filer för att hjälpa dig förstå
hur katalogen är organiserad.
Dessa bör tillhandahålla den specifika information som krävs när du jobbar
med det området.

<h3>"Vad är raderna som börjar på "#" för något?"</h3>

<p>I wml är en rad som börjar på "#" en kommentar.
Dessa föreslås framför html-kommentarer eftersom de inte syns på den färdiga
sidan.

<h3>"Vad gör foo.def- och foo.data-filerna?"</h3>

<p>För att göra det enklare att hålla översättningarna uppdaterade plockar
vi ut de generella delarna (data) från de textuella delarna (text) av
dylika sidor.
Normalt sett behöver översättarna bara kopiera och översätta textdelen av
dessa sidor, de generella delarna läggs till automatiskt.

<p>Skivor i datafilerna uppdateras normal ytterst sällan, och en notis
därom postas vanligtvis på debian-www när så sker.

<p>Ett exempel för att göra det lättare att förstå; det behövs tre filer för
att generera sidan med återförsäljare i <code>distrib/vendors</code>:

<p>
<dl compact>
 <dt><code>vendors.wml</code>:
  <dd>Texten överst på återförsäljarsidan finns i denna fil.
      En översatt kopia av denna läggs i din språkkatalog.
 <dt><code>vendors.CD.def</code>:
  <dd>Denna fil innehåller de textdelar som behövs för varje
      återförsäljarpost.
      Du lägger dina översättningar direkt i originalfilen, vilken finns i
      english/distrib/vendors.CD.def.
 <dt><code>vendors.CD</code>:
  <dd>På grund av det stora antalet återförsäljare ligger själva
      återförsäljardata i en separat fil.
      Du behöver inte röra denna fil.
</dl>

<p>Nya återförsäljare läggs till av en av webbmästarna, som ändrar vendors.CD.
Nästa gång webbsidorna uppdateras kommer samtliga översättningar automatiskt
byggas om.
(En uppdaterad översättning utan extra kostnad! :-)


<h2>Lägga till nya sidor</h2>

<p>Att lägga till nya sidor till Debian är rätt så enkelt, allt arbete med
att få sidhuvud och -fot rätt görs med wml.
Allt du behöver göra är att inkludera en rad ungefär som denna överst i den
nya filen:

<pre><protect>
#use wml::debian::template title="SIDTITEL" 
</protect></pre>

<p>följd av sidkroppen.
Alla sidor bör använda mallen <code>wml::debian::template</code>,
såvida de inte använder
en specialmall för just den sektionen, t.ex nyhets- eller säkerhetssidorna.

<p>Mallarna vi har tillåter dig definiera vissa variabler som
påverkar sidan som skapas, vilket bör minska nödvändigheten av att skapa
olika mallar för varje situation, och gör det enklare att implementera
förbättringar.
De variabler som för närvarande finns tillgängliga är:
<dl>
 <dt>BARETITLE="true"
 <dd>Tar bort "Debian GNU/Linux --"-delen som vanligtivs läggs till i
     början av alla &lt;title&gt;-märken.

 <dt>NOHEADER="true"
 <dd>Tar bort det inledande sidhuvudet från sidan.
     Ett speciellt sidhuvud kan naturligtvis inkluderas i sidkroppen.

 <dt>NOMIRRORS="true"
 <dd>Tar bort speglingsvallistan från sidan.
     Det är normalt inte rekommenderat att använda detta, förutom på
     en handfull sidor.

 <dt>NOHOMELINK="true"
 <dd>Tar bort länken tillbaka till Debians huvudsida, vilken normalt
     sett läggs in nederst på sidan.

 <dt>NOLANGUAGES="true"
 <dd>Tar bort länken till de olika språkversionerna, vilka normalt
     sett läggs in nederst på sidan.

 <dt>GEN_TIME="true"
 <dd>Sätter datumet i den resulterande filen till datumstämpeln på
     den genererade filen, istället för datumet på källfilen.

 <dt>NOCOPYRIGHT="true"
 <dd>Tar bort upphovsrättsinformationen nederst på sidan.
</dl>

<p>Notera att du kan använda vilken sträng som helst som värde för dessa
variabler, "true", "yes", "löksoppa", det spelar ingen roll.

<p>Ett exempel på hur detta används finns på anpassningssidorna vilka
har sina egna sidhuvuden.
<code>ports/arm/index.wml</code> använder:

<pre><protect>
#use wml::debian::template title="ARM Port" NOHEADER="yes"
</protect></pre>

<p>Om du vill göra något som inte kan göras med de existerande mallarna bör
du först överväga om det går att utöka en existerande.
Om det inte är möjligt att göra det på ett bakåtkompatibelt sätt, försök
göra en ny mall som har en existerande som delmängd, så att de sidor som
använder den gamla kan konverteras till den nya vid nästa större uppdatering
(vilket förhoppningsvis inte behöver ske oftare än var sjätte månad).

<p>Om du skapar en sida som genereras av ett skript, eller som inte har så
mycket brödtext bör du överväga att använda wml:s "slices"-filter för att
göra det enklare att hålla översättningarna uppdaterade.
Ett bra exempel på detta är i <kbd>distrib/vendors.wml</kbd>, där nya
distributörer kan läggas till, vilket får till följd att tillägget
inkluderas i alla språkversioner automatiskt.
<kbd>vendors.wml</kbd> inkluderar <kbd>vendors.CD</kbd>, vilken innehåller
den faktiska listan.
Den filen inkluderar i sin tur <kbd>distrib/vendors.CD.def</kbd> som
innehåller definitionen av alla fraser i <kbd>vendors.CD</kbd>.

<p>
Översättare behöver bara lägga till översättningar för varje "slice", t.ex

<pre><protect>
	[EN:Country:]
	[ES:Pa-is:]
	[DE:Land:]
</protect></pre>

<h2>Lägga till nya kataloger</h2>

<p>Observera:
Skapa <strong>inte</strong> kataloger med namnet <code>install</code>,
då detta ställer till
problem med make vilka leder till att sidorna i den katalogen inte kommer
att uppdateras automatiskt.

<p>Nedan följer ett förklarat exempel om hur nya kataloger läggs till
webbplatsen:
<pre>
   mkdir foo
   cvs add foo
   cd foo
   cp ../intro/Makefile .
   cvs add Makefile
</pre>

<p>Redigera Makefile i moderkatalogen, och lägg till katalogen du just
skapade i <code>SUBS</code>-variabeln,
vilket kommer att lägga till katalogen till byggcykeln när make körs.

<p>Slutligen lägger du in alla ändringar du just gjort i CVS-trädet genom
att skriva
<pre>
  cvs commit Makefile foo
</pre>
