#use wml::debian::cdimage title="Hämta Debian-cd-avbildningar med jigdo" BARETITLE=true
#use wml::debian::translation-check translation="1.57"
#use wml::debian::toc
#use wml::debian::installer
#include "$(ENGLISHDIR)/releases/info"

<p>Jigsaw Download (ungefär <em>pusselhämtning</em>),
förkortat <a href="http://atterer.net/jigdo/">jigdo</a>,
har som mål att vara huvudmetoden för att distribuera Debian-cd-avbildningar
i framtiden.
För närvarande fungerar systemet, men det är ännu inte väldigt behagligt att
använda då programmet som styr överföringarna ännu inte är färdigt.
</p>

<toc-display/>

<hr>

<toc-add-entry name="why">Varför är jigdo bättre än direkta
överföringar?</toc-add-entry>

<p>
Därför att det är snabbare!
Av olika orsaker finns det betydligt färre speglar av cd-avbildningarna än
för det &rdquo;vanliga&rdquo; Debianarkivet.
Om du hämtar från cd-avbildningsspeglar kommer därmed den inte bara att vara
längre från dig, den kommer även att vara överbelastad, speciellt efter att en
ny utgåva släppts.</p>

<p>
Dessutom finns inte vissa typer av avbildningar som kompletta
<tt>.iso</tt>-filer eftersom vi inte har tillräckligt med utrymme på våra
servrar för att lagra dem.
</p>

<p>Naturligtvis har inte en &rdquo;normal&rdquo; Debianspegel cd-avbildningar,
så hur kan jigdo hämta dem där?
Jigdo gör detta genom att hämta alla filer som finns på cd:n individuellt.
I nästa steg byggs alla dessa filer ihop till en enda stor fil, vilken
är en exakt kopia av cd-avbildningen.
Allt detta sker dock i bakgrunden &ndash; allt <em>du</em> behöver göra är
att tala om för hämtningsverktyget var &rdquo;<tt>.jigdo</tt>&rdquo;-filen som
skall användas finns.</p>

<p>
Ytterligare information finns på
<a href="http://atterer.net/jigdo/">jigdos webbsida</a>.
Frivilliga som kan hjälpa till med utvecklingen av jigdo är alltid välkomna!
</p>

<toc-add-entry name="how">Hur man hämtar en avbildning med
jigdo</toc-add-entry>

<ul>
 <li>
  Hämta ett paket som innehåller <tt>jigdo-lite</tt>, som finns för
  GNU/Linux, Windows och Solaris från
  <a href="http://atterer.net/jigdo/">jigdos webbsida</a>.
  För FreeBSD installerar du från /usr/ports/ftp/jigdo eller hämtar paketet
  med <tt>pkg_add -r jigdo</tt>.
  </li>

  <li>Kör skriptet <tt>jigdo-lite</tt>.
  Det kommer be dig om adressen till en &rdquo;<tt>.jigdo</tt>&rdquo;-fil att
  använda.
  (Du kan även ange den adressen på kommandoraden om du så önskar.)</li>

 <li>
  Välj den &rdquo;<tt>.jigdo</tt>&rdquo;-fil du vill hämta från en av platserna
  <a href="#which">nedan</a>,
  och ange dess adress när <tt>jigdo-lite</tt> ber om det.
  Varje &rdquo;<tt>.jigdo</tt>&rdquo;-fil motsvarar en
  &rdquo;<tt>.iso</tt>&rdquo;-fil (cd-/dvd-avbildning).
 </li>

 <li>
  Om du kör programmet för första gången trycker du bara Return vid
  frågan &rdquo;<span lang="en">Files to scan</span>&rdquo;.
 </li>

 <li>
  Vid frågan &rdquo;<span lang="en">Debian mirror</span>&rdquo; anger
  du <kbd>http://ftp.<strong><var>XY</var></strong>.debian.org/debian/</kbd>,
  där <strong><var>XY</var></strong> är tvåbokstavskoden för ditt land
  (till exempel <tt>se</tt>, <tt>fi</tt>, <tt>no</tt>, <tt>dk</tt>,
  <tt>uk</tt>, <tt>us</tt>, se den aktuella förteckningen över
  <a href="$(HOME)/mirror/list">tillängliga
  ftp.<var>XY</var>.debian.org-platser</a>).
 </li>

<if-stable-release release="woody">
 <li>
  Vid frågan &rdquo;<span lang="en">Debian non-US mirror</span>&rdquo;
  (om den visas) anger du
  <kbd>http://ftp.<strong><var>XX</var></strong>.debian.org/debian-non-US/</kbd>,
  där du återigen anger rätt kod istället för <strong><var>XX</var></strong>.
 </li>
</if-stable-release>

  <li>Följ instruktionerna som ges av skriptet.
  Om allt fungerar som det skall kommer skriptet till slut att beräkna en
  kontrollsumma för den genererade avbildningen och berätta att denna
  summa motsvarar originalavbildningens.</li>

</ul>

<p>
För detaljerad steg-för-steg-information om hur detta fungerar, se
<a href="http://www.tldp.org/HOWTO/mini/Debian-Jigdo/">Debians mini-HOWTO för jigdo</a>.
Dokumentet beskriver jigdos avancerade funktioner, som att uppgradera äldre
versioner av en cd-avbildning till den aktuella versioner (genom att endast
hämta det som har ändras, inte hela den nya avbildningen).
</p>

<p>När du väl har hämtat avbildningarna och skrivit ned dem till cd bör du
läsa de
<a href="$(HOME)/releases/stable/installmanual">detaljerade instruktionerna
om installationsprocessen</a>.</p>

<toc-add-entry name="which">Officiella avbildningar</toc-add-entry>

<if-stable-release release="sarge">

<ul>

  <li>Officiella jigdo-filer för den stabila utgåvan på cd:<br>
  <images-list url="http://cdimage.debian.org/debian-cd/current/@ARCH@/jigdo-cd/" />
  </li>

  <li>Officiella jigdo-filer för den stabila utgåvan på dvd:<br>
  <images-list url="http://cdimage.debian.org/debian-cd/current/@ARCH@/jigdo-dvd/" />
  </li>  

</ul>

</if-stable-release>

<if-stable-release release="woody">

<ul>
 <li>Officiella jigdo-filer för den stabila utgåvan på cd:
     <a href="http://us.cdimage.debian.org/jigdo-area/current-cd/jigdo/">
     USA-spegel</a>,
     <a href="http://non-us.cdimage.debian.org/jigdo-area/current-cd/jigdo/">
     europeisk spegel</a>.
     Denna innehåller vanliga cd-avbildningar och avbildningar för
     uppdaterings-cd från rev0 till rev5.
 </li>

 <li>Officiella jigdo-filer för den stabila utgåvan på dvd:
     <a href="http://us.cdimage.debian.org/jigdo-area/current-dvd/jigdo/">
     USA-spegel</a>,
     <a href="http://non-us.cdimage.debian.org/jigdo-area/current-dvd/jigdo/">
     europeisk spegel</a>.
 </li>  
</ul>

</if-stable-release>

<ul>
 <li>Officiella jigdo-filer för
     <a href="http://cdimage.debian.org/pub/cdimage-testing/cd/jigdo-area/">
     uttestningsutgåvan</a> (&rdquo;testing&rdquo;) på cd
     (<em>samtliga arkitekturer, genereras varje vecka</em>)
 </li>
 <li>Officiella jigdo-filer för
     <a href="http://cdimage.debian.org/pub/cdimage-testing/dvd/jigdo-area/">
     uttestningsutgåvan</a> (&rdquo;testing&rdquo;) på dvd
     (<em>samtliga arkitekturer, genereras varje vecka</em>)
 </li>
</ul>

<hr>

<toc-add-entry name="search">Sök i innehållet i
<tt>.jigdo</tt>-filer</toc-add-entry>

<p><strong>Vilken cd-/dvd-avbildning innehåller en specifik fil?</strong>
Nedan kan du söka i filförteckningen inuti <tt>.jigdo</tt>-filer.
Du kan ange flera ord, varje ord måste stämma mot en delsträng i filnamnet.
Du kan t.ex lägga till &rdquo;_i386&rdquo; för att begränsa resultaten till
en viss arkitektur.
Lägg till &rdquo;_all&rdquo; för att se paket som är identiska för alla
arkitekturer.
</p>

<form method="get" action="http://atterer.net/jigdo/jigdo-search.php">
 <p>
  <input type="text" name="q" size="20" value="">
  <input type="submit" value="Search">
 </p>
</form>

<p>
<strong>Vilka filer ingår i en specifik avbildning?</strong>
Om du behöver en förteckning över <em>samtliga</em> filer på en specifik
Debian cd/dvd letar du på avbildningens <tt>.jigdo</tt>-fil i listan och
klickar på &rdquo;<span lang="en">list contents</span>&rdquo; efter
respektive URL:
<a href="http://atterer.net/jigdo/jigdo-search.php?list">Förteckning över
Debians <tt>.jigdo</tt>-filer</a>.
</p>

<hr>

<toc-add-entry name="faq">Ofta ställda och besvarade frågor</toc-add-entry>

<p><strong>Hur får jag jigdo att använda min mellanserver (proxy)?</strong></p>


<p>Öppna filen <tt>~/.jigdo-lite</tt>
(eller <tt>jigdo-lite-settings.txt</tt> för Windowsversionen)
i ett textredigeringsprogram och leta på raden som börjar med
&rdquo;wgetOpts&rdquo;.
Följande flaggor kan läggas till på denna rad:</p>

<p><tt>-e ftp_proxy=http://<i>LOKAL-MELLANSERVER</i>:<i>PORT</i>/</tt>  
<br><tt>-e http_proxy=http://<i>LOKAL-MELLANSERVER</i>:<i>PORT</i>/</tt>
<br><tt>--proxy-user=<i>ANVÄNDARE</i></tt>
<br><tt>--proxy-passwd=<i>LÖSENORD</i></tt></p>

<p>Du skall självklart skriva dit riktiga värden för din mellanserver.
De sista två flaggorna är endast nödvändiga om mellanservern kräver
lösenordsautentisering.
Flaggorna måste läggas till i slutet av wgetOpts-raden, <em>före</em> det
avslutande <tt>'</tt>-tecknet.
Alla flaggor måste skrivas på samma rad.</p>

<p>Alternativt kan du under Linux även ange
miljövariablerna <tt>http_proxy</tt> och <tt>ftp_proxy</tt>,
till exempel i filen <tt>/etc/environment</tt> eller <tt>~/.bashrc</tt>.</p>

<p><strong>Blä! Skriptet stannar med ett fel &ndash; har jag hämtat alla
dessa megabyte till ingen nytta?!</strong></p>

<p>Detta skall naturligtvis Inte Hända(tm), men av olika orsaker kan du hamna i
en situation där du har en stor &rdquo;<tt>.iso.tmp</tt>&rdquo;-fil som redan
har genererats och <tt>jigdo-lite</tt> verkar ha problem och talar vid upprepade
tillfällen om för dig att försöka återstarta överföringen.
Det finns flera saker att testa i detta fall:
</p>

<ul>
 <li>Starta om överföringen genom att trycka Enter.
     Kanske kunde några av filerna inte hämtas på grund av att något tog för
     lång tid, eller andra övergående fel &ndash; ett nytt försök kommer
     att göras att hämta saknade filer.
 </li>

 <li>Försök med en annan spegel.
     Vissa Debianspeglar kan vara något ur synk &ndash; kanske har en
     annan spegel fortfarande filer som tagits bort från den du angav,
     eller har redan uppdaterats med filer som ännu inte finns på din.
 </li>

 <li>Hämta de de saknade delarna av avbildningen med
     <tt><a href="http://rsync.samba.org/">rsync</a></tt>.
     För det första måste du ta reda på den korrekta rsync-URL:en för den
     avbildning du hämtar:
     Välj en server som tillhandahåller rsync-åtkomst till de
     <a href="../mirroring/rsync-mirrors">stabila</a> eller
     <a href="../http-ftp/#testing">uttestnings-</a>avbildningarna,
     och avgör sedan korrekt sökväg och filnamn.
     Kataloglistningar kan hämtas med kommandon på formen
     <tt>rsync&nbsp;rsync://cdimage.debian.org/debian-cd/</tt>

     <br>Ta sedan bort filändelsen &rdquo;<tt>.tmp</tt>&rdquo; från
     <tt>jigdo-lite</tt>s temporärfil genom att byta namn på den, och
     ge både fjärr-URL:en och det lokala filnamnet till rsync:
     <tt>rsync&nbsp;rsync://server.org/sökväg/binary-i386-1.iso
     binary-i386-1.iso</tt>

     <br>Du kan även använda flaggorna <tt>--verbose</tt> och
     <tt>--progress</tt> hos rsync för att få statusmeddelanden, och
     <tt>--block-size=8192</tt> för att öka dess hastighet.</li>

 <li>Om allt annat misslyckas är dina hämtade data fortfarande inte förlorade:
     Under Linux kan du slingmontera <tt>.tmp</tt>-filen för att nå de
     paket som redan har hämtats och återanvända dem för att generera en
     avbildning från en nyare jigdo-fil (såsom senaste veckans
     ögonblicksbild från uttestningsversionen om den misslyckade
     hämtningen även den var en ögonblicksbild).
     För att göra detta ger du följande kommando som root i katalogen där
     den misslyckade hämtningen gjordes:
     <tt>mkdir&nbsp;mnt;
     mount&nbsp;-t&nbsp;iso9660&nbsp;-o&nbsp;loop&nbsp;*.tmp&nbsp;mnt</tt>.
     Därefter startar du en ny hämtningen i en annan katalog och anger
     sökvägen till <tt>mnt</tt>-katalogen vid frågan om &rdquo;Filer att
     avsöka&rdquo;.</li>
</ul>
