#use wml::debian::ddp title="CVS för Debian Documentation Project"
#use wml::debian::translation-check translation="1.22"
#use wml::debian::toc

# <h1>CVS-åtkomst till DDP-dokument</h1>

<p>Debian Documentation Project lagrar sina webbsidor samt stora delar av
manualtexterna på Debians cvs-server <b>cvs.debian.org</b>.
</p>

<p>Vem som helst kan hämta källkoden från cvs-servern.
Endast Debian Documentation Projects medlemmar kan uppdatera filer.
</p>

<toc-display/>

<toc-add-entry name="access">Nå källkoden i cvs</toc-add-entry>

<p>
Tillgång till de individuella filerna och ändringarna i dem kan fås via
webben via viewcvs-gränssnittet på
<url "http://cvs.debian.org/?cvsroot=debian-doc">
</p>

<p>Du kan använda ett
<a href="http://cvs.debian.org/ddp/manuals.sgml/?cvsroot=debian-doc">
webbgränssnitt</a>
för att komma åt filer individuellt och se ändringarna på dem.

<p>För att hämta en hel manual är direktåtkomst till cvs-servern oftast
ett bättre val.
Du måste då installera
<tt><a href="http://packages.debian.org/cvs">cvs</a></tt>-paketet
på din egen maskin.

<h3>Ansluta anonymt (skrivskyddat) till cvs-servern</h3>

<p>För att ansluta ger du detta kommando:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>och trycker bara Enter när du ombeds ange ett lösenord.

<p>Du kan sedan använda normala cvs-kommandon (se cvs' infosidor) för att hämta
ut filer, men du kan inte ändra och sända in dem.

<p>För att hämta filerna för första gången skapar du en katalog att lägga det
i, och går till denna katalog.
Två kataloger, <strong>cvs</strong> och <strong>ddp</strong> kommer skapas inuti
denna katalog.

<p>Använd detta kommando för att hämta alla filer:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:anonymous@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Detta kommer att skapa och fylla alla kataloger rekursivt.

<p>För att uppdatera din lokala kopia med ändringar gjorda av andra går du
in i katalogen <strong>ddp/manuals.sgml</strong> och kör kommandot:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>När du är klar med en fjärrsession mot cvs, ger du detta kommando för
att koppla ned från servern:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Ansluta mot cvs-server med uppdateringsprivilegier</h3>

<p>Innan du ansluter till cvs-servern med denna metod måste du först få
skrivåtkomst till den.
Läs mer om hur du
<a href="#obtaining">efterfrågar</a>
uppdateringsprivilegier först.

<p>För att ansluta ger du detta kommando:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>användar-id</var>@cvs.debian.org:/cvs/debian-doc login</code>
</p>

<p>och ange det lösenord du förhandlat med dokumentationssamordnaren.
I kommandot ovan ersätter du <var>användar-id</var> med ditt egen användar-id
på cvs-lösenordsservern; det är inte nödvändigtvis samma som ditt
användar-id på <b>cvs.debian.org</b>, om du har ett sådant.

<p>Du kan sedan använda normala cvs-kommandon (se cvs' infosidor) för att hämta
ut och sända in filer.

<p>För att hämta filerna för första gången skapar du en katalog att lägga det
i, och går till denna katalog.
Två kataloger, <strong>cvs</strong> och <strong>ddp</strong> kommer skapas inuti
denna katalog.

<p>Använd detta kommando för att hämta alla filer:

<p style="margin-left: 2em">
  <code>cvs -d :pserver:<var>användar-id</var>@cvs.debian.org:/cvs/debian-doc -z3 checkout ddp/manuals.sgml</code>
</p>

<p>Detta kommer att skapa och fylla alla kataloger rekursivt.

<p>För att uppdatera din lokala kopia med ändringar gjorda av andra går du
in i katalogen <strong>ddp/manuals.sgml</strong> och kör kommandot:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<p>När du är klar med en fjärrsession mot cvs, ger du detta kommando för
att koppla ned från servern:

<p style="margin-left: 2em">
  <code>cvs logout</code>
</p>

<h3>Ansluta till cvs-servern med uppdateringsprivilegier, med ssh</h3>

<p>Denna metod kan endast användas av registrerade Debianutvecklar
och föredras framför pserver-metoden ovan.
Om du nyligen har registrerats som Debianutvecklare ber vi dig tala om
detta för dokumentationssamordnaren så att ditt pserver-konto kan tas
bort.

<p>För att ansluta med ssh talar du först om för cvs att använda det med:

<p style="margin-left: 2em">
  <code>export CVS_RSH=ssh</code>
</p>

<p>Skapa sedan en katalog att lägga det i, gå till denna katalog och ge detta
kommando:

<p style="margin-left: 2em">
  <code>cvs -d :ext:<i>användar-id</i>@cvs.debian.org:/cvs/debian-doc -z3 checkout <var>modul</var></code>
</p>

<p>I kommandot ovan ersätter du <var>användar-id</var> med ditt eget användar-id på
cvs-servern.
Det är inte nödvändigtvis detsamma som ditt inloggningsnamn på alla
Debianmaskiner.
Ersätt <var>modul</var> med namnet på den modul du vill hämta ut, vanligtvis är
detta <tt>ddp/manuals.sgml</tt>.
Du ombeds sedan ange ditt lösenord på cvs-servern.
Blanda inte samman detta med din egen maskin.

<p>Två kataloger, <strong>CVS</strong> och <strong>ddp</strong> kommer skapas
inuti denna katalog.
CVS kommer rekursivt skapa de moduler (dvs. kataloger) du efterfrågade, och
fylla dem med filer.

<p>Du kan sedan använda normala cvs-kommandon (se cvs-infosidorna) för att hämta
ut och sända in filer.

<p>För att uppdatera din lokala kopia med ändringar gjorda av andra går du
in i katalogen <strong>ddp/manuals.sgml</strong> och kör kommandot:

<p style="margin-left: 2em">
  <code>cvs -z3 update -d -P</code>
</p>

<toc-add-entry name="obtaining">Få uppdateringsprivilegier</toc-add-entry>

<p>Uppdateringsprivilegier är tillgängliga för alla som önskar delta i att
skriva manualerna.
Vi ber normalt om att du sänt in några användbara patchar först.
</p>

<p>För att få uppdateringsprivilegier sänder du en förfrågan till
<a href="mailto:debian-doc@lists.debian.org">sändlistan för dokumentation i
Debian</a>.
Förklara varför du behöver tillgång.
Din förfrågan måste tillstyrkas av antingen dokumentationssamordnaren eller
av en relevant medlem av Debians dokumentationsgrupp.
När så skett ber du denne sända en (signerad) förfrågan till
<a href="mailto:debian-admin@lists.debian.org">debian-admin</a>.
</p>

<p>
Om du är Debianutvecklare kommer du, när du fått tillgång, läggas till
gruppen <tt>cvs_doc</tt> på <tt>cvs.debian.org</tt> och därmed få tillgång
till att uppdatera CVS:en.
</p>

<p>
Om du inte är Debianutvecklare måste du när du får tillgång ange ett
användar-id och ett lösenord.
Användar-id:t får inte vara samma som ett befintligt Debiankonto (se
<a href="http://db.debian.org">db.debian.org</a>).
Lösenordet får inte sändas utan kryptering via e-post, även om cvs sänder det
okrypterat över nätverket.
</p>

<p>
Du kan använda <tt>makepasswd</tt> för att generera ditt lösenord; allt du
behöver göra är att installera paketet och köra:
</p>

<pre>
$ echo "HEMLIGT" |makepasswd --clearfrom=- --crypt
</pre>

<p>
Ett annat enkelt sätt att kryptera ett lösenord är genom att använda ett
enrads-Perlskript eftersom Perl redan är installerat på din Debian
GNU/Linux-maskin:
</p>

<pre>
$ perl -e "printf \"%s\n\", crypt ("HEMLIGT", join ('', ('.', '/', 0..9, 'A'.. 'Z', 'a'..'z')[rand (64), rand (64)]))"
</pre>

<p>
Sänd resultatet, tillsammans med önskat användar-id, till
<a href="joey@debian.org">Martin Schulze</a>.
Kryptera hela brevet med
<a href="http://db.debian.org/fetchkey.cgi?fingerprint=B53FE57BD0C1F689FCE25">hans
GnuPG-nyckel</a>.
</p>

<p>
För vidare information, läs hans
<a href="http://people.debian.org/~joey/misc/webwml.html">noter</a>
om proceduren.
</p>

<hr>

<toc-add-entry name="organization">Filernas organisation</toc-add-entry>

<p>Denna figur visar strukturen på cvs-katalogträdet:

<p><img src="dirtree.jpg" align="middle" alt="DDPs cvs-katalogträd">

<p>Observera att DDPs webbplats befinner sig i webwml-modulen i Debians
cvs-server, så att den kan integreras med resten av Debians webbsidor.

<hr>

<toc-add-entry name="updates">Automatisk uppdateringsmekanism</toc-add-entry>

<p>De publicerade webbversionerna av manualtexterna genereras av ett cronjobb
som körs på www-master.debian.org varje dag någon gång efter 15:39
stillahavstid.

<p>Skriptet utför kommandot <kbd>cvs update -d -P</kbd> och sedan
<kbd>Make -C manuals.sgml clean publish</kbd>, båda i
<code>ddp</code>-katalogen.

<p><span lang=en>Makefile</span>n är skriven så att den bygger om varje
katalog (som innehåller dokumentation som underhålls) och installerar
filerna från varje katalog i underkatalogen <code>doc/manuals/</code> på
webbplatsen.
Underkatalogen makefiles bygger på
<code>ddp/manuals.sgml/standard.makefile</code>.

<p>Dokumentationsfilerna som genereras av uppdateringsskriptet finns under
<a href="manuals/">http://www.debian.org/doc/manuals/</a>.
</p>

<p>Loggfilerna som genereras av uppdateringsskriptet finns på
<url "http://www-master.debian.org/build-logs/ddp/">
</p>
