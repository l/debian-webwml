#use wml::debian::template title="Råd om lokalanpassning av Debconfmallar"
#include "$(ENGLISHDIR)/international/l10n/templates/menu.inc"
#use wml::debian::translation-check translation="1.7"

<h2>Koncept</h2>
<p>
För att hålla sina översättningar à jour måste ett internationaliserat
program ge översättare ett lätt sätt att upptäcka och rätta
föråldrade översättningar.
</p>

<p>
En Debconfmallfil innehåller fält och värden.
Översatta fält följer ett bestämt namngivningsformat, t.ex står
<code>Description-sv</code> för en spansk beskrivning.
Faktiskt kommer <code>Description-sv_SE</code>
(eller <code>Description-sv_FI</code>, eller vad det vara månde)
att kontrolleras först.
</p>

<p>
För att därför upptäcka föråldrade översättningar måste man veta
vilken sträng översättningen grundar sig på.
Debconfs metod är att bara ha originalfälten i mallfilen
(<code>templates</code>) och lägga in översatta fält tillsammans med
motsvarande engelska fält i en annan fil, med namnet
<code>templates.xx</code> eller <code>templates.xx_XX</code>
beroende på språknamnet.
Råd ges nedan för att förenkla arbetet med separata filer.
</p>

<h2>Första översättning</h2>

<p>
Innan du arbetar på ett paket, kontrollera på
<a href="http://auric.debian.org/~grisu/debian_translation/">
Grisus mallöversättningsserver</a> och i felrapporteringssystemet att
ingen översättning redan sänts till den ansvariga.
När detta är gjort, hämtar du mallfilerna från
<a href="./">språkets sida</a> eller från länken ovan, och kör sedan
</p>
<pre>$ debconf-getlang xx templates &gt; templates.xx</pre>
<p>
för att generera filer med tomma översatta fält.
Ta inte bort originalfälten, de är nödvändiga för att spåra föråldrade
översättningar!
När du är klar, kontrollera att alla strängar är översatta genom att köra
</p>
<pre>$ debconf-getlang --stats templates templates.xx</pre>
<p>   
och sänd sedan den översatta filen till den paketansvariga.
</p>

<h2>Slå ihop översättningar</h2>

<p>
Eftersom den ansvariga också har läst den här sidan vet han att, för
att förenkla översättarnas jobb, får han inte slå ihop mallarna, utan
behålla filen som den är i <tt>debian</tt>-katalogen.
</p>

<p>
De översatta mallfilerna slås endast ihop när binärpaketet byggs.
Debhelper gör detta automatiskt åt dig om du använder kommandot
<tt>dh_installdebconf</tt> i din <tt>debian/rules</tt>.
I annat fall lägger du till ett kommando på formen
</p>
<pre>$ cd debian &amp;&amp; debconf-mergetemplate templates templates.* &gt; tmp/DEBIAN/templates</pre>

<p>
Så, den ansvariga får översatta mallfiler och lägger dem på rätt plats,
det är allt.
</p>

<h2>Uppdatera översättningar</h2>
<p>
Nu har de första översättningarna integrerats, men ordalydelsen har förbättrats
i de engelska mallarna.
Ändringar i originalmallarna måste läggas in.
Återigen gör <tt>debconf-getlang</tt> det åt dig:
</p>
<pre>$ debconf-getlang xx templates templates.xx &gt; new.xx</pre>
<p>
lägger till <tt>-fuzzy</tt>-märkningar till föråldrade fält och lägger in
tomrader precis ovanför.
Översättaren redigerar sedan <tt>new.xx</tt> och arbetar på föråldrade
översättningar för att sedan testa dem med
</p>
<pre>$ debconf-getlang --stats templates new.xx</pre>
<p>
när alla strängar är färdiga.
Han byter sedan namn på filen från <tt>new.xx</tt> till <tt>templates.xx</tt>
och sänder denna fil till den ansvariga, som utför samma procedur som beskrivs
i föregående kapitel.
</p>

<h2>Komplett exempel</h2>

<p>
Här följer ett helt påhittat exempel vilket illustrerar stegen ovan.
Ponera följande mallfil, vilken för enkelhetens skull kallas
<code>debconf.templates</code>:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Slang, Text, Editor, Dialog, Gnome, Noninteractive
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The slang frontend provides a colorful, full-screen, character based
 windowing interface, while the text frontend uses a more traditional plain
 text interface, and the gnome frontend is a modern X interface. The editor
 frontend lets you configure things using your favorite text editor.  The
 noninteractive frontend never asks you any questions. The dialog frontend
 is a primitive frontend that is being phased out.
</pre>

<p>
För att översätta till svenska skrev översättaren:
</p>

<pre>$ debconf-getlang sv debconf.templates &gt; debconf.templates.sv</pre>

<p>
vilket skapade denna <code>debconf.templates.sv</code> med tommma
översättningsfält:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Slang, Text, Editor, Dialog, Gnome, Noninteractive
<b>Choices-sv:</b>
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The slang frontend provides a colorful, full-screen, character based
 windowing interface, while the text frontend uses a more traditional plain
 text interface, and the gnome frontend is a modern X interface. The editor
 frontend lets you configure things using your favorite text editor.  The
 noninteractive frontend never asks you any questions. The dialog frontend
 is a primitive frontend that is being phased out.
<b>Description-sv:</b>
</pre>

<p>
När de tomma fälten har fyllts ut får översättaren denna
<code>debconf.templates.sv</code>:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Slang, Text, Editor, Dialog, Gnome, Noninteractive
Choices-sv: Slang, Text, Textbehandlare, Dialog, Gnome, Ickeinteraktiv
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The slang frontend provides a colorful, full-screen, character based
 windowing interface, while the text frontend uses a more traditional plain
 text interface, and the gnome frontend is a modern X interface. The editor
 frontend lets you configure things using your favorite text editor.  The
 noninteractive frontend never asks you any questions. The dialog frontend
 is a primitive frontend that is being phased out.
Description-sv: Vilket skal skall användas för att konfigurera paket?
 Paket som använder debconf för konfigurering delar ett gemensamt utseende.
 Du kan välja vilken sorts användargränssnitt de skall använda.
 .
 Slang-skalet ger en färgfullt, helskärms, teckenbaserat fönstergränssnitt,
 medan textskalet använder ett mer traditionellt gränssnitt med ren text
 och Gnomeskalet är ett modernt X-gränssnitt. Textbehandlarskalet låter
 dig konfigurera saker med din favorittextbehandlare. Det ickeinteraktiva
 skalet frågar dig aldrig någonting. Dialogskalet är ett primitivt skal
 som är på väg att fasas ut.
</pre>

<p>
Översättare sänder sedan denna översatta
<code>debconf.templates.sv</code> till den ansvariga för Debianpaketet.
</p>

<p>
Den paketansvariga lägger denna <code>debconf.templates.sv</code>-fil i
katalogen <code>debian/</code>.
Eftersom han använder <code>dh_installdebconf</code> i
<code>debian/rules</code> behövde han inte göra något särskilt för att slå
ihop mallarna.
Hopslagning av mallar görs automatiskt av <code>dh_installdebconf</code> när
binärpaketet byggs.
</p>

<p>
Några veckor sedan gör den paketansvariga färdigt arbetet på sina nya skal,
och måste ändra <code>debconf.templates</code>:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Dialog, Readline, Gnome, Editor, Noninteractive
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The dialog frontend is a full-screen, character based interface, while the
 readline frontend uses a more traditional plain text interface, and the gnome
 frontend is a modern X interface. The editor frontend lets you configure
 things using your favorite text editor. The noninteractive frontend never
 asks you any questions.
</pre>

<p>
Men eftersom han inte talar franska kan han inte också uppdatera
<code>debconf.templates.sv</code>, men bestämmer sig ändå för att sända in
en ny version av paketet.
</p>

<p>
Eftersom han som tur var skrev mallfilerna <i>på rätt sätt</i> syns denna
icke-överensstämmelse mellan texterna på
<a href="sv">http://www.debian.org/intl/l10n/templates/sv</a>
eftersom en sträng markerats som <b>luddig</b> i paketet.
Några dagar senare upptäcker en av de svenska översättarna denna luddiga
sträng och vill rätta den.
Han hämtar först den nya <code>debconf.templates</code>-filen och kör sedan:
</p>

<pre>$ debconf-getlang --stats debconf.templates debconf.templates.sv 
sv: 2 fuzzy translations</pre>

<p>
för att bekräfta att översättningen ej längre är à jour.
</p>

<p>
Översättaren måste översätta filen <code>debconf.templates.sv</code>
på nytt och kommer jobba på en temporär fil <code>new.sv</code> som
genereras av:
</p>

<pre>$ debconf-getlang sv debconf.templates debconf.templates.sv &gt; new.sv</pre>

<p>
Filen <code>new.sv</code> ser ut så här:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Dialog, Readline, Gnome, Editor, Noninteractive
<b>Choices-sv</b>:
<b>Choices-sv-fuzzy</b>: Slang, Text, Textbehandlare, Dialog, Gnome, Ickeinteraktiv
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The dialog frontend is a full-screen, character based interface, while the
 readline frontend uses a more traditional plain text interface, and the
 gnome frontend is a modern X interface. The editor frontend lets you
 configure things using your favorite text editor. The noninteractive
 frontend never asks you any questions.
<b>Description-sv</b>:
<b>Description-sv-fuzzy</b>: Vilket skal skall användas för att konfigurera paket?
 Paket som använder debconf för konfigurering delar ett gemensamt utseende.
 Du kan välja vilken sorts användargränssnitt de skall använda.
 .
 Slang-skalet ger en färgfullt, helskärms, teckenbaserat fönstergränssnitt,
 medan textskalet använder ett mer traditionellt gränssnitt med ren text
 och Gnomeskalet är ett modernt X-gränssnitt. Textbehandlarskalet låter
 dig konfigurera saker med din favorittextbehandlare. Det ickeinteraktiva
 skalet frågar dig aldrig någonting. Dialogskalet är ett primitivt skal
 som är på väg att fasas ut.
</pre>

<p>
De luddiga fälten är lätta att upptäcka, och översättaren gör snabbt klar
<code>new.sv</code>:
</p>

<pre>
Template: debconf/frontend
Type: select
Choices: Dialog, Readline, Gnome, Editor, Noninteractive
Choices-sv: Dialog, Readline, Gnome, Textredigerare, Icke-interaktiv
Default: Dialog
Description: What interface should be used for configuring packages?
 Packages that use debconf for configuration share a common look and feel.
 You can select the type of user interface they use.
 .
 The dialog frontend is a full-screen, character based interface, while the
 readline frontend uses a more traditional plain text interface, and the
 gnome frontend is a modern X interface. The editor frontend lets you
 configure things using your favorite text editor. The noninteractive
 frontend never asks you any questions.
Description-sv: Vilket skal skall användas för att konfigurera paket?
 Paket som använder debconf för konfigurering delar ett gemensamt utseende.
 Du kan välja vilken sorts användargränssnitt de skall använda.
 .
 Dialogskalet är ett textbaserat fullskärmsgränssnitt, medan
 readline-skalet använder ett mer traditionellt ren text-gränssnitt, och
 Gnome-skalet är ett modernt X-gränssnitt. Textredigeringsskalet låter dig
 konfigurera saker med ditt favorittextredigeringsprogram. Det
 icke-interaktiva skalet ställer aldrig några frågor till dig.
</pre>

<p>
Översättaren bytte sedan namn på filen till
<code>debconf.templates.sv</code> och sände den till den paketansvariga, som
ersatte den tidigare <code>debian/debconf.templates.sv</code>-filen med
denna uppdatering.
</p>

